with detail = 1 {
    with link = "line.fr.340" {
        track(:first :double :cat:ac25 :pax, path("d1.fr.340")[:man, :lha]);
    }

    with link = "line.fr.341.116" {
        let he = path("d1.fr.341.116");

        track(:first :cat:ac25, he[:har.ye, :xa]);
        track(:first :double :cat:ac25, he[:xa, :xb]);
        track(:first :double, he[:xb, :xc]);
        track(:first, he[:xc, :f]);
    }

    with link = "line.fr.341.300" {
        let hm = path("d1.fr.341.300");

        track(:first :cat:ac25, hm[:har.ym, :xa]);
        track(:first, hm[:xa, :f]);
    }

    with link = "line.fr.341.315" {
        track(:first :cat:ac25, path("d1.fr.341.315")[:yr, :xa]);
    }

    with link = "line.fr.342" {
        let gp = path("d1.fr.342");

        track(:first :removed, gp[:gis.yp, :etr]);
        track(:first, gp[:etr, :pon.yg]);
    }

    with link = "line.fr.343" {
        track(:first :removed, path("d1.fr.343")[:spi.ya, :lan]);
    }

    with link = "line.fr.344" {
        track(:first :removed, path("d1.fr.344")[:cha.ys, :ser.yr]);
    }

    with link = "line.fr.347" {
        track(:first :removed, path("d1.fr.347")[:cha.yn, :mag]);
    }

    with link = "line.fr.348" {
        track(:first :removed, path("d1.fr.348")[:cha.ys, :mar]);
    }

    with link = "line.fr.349" {
        track(:first :removed, path("d1.fr.349")[:mon.ys, :ssa]);
    }
}

