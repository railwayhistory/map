with detail = 1 {
    with link = "line.fr.660" {
        track(:first :pax, path("d1.fr.660")[:bay.yp, :sje]);
    }

    with link = "line.fr.661" {
        track(:first :closed, path("d1.fr.661")[:oss.ye, :set]);
    }

    with link = "line.fr.662" {
        track(:first :removed, path("d1.fr.662")[:puy.ym, :mau]);
    }

    with link = "line.fr.663" {
        track(:first :removed, path("d1.fr.663")[:aut.yp, :spa]);
    }

    with link = "line.fr.664" {
        let pc = path("d1.fr.664");

        track(:first :pax, pc[:pau.yc, :bed]);
        track(:first :closed, pc[:bed, :caf]);
    }

    with link = "line.fr.665" {
        track(:first :removed, path("d1.fr.665")[:buz.yl, :lar]);
    }

    with link = "line.fr.666" {
        track(:first :removed, path("d1.fr.666")[:lou.yp, :pie]);
    }

    with link = "line.fr.667" {
        let la = path("d1.fr.667");

        track(:first, la[:lan.ya, :lab]);
        track(:first :closed, la[:lab, :sar]);
        track(:first :removed, la[:sar, :arr]);
    }

    with link = "line.fr.668" {
        track(:first :pax, path("d1.fr.668")[:mon.yl, :luc]);
    }

    with link = "line.fr.669" {
        track(:first :narrow:g1000 :rail:rc85 :pax,
                path("d1.fr.669")[:vil, :lat.yv]
        );
    }
}

