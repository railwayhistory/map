# DE 9100
#
with detail = 2 {
    let niedag = path("simple.de.9100");

    with link = "line.de.9100" {
        track(:third :open, niedag[:nie, :dam]);

        track(:guide,
                niedag[:nie + 7.6km] >> 0.5dt
            --  niedag[:nie + 7.6km] >> 4dt
        );
        label(niedag[:nie + 7.6km] >> 4.5dt,
            hbox(:center:bottom :badgesize, "9100")
        );
    }

    with link = "point.de.Dagebüll-Mole" {
        with layer = 1 marker(:statdot, niedag[:dam]);
        label(niedag[:dam] - (1.5dt, 0dt),
            hbox(:right:middle :small, "Dagebüll Mole")
        );
    }
}


# DE 9101
#
with detail = 2 {
    let slasat = path("simple.de.9101");

    with link = "line.de.9101" {
        with layer = -1 track(:third :removed, slasat[:klo, :sat.x]);

        with layer = 1 line_badge(:removed, slasat[:sat - 9.0km], "9101");
    }
}


# DE 9102
#
with detail = 2 {
    let slakap = path("simple.de.9102");

    with link = "line.de.9102" {
        with layer = -1 track(:third :removed, slakap[:sla, :sud.a]);
        track(:third :open, slakap[:sud.f, :kap]);

        with layer = 1 line_badge(
            :removed, slakap[:sla + 9.5km] << 0.7dt, "9102"
        );
        with layer = 1 line_badge(
            :open, slakap[:sud + 7.2km], "9102"
        );
    }

    with link = "point.de.Kappeln-Schlei" {
        with layer = 1 marker(:statdot, slakap[:kap]);
        slabel(:right, slakap[:kap] + (1.8dt, -0.8dt),
            hbox(:left:base, "Kappeln ", span(:light, "(Schlei)"))
        );
    }
}


# DE 9103
#
with detail = 2 {
    let slefri = path("simple.de.9103");

    with link = "line.de.9103" {
        with layer = -2 track(:third :removed, slefri[:sle, :fri]);

        with layer = -1 line_badge(:removed, slefri[:sle + 19.0km], "9103");
        with layer = -1 line_badge(:removed, slefri[:fri - 5.0km], "▸03");
    }

    with link = "point.de.Friedrichstadt-Kreisb" {
        with layer = -1 marker(:statdot :removed, slefri[:fri]);
    }
}


# DE 9104
#
with detail = 2 {
    let neusus = path("simple.de.9104");

    with link = "line.de.9104" {
        track(:second :open, neusus[:nwi.f, :sus]);

        with layer = 1 line_badge(:open, neusus[:nwi + 4.5km], "9104");
    }

    with link = "point.de.Kiel-Schusterkrug" {
        with layer = 1 marker(:statdot, neusus[:sus]);
    }
}


# DE 9105
#
with detail = 2 {
    let sucsee = path("simple.de.9105");

    with link = "line.de.9105" {
        track(:third :open, sucsee[:suc.f, :see]);
    }

    with link = "point.de.Kiel-Scheerhafen" {
        with layer = 1 marker(:statdot, sucsee[:see]);
    }
}


# DE 9106
#
with detail = 2 {
    with link = "line.de.9106" {
        track(:anschl :open, path("simple.de.9106")[:kie.ko, :f]);
    }
}


# DE 9107
#
with detail = 2 {
    let kieson = path("simple.de.9107");

    with link = "line.de.9107" {
        track(:third :open, kieson[:kss, :son]);

        with layer = 1 line_badge(:open, kieson[:son - 7.5km] << 0.5dt, "9107");
    }

    with link = "point.de.Oppendorf" {
        with layer = 1 marker(:statdot, kieson[:opp]);
    }

    with link = "point.de.Schönberg-Holst" {
        with layer = 1 marker(:statdot, kieson[:son]);
        label(kieson[:son] + (-0.5dt, 1.0dt),
            hbox(:left:top :small,
                hbox(:left:base,
                    "Schönberg ", span(:light, "(Holst)")
                )
            )
        );
    }
}


# DE 9108
#
with detail = 2 {
    let sonsos = path("simple.de.9108");

    with link = "line.de.9108" {
        track(:third :open, sonsos[:son, :sos]);

        track(:guide,
                sonsos[:son + 1.8km] << 0.5dt
            --  sonsos[:son + 1.8km] << 3dt
        );
        label(sonsos[:son + 1.8km] << 3.8dt,
            hbox(:right:middle :badgesize, "9108")
        );
    }

    with link = "point.de.Schönberger-Strand" {
        with layer = 1 marker(:statdot, sonsos[:sos]);
        slabel(:top, sonsos[:sos] - (0dt, 1.5dt), "Schönberger Strand");
    }
}


# DE 9110
#
with detail = 2 {
    let lunble = path("simple.de.9110");

    with link = "line.de.9110" {
        track(:third, lunble[:lun.ff, :ble]);

        with layer = 1 line_badge(:open, lunble[:ble - 12.5km], "9110");
    }

    with link = "point.de.Bleckede" {
        with layer = 1 marker(:statdot, lunble[:ble]);
        slabel(:right, lunble[:ble] << 1.5dt, "Bleckede");
    }
}


# DE 9111
#
with detail = 2 {
    let lunsol = path("simple.de.9111");

    with link = "line.de.9111" {
        track(:third, lunsol[:lun.a, :sol.aa]);

        with layer = 1 line_badge(:open, lunsol[:hut - 10.6km], "9111");
        with layer = 1 line_badge(:open, lunsol[:hut + 12.0km], "9111");
    }

    with link = "point.de.Hützel-Lüneb" {
        with layer = 1 marker(:statdot, lunsol[:hut]);
        slabel(:left, lunsol[:hut] >> 1.5dt,
            hbox(:right:base, "Hützel ", span(:light, "(Lüneb)"))
        );
    }
}


# DE 9112
#
with detail = 2 {
    let winhut = path("simple.de.9112");

    with link = "line.de.9112" {
        track(:third, winhut[:win.aa, :hut.a]);

        with layer = 1 line_badge(:open, winhut[:hut - 10.5km], "9112");
    }

    with link = "point.de.Wulfsen-Nord" {
        with layer = 1 marker(:statdot, winhut[:wun]);
        slabel(:right, winhut[:wun - 1dt] << 1.5dt, "Wulfsen");
    }
}


# DE 9113
#
with detail = 2 {
    let winnie = path("simple.de.9113");

    with link = "line.de.9113" {
        track(:third, winnie[:win.a, :nie]);

        with layer = 1 line_badge(:open, winnie[:nie - 8.5km], "9113");
    }

    with link = "point.de.Niedermarschacht" {
        with layer = 1 marker(:statdot, winnie[:nie]);
        slabel(:right, winnie[:nie] + (1.5dt, 0.8dt), "Niedermarschacht");
    }
}


# DE 9120.  Elmshorn - Bad Oldesloe
with detail = 2 {
    let elmold = path("simple.de.9120");

    with link = "line.de.9120" {
        track(:third, elmold[:elm.ff, :ulz.f]);
        with layer = 1 line_badge(:open, elmold[:elm.ff + 12km], "9120");

        with layer = -1 track(:third :removed, elmold[:ulz.a, :old.f]);
        with layer = 1 line_badge(:removed, elmold[:ulz.a + 12km], "9120");
    }
}


# DE 9121.  Hamburg-Altona AKN - Neumünster Süd
with detail = 2 {
    let altneu = path("simple.de.9121");

    with link = "line.de.9121" {
        track(:second, altneu[:eid.a, :nes.f]);
        with layer = 1 line_badge(:open, altneu[:eid.a + 12.5km], "9121");
        with layer = 1 line_badge(:open, altneu[:nes.f - 11km], "9121");
    }

    with link = "point.de.Ulzburg-Süd" {
        with layer = 1 marker(:statdot, altneu[:uls]);
        slabel(:left, altneu[:uls] + (-2dt, 1dt), "Ulzburg Süd");
    }

    with link = "point.de.Henstedt-Ulzburg" {
        with layer = 1 marker(:statdot, altneu[:ulz]);
        slabel(:right, altneu[:ulz] + (2dt, -0.5dt),
            vbox(:left:bottom, "Henstedt-", "Ulzburg")
        );
    }
}


# DE 9122.  Ochsenzoll - Ulzburg Süd
with detail = 2 {
    let ochulz = path("simple.de.9122");

    with link = "line.de.9122" {
        with style = :tram track(:second, ochulz[:och, :nom]);
        track(:second, ochulz[:nom, :uls.a]);
        with layer = 1 line_badge(:open, ochulz[:nom + 3.6km] << 0.3dt, "9122");
    }

    with link = "point.de.Norderstedt-Mitte" {
        with layer = 1 marker(:statdot, ochulz[:nom]);
    }
}


# DE 9123.  Hamburg-Bergedorf Gbf - Geesthacht
with detail = 2 {
    let bergee = path("simple.de.9123");

    with link = "line.de.9123" {
        track(:third, bergee[:beg.a, :gee]);
        with layer = 1 line_badge(:open, bergee[:beg.a + 8km], "9123");
    }

    with link = "point.de.Geesthacht" {
        with layer = 1 marker(:statdot, bergee[:gee]);
        slabel(:right, bergee[:gee] + (1.5dt, 0.8dt), "Geesthacht");
    }
}


# DE 9124.  Hamburg-Bergedorf Süd - Zollenspieker
with detail = 2 {
    let berzol = path("simple.de.9124");

    with link = "line.de.9124" {
        with layer = -1 track(:third :removed, berzol[:ber.f, :zol]);
        with layer = 1 line_badge(:removed, berzol[:ber.f + 5km], "9124");
    }

    with link = "point.de.Zollenspieker" {
        with layer = 1 marker(:statdot :removed, berzol[:zol]);
        slabel(:right :removed, berzol[:zol] + (-2dt, 3.8dt), "Zollenspieker");
    }
}



# DE 9125.  Hamburg-Rothenburgsort SStK - Trittau
with detail = 2 {
    let rottri = path("simple.de.9125");

    with link = "line.de.9125" {
        track(:third, rottri[:tie, :gli]);

        with layer = -1 track(:third :removed, rottri[:gli, :tri.f]);
        with layer = 1 line_badge(:removed, rottri[:gli + 9km], "9125");
    }

    with link = "point.de.Hamburg-Billbrook" {
        with layer = 1 marker(:statdot, rottri[:bil]);
    }

    with link = "point.de.Glinde" {
        with layer = 1 marker(:statdot, rottri[:gli]);
        slabel(:right, rottri[:gli] + (1.8dt, 0.8dt), "Glinde");
    }
}


# DE 9126.  Zollenspieker Querweg - Hamburg-Billbrook
with detail = 2 {
    let zolbil = path("simple.de.9126");

    with link = "line.de.9126" {
        with layer = -1 track(:third :removed, zolbil[:zol.a, :bil.f]);
        with layer = 1 line_badge(:removed, zolbil[:zol.a + 7.5km], "9126");
    }
}


# DE 9127.  Wilstedt - Tostedt
with detail = 2 {
    let wito = path("simple.de.9127");

    with link = "line.de.9127" {
        with layer = -1 track(:third :closed, wito[:wil, :zev.a]);
        with layer = 1 line_badge(:closed, wito[:wil + 9km], "9127");

        track(:third, wito[:zev.f, :tos.a]);
        with layer = 1 line_badge(:open, wito[:zev + 16km], "9127");
    }

    with link = "point.de.Wilstedt" {
        with layer = 1 marker(:statdot :closed, wito[:wil]);
        slabel(:right :closed, wito[:wil] + (-2dt, 4dt), "Wilstedt");
    }
}


# DE 9128.  Buxtehude Süd - Harsefeld Süd
with detail = 2 {
    let buha = path("simple.de.9128");

    with link = "line.de.9128" {
        track(:third, buha[:bux.f, :har.f]);
        with layer = 1 line_badge(:open, buha[:har.f - 4.5km], "9128");
    }
}


# DE 9129.  Tornesch - Uetersen Stadt
with detail = 2 {
    let toue = path("simple.de.9129");

    with link = "line.de.9129" {
        track(:third, toue[:tor, :uet]);
        with layer = -1 track(:third :removed, toue[:uet, :ues]);

        track(:guide,
                toue[:uet - 1.5km] >> 0.7dt
            --  toue[:uet - 1.5km] >> 3.2dt
        );
        label(toue[:uet - 1.5km] >> 3.2dt,
            hbox(:right:middle :badgesize, "9129 ")
        );
    }

    with link = "point.de.Uetersen" {
        with layer = 1 marker(:statdot, toue[:uet]);
        slabel(:bottom, toue[:uet] + (-1dt, 1dt), "Uetersen");
    }

    with link = "point.de.Uetersen-Stadt" {
        with layer = 1 marker(:statdot :removed, toue[:ues]);
    }
}

