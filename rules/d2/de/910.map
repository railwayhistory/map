# Detail Level 2.
#
let altkie = path("path.de.1220");
let eckows = path("path.de.91037");
let elmnie = path("path.de.1210");
let flekap = path("path.de.91011");
let flerun = path("path.de.91012");
let hasfle = path("path.de.1020");
let horwes = path("path.de.91004");
let horwls = path("path.de.91005");
let kapeck = path("path.de.91034");
let kkosee = path("path.de.9106");
let munwes = path("path.de.91003");
let neufle = path("path.de.1040");
let neusus = path("path.de.9104");
let niedag = path("path.de.9100");
let renren = path("path.de.91022");
let rensen = path("path.de.91021");
let slakap = path("path.de.9102");
let slasat = path("path.de.9101");
let slefri = path("path.de.9103");
let sucsee = path("path.de.9105");
let weslis = path("path.de.91006");

with detail = 2 {
    # DE 9100.
    track(:third :open,
            elmnie[:nie, :nie - 0.1dl]
        ..  niedag[:nis, :f]
    );

    # DE 91003.
    track(:third :narrow :removed,
            munwes[:a, :flis.aa]
        ..  weslis[:amun, :amun + .1dl]
    );

    # DE 91004.
    track(:third :narrow :removed,
        horwes[:a, :ff] .. weslis[:wes - 0.1dl, :wes]
    );

    # DE 91005.
    track(:third :narrow :removed,
            horwes[:weg - 0.1dl, :weg] ..  horwls[:a, :f]
    );

    # DE 91006.
    track(:third :narrow :removed, weslis[:wes, :f]);

    # DE 9101.
    track(:third :removed,
            slakap[:klo, :klo + .1dl]
        ..  slasat[:a - 0.1dl, :f]
        ..  flerun[:asle, :asle + .1dl]
    );

    # DE 91011.
    track(:third :narrow :removed, flekap[:a, :kap]);

    # DE 91012.
    track(:third :narrow :removed,
            flekap[:asat - 0.1dl, :asat]
        ..  flerun[:fru, :ff]
        ..  flekap[:fsat, :fsat + 0.1dl]
    );

    # DE 9102.
    with layer = -1 track(:third :removed, slakap[:sla, :fhas]);
    track(:third :open, slakap[:sud.sn, :kap]);

    # DE 91021.
    track(:third :narrow :removed, rensen[:a, :hoh.r]);
    track(:third :narrow :removed,
            rensen[:fsen, :fsen - 0.1dl]
        ..  rensen[:hoh.ff, :sen]
    );

    # DE 91022.
    track(:station :removed,
            rensen[:a + 1.5ssw, :a + 1.51ssw]
        ..  renren[:ff - 0.1dl, :ff]
        ..  neufle[:fgla - 0.1dl, :fgla]
    );

    # DE 9103.
    with layer = -1 track(:third :removed,
            neufle[:asla, :asla - 0.1dl] >> 0.5dt
        ..  slefri[:sle.ff, :fri]
    );

    # DE 91034.
    with layer = -1 track(:second :narrow :removed, kapeck[:kap, :eck]);

    # DE 91037.
    with layer = -1 track(:third :narrow :removed, eckows[:aa, :ff]);

    with link = "line.de.9104" {
        track(:second :open,
                hasfle[:asus - 0.1dl, :asus]
            ..  neusus[:aa, :sus]
        );
    }

    with link = "line.de.9105" {
        track(:third :open,
                hasfle[:awik, :awik + 0.1dl]
            ..  sucsee[:a, :f]
        );
    }

    with link = "line.de.9106" {
        track(:second :open,
                altkie[:kie.ko - 1.1dl, :kie.ko - 1.0dl]
            ..  kkosee[:aa, :f]
        );
    }

    with link = "line.de.9107" {
        track(:third :open, path("path.de.9107")[:kss, :son]);
    }

    with link = "line.de.91071" {
        track(:third :open, path("path.de.91071")[:opp, :ost]);
    }

    with link = "line.de.9108" {
        track(:third :open, path("path.de.9108")[:son, :sos]);
    }

    with link = "line.de.91085" {
        with layer = -1 track(:third :removed,
            path("path.de.91085")[:kss, :sew]
        );
    }

    with link = "line.de.91087" {
        with layer = -1 track(:third :removed,
            path("path.de.91087")[:kib, :lut]
        );
    }

}

