

# DE A05
#
with detail = 2 {
    let husflw = path("simple.de.A05");

    with link = "line.de.A05" {
        with layer = -1 track(:second :removed, husflw[:hus.aa, :flw.r]);

        with layer = 1 line_badge(:removed, husflw[:low - 6.0km], "A05");
        with layer = 1 line_badge(:removed, husflw[:low + 14.0km], "A05");
    }

    with link = "point.de.Löwenstedt" {
        with layer = 1 marker(:statdot :removed, husflw[:low]);
        slabel(:right :removed, husflw[:low - 0.5dt] >> 1.2dt, "Löwenstedt");
    }
}


# DE A06
#
with detail = 2 {
    let brelow = path("simple.de.A06");

    with link = "line.de.A06" {
        with layer = -1 track(:second :removed, brelow[:bre.a, :low.f]);

        with layer = 1 line_badge(:removed, brelow[:low - 6.0km], "A06");
    }
}


# DE A10
#
with detail = 2 {
    let ohrklo = path("simple.de.A10");

    with link = "line.de.A10" {
        with layer = -2 track(:first :gone, ohrklo[:klo, :ohr]);
        with layer = -1 line_badge(:gone, ohrklo[:ohr + 12.0km], "A10");
    }
}


# DE A11
#
with detail = 2 {
    let klosla = path("simple.de.A11");

    with link = "line.de.A11" {
        with layer = -2 track(:first :gone, klosla[:klo.a, :sle.ff]);
    }

    with link = "point.de.Klosterkrug" {
        with layer = -1 marker(:statdot :gone, klosla[:klo]);
        label(klosla[:klo] + (2dt, 0dt),
            hbox(:left:middle :small :gone, "Klosterkrug")
        );
    }
}


# DE A12
#
with detail = 2 {
    let eggsog = path("simple.de.A12");

    with link = "line.de.A12" {
        with layer = -1 track(:first :gone, eggsog[:egg, :sog]);
        with layer = 1 line_badge(:gone, eggsog[:egg + 5.5km], "A12");
    }
}


# DE A15
#
with detail = 2 {
    let huston = path("simple.de.A15");

    with link = "line.de.A15" {
        with layer = -2 track(:second :gone, huston[:hus.f, :pls]);

        track(:guide :gone,
                huston[:pls - 3.0km] >> 0.5dt
            --  huston[:pls - 3.0km] >> 3.0dt
        );
        label(huston[:pls - 3.0km] >> 3.5dt,
            hbox(:right:middle :badgesize :gone, "A15")
        );
    }
}


# DE A20
#
with detail = 2 {
    with link = "line.de.A20" {
        with layer = -1 track(:first :gone,
            path("simple.de.A20")[:oro.f, :ren.a]
        );
    }
}


# DE A21
#
with detail = 2 {
    with link = "line.de.A21" {
        with layer = -1 track(:first :gone,
            path("simple.de.A21")[:sul, :ora]
        );
    }
}


# DE A32
#
with detail = 2 {
    let luthei = path("simple.de.a32.hei");

    with link = "line.de.A32" {
        with layer = -1 track(:second :removed, luthei[:lus, :hei]);
    }

    with link = "point.de.Lütjenbrode" {
        with layer = 1 marker(:statdot :removed, luthei[:lut]);
        label(luthei[:lut] + (-1.0dt, 0.5dt),
            hbox(:right:top :small :removed, "Lütjenbrode")
        );
    }

    with link = "point.de.Heiligenhafen" {
        with layer = 1 marker(:statdot :removed, luthei[:hei]);
        slabel(:top :removed, luthei[:hei] >> 2.0dt, "Heiligenhafen");
    }
}


# DE A34
#
with detail = 2 {
    let lutgrf = path("simple.de.A34");

    with link = "line.de.A34" {
        with layer = -2 track(:second :removed, lutgrf[:lut, :luo]);
        with layer = -2 track(:second :removed, lutgrf[:gbr.f, :grf]);
    }

    with link = "point.de.Großenbroder-Fähre" {
        with layer = -1 marker(:statdot :removed, lutgrf[:grf]);
        label(lutgrf[:grf] + (1.5dt, 0dt),
            hbox(:left:middle :small :removed, "Großenbroder Fähre")
        );
    }
}


# DE A35
#
with detail = 2 {
    let grogrk = path("simple.de.A35");

    with link = "line.de.A35" {
        with layer = -2 track(:first :removed, grogrk[:gbr.a, :grk]);
    }

    with link = "point.de.Großenbrode-Kai" {
        with layer = -1 marker(:statdot :removed, grogrk[:grk]);
    }
}


# DE A40
#
with detail = 2 {
    let luabuc = path("simple.de.A40");

    with link = "line.de.A40" {
        with layer = -2 track(:first :gone, luabuc[:lua.a, :mon]);
    }

    with link = "point.de.Lübeck-alter-Bf" {
        with layer = -1 marker(:statdot :gone, luabuc[:lua]);
    }
}


# DE A41
#
with detail = 2 {
    with link = "line.de.A41" {
        with layer = -2 track(:first:gone,
            path("simple.de.A41")[:lua.f, :nie]
        );
    }
}


# DE A43
#
with detail = 2 {
    with link = "line.de.A43" {
        with layer = -2 track(:first :gone,
            path("simple.de.A43")[:lua.f, :flua]
        );
    }
}


# DE A50
#
with detail = 2 {
    let holmol = path("simple.de.A50");

    with link = "line.de.A50" {
        with layer = -1 track(:second :removed, holmol[:hol, :mol]);
        with layer = 1 line_badge(:removed, holmol[:mol - 4.5km], "A50");
    }
}


# DE A51
#
with detail = 2 {
    with link = "line.de.A51" {
        with layer = -2 track(:second :closed,
                path("simple.de.A51")[:ech.f, :ufe]
        );
    }
}


# DE A62
#
with detail = 2 {
    let wilsmi = path("simple.de.A62");

    with link = "line.de.A62" {
        with layer = -2 track(:first :gone, wilsmi[:smg, :blg]);

        track(:guide :gone,
                wilsmi[:smg + 1.5km] >> 0.5dt
            --  wilsmi[:smg + 1.5km] >> 3.0dt
        );
        label(wilsmi[:smg + 1.5km] >> 3.0dt,
            hbox(:center:bottom :badgesize :gone, "A62")
        );
    }
}


# DE A67
#
with detail = 2 {
    let krmnfe = path("simple.de.A67");

    with link = "line.de.A67" {
        with layer = -2 track(:second :removed, krmnfe[:krm.a, :nfe]);

        track(:guide :removed,
                krmnfe[:nfe - 4.0km] >> 0.5dt
            --  krmnfe[:nfe - 4.0km] >> 3.0dt
        );
        label(krmnfe[:nfe - 4.0km] >> 3.5dt,
            hbox(:right:middle :badgesize :removed, "A67")
        );
    }

    with link = "point.de.Neufelderkoog-II" {
        with layer = -1 marker(:statdot :removed, krmnfe[:nfe]);
        slabel(:bottom :removed, krmnfe[:nfe] + (0dt, 1.0dt),
            "Neufelderkoog II"
        );
    }
}


# DE A68
#
with detail = 2 {
    let krnnor = path("simple.de.A68");

    with link = "line.de.A68" {
        with layer = -2 track(:second :removed, krnnor[:krn, :nor]);
    }

    with link = "point.de.Norderfleth" {
        with layer = -1 marker(:statdot :removed, krnnor[:nor]);
        label(krnnor[:nor] + (1.5dt, 1.0dt),
            vbox(:left:bottom :small :removed, "Norder-", "fleth")
        );
    }
}


# DE AB1
#
with detail = 2 {
    let dahbra = path("simple.de.AB1.1");
    let braech = path("simple.de.AB1.2");

    with link = "line.de.AB1" {
        with layer = -1 track(:third :removed, dahbra[:dah.a, :bra]);
        with layer = -1 track(:third :removed, braech[:bra.a, :ech]);

        with layer = 1 line_badge(
            :removed, dahbra[:dah + 15.0km] << 0.2dt, "AB1"
        );
        with layer = 1 line_badge(
            :removed, braech[:bra + 10.0km] @ 10 << 0.5dt, "AB1"
        );
    }

    with link = "point.de.Carze-Anschlbf" {
        with layer = 1 marker(:statdot :removed, dahbra[:caa]);
        slabel(:right :removed, dahbra[:caa - 1dt] >> 1.5dt, "Carze Anschlbf");
    }
}


# DE AB2
#
with detail = 2 {
    let luncaa = path("simple.de.AB2");

    with link = "line.de.AB2" {
        with layer = -1 track(:third :removed, luncaa[:neg, :caa]);

        track(:guide :removed,
                luncaa[:neg + 2.0km] << 0.5dt
            --  luncaa[:neg + 2.0km] << 3.0dt
        );
        label(luncaa[:neg + 2.0km] << 3.5dt,
            hbox(:right:middle :badgesize :removed, "AB2")
        );
    }
}


# DE AD1.  Stade - Itzwörden
with detail = 2 {
    let stit = path("simple.de.ad1");

    with link = "line.de.AD1" {
        with layer = -1 track(:third :removed, stit[:sta, :itz]);
        with layer = 1 line_badge(:removed, stit[:sta + 22km], "AD1");
    }

    with link = "point.de.Itzwörden" {
        with layer = 1 marker(:statdot :removed, stit[:itz]);
        slabel(:right :removed, stit[:itz] + (-2dt, 3.5dt), "Itzwörden");
    }
}


# DE AE1
#
with detail = 2 {
    let kapeck = path("simple.de.AE1");

    with link = "line.de.AE1" {
        with layer = -1 track(:second :narrow :removed, kapeck[:kap, :ecs.f]);

        with layer = 0 line_badge(
            :removed, kapeck[:kap + 10.2km] << 0.5dt, "AE1"
        );
    }
}


# DE AE2
#
with detail = 2 {
    let eckows = path("simple.de.AE2");

    with link = "line.de.AE2" {
        with layer = -1 track(:third :narrow :removed, eckows[:ecs.f, :owk]);

        with layer = 0 line_badge(
            :removed, eckows[:ecs + 8.3km] << 0.5dt, "AE2"
        );
    }
}


# DE AF1
#
with detail = 2 {
    let flekap = path("simple.de.AF1");

    with link = "line.de.AF1" {
        with layer = -1 track(:third :narrow :removed, flekap[:flk, :kap]);

        with layer = 1 line_badge(:removed, flekap[:glu + 5.5km], "AF1");
        with layer = 1 line_badge(:removed, flekap[:run + 4.4km], "AF1");
    }

    with link = "point.de.Glücksburg" {
        with layer = 1 marker(:statdot :removed, flekap[:glu]);
        slabel(:top :removed, flekap[:glu] - (0dt, 1.0dt), "Glücksburg");
    }

    with link = "point.de.Rundhof" {
        with layer = 1 marker(:statdot :removed, flekap[:run]);
        label(flekap[:run] + (-0.5dt, 1.0dt),
            hbox(:left:top :small :removed, "Rundhof")
        );
    }
}


# DE AF2
#
with detail = 2 {
    let flerun = path("simple.de.AF2");

    with link = "line.de.AF2" {
        with layer = -1 track(:third:narrow :removed, flerun[:flk.ff, :run.a]);

        with layer = 1 line_badge(:removed, flerun[:sat - 3.5km], "AF2");
        with layer = 1 line_badge(:removed, flerun[:run - 5.5km], "AF2");
    }

    with link = "point.de.Satrup-Angeln-Flensb" {
        with layer = 1 marker(:statdot :removed, flerun[:sat]);
        label(flerun[:sat] + (0dt, 1.2km),
            hbox(:left:top,
                vbox(:left:top:small :removed,
                    "Satrup",
                    span(:light, " (Angeln)")
                )
            )
        );
    }
}


# DE AH1.  Heide (Holst) Kreisb - Hennstedt - Pallhude
with detail = 2 {
    let hehp = path("simple.de.ah1");

    with link = "line.de.AH1" {
        with layer = -1 track(:third :removed, hehp[:hei.f, :pal]);
        with layer = 1 line_badge(:removed, hehp[:pal - 7.7km], "AH1");
    }

    with link = "point.de.Pahlhude" {
        with layer = 1 marker(:statdot :removed, hehp[:pal]);
        slabel(:right :removed, hehp[:pal] + (1.8dt, 0.3dt), "Pahlhude");
    }
}


# DE AH2.  Heide (Holst) Kreisb - Tellingstedt - Pallhude
with detail = 2 {
    let hetp = path("simple.de.ah2");

    with link = "line.de.AH2" {
        with layer = -1 track(:third :removed, hetp[:hei.f, :pal]);
        with layer = 1 line_badge(:removed, hetp[:pal - 14.2km], "AH2");
    }
}


# DE AK1
#
with detail = 2 {
    let kieseg = path("simple.de.AK1");

    with link = "line.de.AK1" {
        with layer = -1 track(:third :removed, kieseg[:kss, :seg.a]);
        
        with layer = 1 line_badge(:removed, kieseg[:kib - 4.5km], "AK1");
        with layer = 1 line_badge(:removed, kieseg[:seg.a - 16.5km], "AK1");
    }

    with link = "point.de.Kirchbarkau" {
        with layer = 1 marker(:statdot :removed, kieseg[:kib]);
        label(kieseg[:kib - 1dt] >> 1.2dt,
            vbox(:right:middle :small :removed,
                "Kirch-", "barkau "
            )
        );
    }
}


# DE AK2
#
with detail = 2 {
    let kirlut = path("simple.de.AK2");

    with link = "line.de.AK2" {
        with layer = -1 track(:third :removed, kirlut[:kib, :lut.a]);

        with layer = 1 line_badge(
            :removed, kirlut[:lut - 14.5km] << 0.3dt, "AK2"
        );
    }
}


# DE AL1
#
with detail = 2 {
    let lubseg = path("simple.de.AL1");

    with link = "line.de.AL1" {
        with layer = -1 track(:third :removed, lubseg[:lub.f, :seg.f]);
        with layer = 1 line_badge(:removed, lubseg[:lub + 14.0km], "AL1");
    }
}


# DE AM2.  Geesthacht - Zollenspieker Querweg
with detail = 2 {
    let gezo = path("simple.de.am2");

    with link = "line.de.AM2" {
        with layer = -1 track(:third :removed, gezo[:gee.a, :zol.a]);
        with layer = 1 line_badge(:removed, gezo[:gee.a + 6km], "AM2");
    }
}


# DE AM5.  Hamburg-Rahlstedt - Wohldorf
with detail = 2 {
    let rawo = path("simple.de.am5");

    with link = "line.de.AM5" {
        with layer = -1 track(:third :removed, rawo[:rah, :woh]);
        with layer = 1 line_badge(:removed, rawo[:woh - 4.5km], "AM5");
    }

    with link = "point.de.Wohldorf" {
        with layer = 1 marker(:statdot :removed, rawo[:woh]);
        slabel(:top :removed, rawo[:woh] + (0dt, -1dt), "Wohldorf");
    }
}


# DE AN1.  Wittdün - Norddorf Brücke
with detail = 2 {
    let wino.1 = path("simple.de.an1.1");
    let wino.2 = path("simple.de.an1.2");

    with link = "line.de.AN1" {
        with layer = -1 track(:third :removed, wino.1[:wit, :neb]);
        with layer = -1 track(:third :removed, wino.2[:neb.a, :nob]);
        with layer = 1 line_badge(:removed, wino.2[:neb.a + 2.5km], "AN1");
    }

    with link = "point.de.Wittdün-Amrum" {
        with layer = 1 marker(:statdot :removed, wino.1[:wit]);
        slabel(:right :removed, wino.1[:wit] + (1.8dt, 0.8dt),
            hbox(:left:base, "Wittdün ", span(:light, "(Amrum)"))
        );
    }

    with link = "point.de.Nebel" {
        with layer = 1 marker(:statdot :removed, wino.1[:neb]);
        slabel(:right :removed, wino.1[:neb] + (1.8dt, 0.8dt), "Nebel");
    }

    with link = "point.de.Norddorf-Brücke" {
        with layer = 1 marker(:statdot :removed, wino.2[:nob]);
        slabel(:left :removed, wino.2[:nob] + (-1.8dt, 0.8dt),
            "Norddorf Brücke"
        );
    }
}

# DE AN2.  Leuchtturm - Kniepsand
with detail = 2 {
    let lekn = path("simple.de.an2");

    with link = "line.de.AN2" {
        with layer = -1 track(:third :removed, lekn[:leu, :kni]);
    }

    with link = "point.de.Kniepsand" {
        with layer = 1 marker(:statdot :removed, lekn[:kni]);
        slabel(:left :removed, lekn[:kni] + (-1.8dt, 0.8dt), "Kniepsand");
    }
}


# DE AP1
#
with detail = 2 {
    with link = "line.de.AP1" {
        track(:third :open, path("simple.de.AP1")[:opp, :ost]);
    }
}


# DE AR1
#
with detail = 2 {
    let renhoh = path("simple.de.AR1.1");
    let hohsen = path("simple.de.AR1.2");

    with link = "line.de.AR1" {
        with layer = -1 track(:third :narrow :removed, renhoh[:ren, :hwe.f]);
        with layer = -1 track(:third :narrow :removed, hohsen[:hwe.ff, :sen]);

        with layer = 1 line_badge(:removed, renhoh[:ren + 11.8km], "AR1");
        with layer = 1 line_badge(:removed, hohsen[:sen - 6.2km], "AR1");
    }

    with link = "point.de.Rendsburg-Kreisbf" {
        with layer = 1 marker(:statdot :removed, renhoh[:ren]);
    }

    with link = "point.de.Schenefeld-Mittelholst" {
        with layer = 1 marker(:statdot :removed, hohsen[:sen]);
        slabel(:bottom :removed, hohsen[:sen] + (0dt, 1dt),
            vbox(:center:top,
                "Schenefeld", span(:light, "(Mittelholst)")
            )
        );
    }
}


# DE AS1
#
with detail = 2 {
    let munwes = path("simple.de.AS1");

    with link = "line.de.AS1" {
        with layer = -2 track(:third :narrow :removed, munwes[:mun, :wes.aa]);

        track(:guide :removed,
                munwes[:mun + 1.7km] << 0.7dt
            --  munwes[:mun + 1.0km] << 3.0dt
        );
        label(munwes[:mun + 0.5km] << 3.0dt,
            hbox(:left:middle :badgesize :removed, "AS1")
        );
    }

    with link = "point.de.Munkmarsch" {
        with layer = 1 marker(:statdot :removed, munwes[:mun]);
        label(munwes[:mun] + (1.5dt, 0dt),
            hbox(:left:middle :small :removed, "Munkmarsch")
        );
    }
}


# DE AS2
#
with detail = 2 {
    let horwes = path("simple.de.AS2");

    with link = "line.de.AS2" {
        with layer = -2 track(:third :narrow :removed, horwes[:hor, :wes]);
        with layer = -1 line_badge(:removed, horwes[:hor + 8.0km], "AS2");
    }

    with link = "point.de.Hörnum" {
        with layer = 1 marker(:statdot :removed, horwes[:hor]);
        slabel(:bottom :removed, horwes[:hor] + (0dt, 1dt), "Hörnum");
    }

    with link = "point.de.Westerland-Inselbf" {
        with layer = -1 marker(:statdot :removed, horwes[:wes]);
    }
}


# DE AS3
#
with detail = 2 {
    let horwls = path("simple.de.AS3");

    with link = "line.de.AS3" {
        with layer = -2 track(:third :narrow :removed, horwls[:wls.a, :wls]);
    }

    with link = "point.de.Westerland-Südbf" {
        with layer = -1 marker(:statdot :removed, horwls[:wls]);
    }
}


# DE AS4
#
with detail = 2 {
    let weslis = path("simple.de.AS4");

    with link = "line.de.AS4" {
        with layer = -2 track(:third :narrow :removed, weslis[:wes, :lis]);
        with layer = -1 line_badge(:removed, weslis[:wes + 4.5km], "AS4");
    }

    with link = "point.de.List" {
        with layer = -1 marker(:statdot :removed, weslis[:lis]);
        label(weslis[:lis] + (1.5dt, 0dt),
            hbox(:left:middle :small :removed, "List")
        );
    }
}


# DE AT1
#
with detail = 2 {
    let ratkth = path("simple.de.AT1");

    with link = "line.de.AT1" {
        with layer = -2 track(:third :removed, ratkth[:rat.a, :kth]);
        with layer = -1 line_badge(
            :removed, ratkth[:der + 5.0km] << 0.3dt, "AT1"
        );
    }

    with link = "point.de.Dermin" {
        with layer = 1 marker(:statdot :removed, ratkth[:der]);
        label(ratkth[:der] + (1.0dt, 0.5dt),
            hbox(:left:top :small :removed, "Dermin")
        );
    }

    with link = "point.de.Klein-Thurow" {
        with layer = 1 marker(:statdot :removed, ratkth[:kth]);
        label(ratkth[:kth] + (1.5dt, 0dt),
            hbox(:left:middle :small :removed, "Klein Thurow")
        );
    }
}


# DE AT2
#
with detail = 2 {
    let dersaa = path("simple.de.AT2");

    with link = "line.de.AT2" {
        with layer = -1 track(:third :removed, dersaa[:der.a, :saa]);
    }

    with link = "point.de.Schaalseekanal" {
        with layer = 1 marker(:statdot :removed, dersaa[:saa]);
        label(dersaa[:saa] << 1.0dt,
            hbox(:left:top :small :removed, "Schaalseekanal")
        );
    }
}


# DE AU1
#
with detail = 2 {
    let lucsma = path("simple.de.AU1");

    with link = "line.de.AU1" {
        with layer = -1 track(:third :removed, lucsma[:luc, :sma]);

        with layer = 1 line_badge(:removed, lucsma[:sma - 3.5km], "AU1");
    }

    with link = "point.de.Schmarsau-Lemgow" {
        with layer = 1 marker(:statdot :removed, lucsma[:sma]);
        label(lucsma[:sma] + (1.8dt, -0.2dt),
            hbox(:left:middle :small :removed,
                "Schmarsau ", span(:light, "(Lemgow)")
            )
        );
    }
}

