# RU KG 87.  Михайловка - Неман Узкоколе́йка
#
let micnem = path("path.ru.kg.87");

with detail = 3 {
    # point.ru.kg.Михайловка: ru.kg.86
    
    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:atja, :ruc - 1ssw]);
    }

    with link = "point.ru.kg.Rucken" {
        track(:third:station :narrower :removed,
                micnem[:ruc - 1ssw, :ruc + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:ruc]);
        slabel(:left :removed, micnem[:ruc - 0.4ssw] << 1.5dt,
            hbox(:right:base, "Rucken ", span(:light, "(Kr Ragnit)"))
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:ruc + 1ssw, :bar - 1ssw]);
    }

    with link = "point.ru.kg.Krauleidszen-Barsden" {
        track(:third:station :narrower :removed,
                micnem[:bar - 1ssw, :bar + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:bar]);
        slabel(:left :removed, micnem[:bar - 0.6ssw] << 1.5dt, "Barden");
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:bar + 1ssw, :kra - 1ssw]);
    }

    with link = "point.ru.kg.Krauleidszen" {
        track(:third:station :narrower :removed,
                micnem[:kra - 1ssw, :kra + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:kra]);
        slabel(:right :removed, micnem[:kra] + (1.6ssw, 1.0ssw), "Erlenfeld");
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kra + 1ssw, :wis - 1ssw]);
    }

    with link = "point.ru.kg.Wiswainen" {
        track(:third:station :narrower :removed,
                micnem[:wis - 1ssw, :wis + 1ssw]
        );
        marker(:de.kzst :removed :left, micnem[:wis]);
        slabel(:left :removed, micnem[:wis - 0.2ssw] << 1.6ssw,
            "Wiswainen"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:wis + 1ssw, :kwa - 1ssw]);
    }

    with link = "point.ru.kg.Klein-Wabbeln" {
        track(:third:station :narrower :removed,
                micnem[:kwa - 1ssw, :kwa + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:kwa]);
        slabel(:right :removed, micnem[:kwa - 0.3ssw] >> 2.0ssw,
            "Wabben"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kwa + 1ssw, :gwa - 1ssw]);
    }

    with link = "point.ru.kg.Groß-Wabbeln" {
        track(:third:station :narrower :removed,
                micnem[:gwa - 1ssw, :gwa + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:gwa]);
        slabel(:left :removed, micnem[:gwa - 0.5ssw] << 1.0dt,
            "Winterlinden"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:gwa + 1ssw, :and - 1ssw]);
        with layer = 1 line_badge(:removed, micnem[:gwa + 0.7km], "87");
    }

    with link = "point.ru.kg.Андреево" {
        track(:third:station :narrower :removed,
                micnem[:and - 1ssw, :and + 1ssw]
        );
        marker(:de.kzst :removed :left, micnem[:and]);
        slabel(:left :removed, micnem[:and - 0.5ssw] << 1.6ssw,
            span(:designation, "Андреево")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:and + 1ssw, :ble - 1ssw]);
    }

    with link = "point.ru.kg.Blendienen" {
        track(:third:station :narrower :removed,
                micnem[:ble - 1ssw, :ble + 1ssw]
        );
        marker(:de.kzst :removed :left, micnem[:ble]);
        slabel(:right :removed, micnem[:ble - 0.5ssw] >> 1.5dt, "Blendienen");
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:ble + 1ssw, :kui - 1ssw]);
    }

    with link = "point.ru.kg.Куйбышево" {
        track(:third:station :narrower :removed,
                micnem[:kui - 1ssw, :kui + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:kui]);
        slabel(:right :removed, micnem[:kui] + (1.6ssw, 0.1ssw),
            span(:designation, "Куйбышево")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kui + 1ssw, :kua - 1ssw]);
    }

    with link = "point.ru.kg.Кullminnen-Abbau" {
        track(:third:station :narrower :removed,
                micnem[:kua - 1ssw, :kua + 1ssw]
        );
        marker(:de.kzst :removed :left, micnem[:kua]);
        slabel(:left :removed, micnem[:kua] + (-1.2ssw, 2.0ssw),
            "Kulmen Abbau"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kua + 1ssw, :erm - 1ssw]);
    }


    with link = "point.ru.kg.Ермаково" {
        track(:third:station :narrower :removed,
                micnem[:erm - 1ssw, :erm + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:erm]);
        slabel(:right :removed, micnem[:erm] + (1.8ssw, 0.4ssw),
            span(:designation, "Ермаково")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:erm + 1ssw, :wee - 1ssw]);
    }

    with link = "point.ru.kg.Weedern" {
        track(:third:station :narrower :removed,
                micnem[:wee - 1ssw, :wee + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:wee]);
        slabel(:left :removed, micnem[:wee - 0.35ssw] << 1.2dt,
            "Weedern"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:wee + 1ssw, :blu - 1ssw]);
    }

    with link = "point.ru.kg.Bludischken" {
        track(:third:station :narrower :removed,
                micnem[:blu - 1ssw, :blu + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:blu]);
        slabel(:left :removed, micnem[:blu - 0.7ssw] << 1.2dt,
            "Bludischken"
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:blu + 1ssw, :bal - 1ssw]);
    }

    with link = "point.ru.kg.Вальцово" {
        track(:third:station :narrower :removed,
                micnem[:bal - 1ssw, :bal + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:bal]);
        slabel(:left :removed, micnem[:bal - 0.7ssw] << 1.2dt,
            span(:designation, "Вальцово")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:bal + 1ssw, :iwo - 1ssw]);
    }

    with link = "point.ru.kg.Ивовое" {
        track(:third:station :narrower :removed,
                micnem[:iwo - 1ssw, :iwo + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:iwo]);
        slabel(:left :removed, micnem[:iwo - 0.5ssw] << 1.7dt,
            span(:designation, "Ивовое")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:iwo + 1ssw, :sta - 1ssw]);
    }

    with link = "point.ru.kg.Стальское" {
        track(:third:station :narrower :removed,
                micnem[:sta - 1ssw, :sta + 1ssw]
        );
        marker(:de.kzst :removed :left, micnem[:sta]);
        slabel(:left :removed, micnem[:sta] + (-1.8ssw, 1.0ssw),
            span(:designation, "Стальское")
        );
    }

    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:sta + 1ssw, :nej - 1ssw]);
        with layer = 1 line_badge(:removed, micnem[:sta + 1.8km], "87");
    }

    with link = "point.ru.kg.Неман-Южный" {
        track(:third:station :narrower :removed,
                micnem[:nej - 1ssw, :nej + 1ssw]
        );
        marker(:de.kzst :removed :right, micnem[:nej]);
        slabel(:left :removed, micnem[:nej] + (-1.8dt, 0.3ssw),
            span(:designation, "Неман Южный")
        );
    }


    with link = "line.ru.kg.87" {
        with layer = -1 track(:third :narrower :removed,
                micnem[:nej + 1ssw, :nem.aa]
            ..  path("path.ru.kg.29")[:aulj, :aulj - 1m]
        );
    }
}

