# RU KG 6.  Калининград Северный - Светлогорск 1
#
let kalsow = path("path.ru.kg.21");
let kalsel = path("path.ru.kg.6.1");
let selswe = path("path.ru.kg.6.2");

with detail = 3 {
    # Калининград Северный: ru.kg.21

    with link = "line.ru.kg.6" {
        track(:first:station :cat, kalsow[:kse - 0.5ssw, :kut - 1ssw] << 1dt);
    }

    # Кутузово-Новое: ru.kg.21

    with link = "line.ru.kg.6" {
        track(:first :cat,
                kalsow[:kut + 1ssw, :kut + 1.1ssw] << 1dt
            ..  kalsel[:que - 1.1ssw, :que - 1ssw]
        );
    }

    with link = "point.ru.kg.Königsberg-Quedenau" {
        track(:first:station :cat, kalsel[:que - 1ssw, :que + 1ssw]);
        with layer = -1 marker(:de.bf :removed :right, kalsel[:que]);
        slabel(:left :removed, kalsel[:que - 0.5ssw] << 1.5dt,
            "Königsberg-Quedenau"
        );
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:que + 1ssw, :sti - 1ssw]);
    }

    with link = "point.ru.kg.Stigehnen" {
        track(:first:station :cat, kalsel[:sti - 1ssw, :sti + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, kalsel[:sti]);
        slabel(:left :removed, kalsel[:sti - 0.4ssw] << 2.0dt,
            "Stigehnen"
        );
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:sti + 1ssw, :op7 - 1ssw]);
    }

    with link = "point.ru.kg.7-км" {
        track(:first:station :cat, kalsel[:op7 - 1ssw, :op7 + 1ssw]);
        marker(:de.hp :right, kalsel[:op7]);
        slabel(:right, kalsel[:op7 - 0.6ssw] >> 1.7ssw, "7 км");
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:op7 + 1ssw, :rja - 1ssw]);
    }

    with link = "point.ru.kg.Рябиновка" {
        track(:first:station :cat, kalsel[:rja - 1ssw, :rja + 1ssw]);
        marker(:de.bf :right, kalsel[:rja]);
        slabel(:right, kalsel[:rja - 0.6ssw] >> 1.5ssw,
            span(:bold, "Рябиновка")
        );
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:rja + 1ssw, :kas - 1ssw]);
        with layer = 1 line_badge(:open, kalsel[:rja + 2.5km], "6.");
    }

    with link = "point.ru.kg.Каштановка" {
        track(:first:station :cat, kalsel[:kas - 1ssw, :kas + 1ssw]);
        marker(:de.hp :right, kalsel[:kas]);
        with layer = -1 marker(:de.bf :removed :right, kalsel[:kas]);
        slabel(:right, kalsel[:kas - 0.6ssw] >> 1.5ssw, "Каштановка");
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:kas + 1ssw, :mur - 1ssw]);
    }

    with link = "point.ru.kg.Муромское" {
        track(:first:station :cat, kalsel[:mur - 1ssw, :mur + 1ssw]);
        marker(:de.hp :right, kalsel[:mur]);
        with layer = -1 marker(:de.bf :removed :right, kalsel[:mur]);
        slabel(:right, kalsel[:mur - 0.9ssw] >> 1.6ssw, "Муромское");
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:kas + 1ssw, :sos - 1ssw]);
    }

    with link = "point.ru.kg.Сосновка" {
        track(:first:station :cat, kalsel[:sos - 1ssw, :sos + 1ssw]);
        marker(:de.hp :right, kalsel[:sos]);
        slabel(:right, kalsel[:sos - 0.5ssw] >> 1.5ssw, "Сосновка");
    }

    with link = "line.ru.kg.6" {
        track(:first :cat, kalsel[:sos + 1ssw, :fswe - 1ssw]);
    }

    with link = "point.ru.Зеленоградск-Новый" {
        track(:first:station :cat, kalsel[:fswe - 1ssw, :sel]);
        marker(:de.bf :top, kalsel[:sel]);
        slabel(:top, kalsel[:sel] + (0sw, -1.4ssw),
            vbox(:center:bottom :bold,
                span(:gone, "Cranz"),
                span(:open, "Зеленоградск-Новый")
            )
        );
    }

    with link = "line.ru.kg.6" {
        track(:second:station :cat,
                kalsel[:fswe, :fswe - 1m]
            ..  selswe[:aa + 1dt, :mal - 1ssw]
        );
    }

    with link = "point.ru.kg.Малиновка" {
        track(:first:station :cat, selswe[:mal - 1ssw, :mal + 1ssw]);
        marker(:de.hp :left, selswe[:mal]);
        slabel(:left, selswe[:mal - 1ssw] >> 1.0dt, "Малиновка");
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:mal + 1ssw, :son - 1ssw]);
    }

    with link = "point.ru.kg.Сокольники-Новые" {
        track(:first:station :cat, selswe[:son - 1ssw, :son + 1ssw]);
        marker(:de.hp :left, selswe[:son]);
        slabel(:left, selswe[:son] >> 1.0dt, "Сокольники-Новые");
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:son + 1ssw, :sok - 1ssw]);
    }

    with link = "point.ru.kg.Сокольники" {
        track(:first:station :cat, selswe[:sok - 1ssw, :sok + 1ssw]);
        marker(:de.hp :left, selswe[:sok]);
        slabel(:left, selswe[:sok + 1.0ssw] >> 1.0dt, "Сокольники");
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:sok + 1ssw, :eis - 1ssw]);
    }

    with link = "point.ru.kg.Eisseln-Weischkitten" {
        track(:first:station :cat, selswe[:eis - 1ssw, :eis + 1ssw]);
        with layer = -1 marker(:de.bf :removed :right, selswe[:eis]);
       #slabel(:right :removed, selswe[:eis + 0.4ssw] << 1.0ssw,
       #    "Eisseln-Weischkitten"
       #);
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:eis + 1ssw, :pos - 1ssw]);
    }

    with link = "point.ru.kg.Рощино" {
        track(:first:station :cat, selswe[:pos - 1ssw, :pos + 1ssw]);
        marker(:de.hp :left, selswe[:pos]);
        slabel(:right, selswe[:pos + 1ssw] << 3.0ssw, "Рощино");
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:pos + 1ssw, :kul - 1ssw]);
        with layer = 1 line_badge(:open, selswe[:pos + 1.2km], "6.");
    }

    with link = "point.ru.kg.Куликово" {
        track(:first:station :cat, selswe[:kul - 1ssw, :kul + 1ssw]);
        marker(:de.hp :right, selswe[:kul]);
        with layer = -1 marker(:de.bf :gone :right, selswe[:kul]);
        slabel(:left, selswe[:kul - 1ssw] << 2.0ssw, "Куликово");
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:kul + 1ssw, :pom - 1ssw]);
    }

    with link = "point.ru.kg.Романово-Заостровье" {
        track(:first:station :cat, selswe[:pom - 1ssw, :pom + 1ssw]);
        with layer = -1 marker(:de.bf :removed :right, selswe[:pom]);
        slabel(:right :removed, selswe[:pom + 2ssw] >> 0.5ssw,
            vbox(:left:bottom,
                span(:regular, "Романово-"),
                span(:regular, "Заостровье")
            )
        );
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:pom + 1ssw, :pio - 1ssw]);
    }

    with link = "point.ru.kg.Пионерский-Курорт" {
        track(:second:station :cat, selswe[:pio - 1ssw, :pio + 1ssw]);
        marker(:de.bf :right, selswe[:pio]);
        slabel(:top, selswe[:pio] >> 2.0ssw,
            vbox(:center:bottom :bold,
                span(:gone, "Neukuhren"),
                span(:open, "Пионерский Курорт")
            )
        );
    }

    with link = "line.ru.kg.6" {
        track(:second :cat, selswe[:pio + 1ssw, :swe - 1ssw]);
        with layer = 1 line_badge(:open, selswe[:swe - 2.0km], "6.");
    }

    with link = "point.ru.kg.Светлогорск-1" {
        track(:second:station :cat, selswe[:swe - 1ssw, :swe]);
        track(:second:station :cat,
                path("path.ru.kg.41")[:swe, :swe + 1ssw]
        );
        marker(:de.bf :right, selswe[:swe]);
        label(selswe[:swe + 1ssw] << 0.5dt,
            vbox(:left:top :small:bold,
                span(:gone, "Rauschen Ort"),
                span(:open, "Светлогорск 1")
            )
        );
    }
}

