#
#
let lehcux = path("path.de.1720");

with detail = 3 {
    # ...

    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:deu + 1ssw, :lun.a]);
    }

    with link = "point.de.L端neburg-Gbf" {
        track(:first:station :double :cat, lehcux[:lun.a, :lun.r]);
        with layer = 2 marker(:de.bft :left, lehcux[:lug] << 0.5dt);
    }

    with link = "point.de.L端neburg" {
        track(:first:station :double :cat, lehcux[:lun.r, :lun.u]);

        track(:second:station,
                lehcux[:fdan, :fdan + 100m] << 0.5dt << 1.25ssw
            ..  lehcux[:lun - 0.5ssw, :lun + 0.5ssw] << 0.5dt << 1ssw
            ..  lehcux[:fluw - 1m, :fluw] << 1.5dt
        );

        marker(:de.bf :left, lehcux[:lun] << 0.5dt);
        slabel(:right, lehcux[:lun - 0.6ssw] >> 1.5dt,
            span(:bold, "L端neburg")
        );
    }

    with link = "point.de.L端neburg-Nordkopf" {
        track(:first:station :double :cat, lehcux[:lun.u, :lun.f]);
        track(:first:station :cat, lehcux[:fluw, :lun.f] << 1.5dt);
        marker(:de.bft :right, lehcux[:lkn + 1dt] >> 0.5dt);
    }

    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:lun.f, :bar - 1ssw]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:lun.f, :bah - 1ssw] << 1.5dt);
    }

    with link = "point.de.Goseburg" {
        with layer = -1 marker(:de.bk :removed :right, lehcux[:gos] >> 0.5dt);
    }

    with link = "point.de.Bardowick" {
        track(:first:station :double :cat, lehcux[:bar - 1ssw, :bar + 1ssw]);
        marker(:de.bf :right, lehcux[:bar] >> 0.5dt);
        slabel(:right, lehcux[:bar - 0.5ssw] >> 0.5dt >> 1.2ssw,
            "Bardowick"
        );
    }

    with link = "point.de.Bardowick-Hp" {
        track(:first:station :cat, lehcux[:bah - 1ssw, :bah + 1ssw] << 1.5dt);
        marker(:de.hp :left, lehcux[:bah] << 1.5dt);
    }

    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bar + 1ssw, :rad - 1ssw]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:bah + 1ssw, :rad - 1ssw] << 1.5dt);
    }

    with link = "point.de.Radbruch" {
        track(:first:station :double :cat, lehcux[:rad - 1ssw, :rad + 1ssw]);
        track(:first:station :cat, lehcux[:rad - 1ssw, :rad + 1ssw] << 1.5dt);

        marker(:de.bf :left, lehcux[:rad] << 1.5dt);
        slabel(:left, lehcux[:rad - 1.5ssw] << 1.5dt << 2.2ssw,
            "Radbruch"
        );
    }

    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:rad + 1ssw, :win - 1ssw]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:rad + 1ssw, :win - 1ssw] << 1.5dt);
    }

    with link = "point.de.Borstel" {
    	with layer = -1 marker(:de.bk :removed :right, lehcux[:bor] >> 0.5dt);
    }

    with link = "point.de.Winsen-Luhe" {
        track(:first:station :double :cat, lehcux[:win - 1ssw, :win + 1ssw]);
        track(:first:station :cat, lehcux[:win - 1ssw, :win + 1ssw] << 1.5dt);
        
        marker(:de.bf :right, lehcux[:win] >> 0.5dt);
        slabel(:left, lehcux[:win + 0.3ssw] << 1.5dt << 6pt,
            hbox(:center:base,
                span(:bold, "Winsen "),
                span(:regular, "(Luhe)")
            )
        );
    }

    # ...
}

