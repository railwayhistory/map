# DE 6905.  Salzwedel (ausschl.) - Dannenberg Ost (ausschl.)
#
let saldan = path("path.de.6905");

with detail = 3 {
    with link = "line.de.6905" {
        track(:second :removed,
                path("path.de.6899")[:sal - 1ssw, :sal - 1.1ssw] << 0.5dt
            ..  saldan[:gbur, :bur - 1ssw]
        );
    }

    with link = "point.de.Bürgerholz" {
        track(:second:station :removed, saldan[:bur - 1ssw, :bur + 1ssw]);
        marker(:de.hst :removed :left, saldan[:bur]);
        slabel(:left :removed, saldan[:bur - 0.5ssw] << 1.6ssw,
            "Bürgerholz"
        );
    }

    with link = "line.de.6905" {
        track(:second :removed, saldan[:bur - 1ssw, :glub - 0.5ssw]);
    }

    with link = "point.de.Lübbow-LGr" {
        track(:second:station :removed,
            saldan[:glub - 0.5ssw, :glub + 0.5ssw]
        );
        marker(:de.lgr :removed :left, saldan[:glub]);
        marker(:de.lgr :removed :right, saldan[:glub]);
    }

    with link = "line.de.6905" {
        track(:second :removed, saldan[:glub + 0.5ssw, :lub - 1ssw]);
    }

    
    with link = "point.de.Lübbow" {
        track(:second:station :removed, saldan[:lub - 1ssw, :lub + 1ssw]);
        marker(:de.bf :removed :right, saldan[:lub]);
        slabel(:right :removed, saldan[:lub + 1ssw] >> 1.4ssw, "Lübbow");
    }

    with link = "line.de.6905" {
        track(:second :removed, saldan[:lub + 1ssw, :tep - 1ssw]);
    }

    
    with link = "point.de.Teplingen" {
        track(:second:station :removed, saldan[:tep - 1ssw, :tep + 1ssw]);
        marker(:de.hp :removed :left, saldan[:tep]);
        slabel(:left :removed, saldan[:tep - 1.5ssw] << 1.8ssw, "Teplingen");
    }

    with link = "line.de.6905" {
        track(:second :removed, saldan[:tep + 1ssw, :wus - 1ssw]);
    }

    
    with link = "point.de.Wustrow-Han" {
        track(:second:station :removed, saldan[:wus - 1ssw, :wus + 1ssw]);
        marker(:de.bf :removed :left, saldan[:wus]);
        slabel(:left :removed, saldan[:wus - 0.4ssw] << 1.4ssw,
            hbox(:center:base,
                span(:regular, "Wustrow "),
                span(:light, "(Han)")
            )
        );
    }

    with link = "line.de.6905" {
        track(:second :removed, saldan[:wus + 1ssw, :luc - 1ssw]);
    }

    
    with link = "point.de.Lüchow" {
        track(:second:station, saldan[:luc - 1ssw, :luc + 1ssw]);
        with layer = -1 track(:station :removed,
                saldan[:luc - 1ssw, :luc + 0.5ssw] >> 1dt
            --  saldan[:luc + 0.5ssw + 1dl, :luc + 0.5ssw + 1.1dl]
        );

        marker(:de.bf :left, saldan[:luc]);
        slabel(:left :right_align, saldan[:luc - 0.5ssw] << 1.4ssw,
            span(:bold, "Lüchow")
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:luc + 1ssw, :tar - 1ssw]);
    }
    
    with link = "point.de.Tarmitz" {
        track(:second:station, saldan[:tar - 1ssw, :tar + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, saldan[:tar]);
        slabel(:right :removed, saldan[:tar - 0.4ssw] >> 1.4ssw,
            "Tarmitz"
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:tar + 1ssw, :mug - 1ssw]);
    }
    
    with link = "point.de.Müggenburg-Dannenberg" {
        track(:second:station, saldan[:mug - 1ssw, :mug + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, saldan[:mug]);
        slabel(:left :removed, saldan[:mug - 1.5ssw] << 2.2ssw,
            "Müggenburg"
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:mug + 1ssw, :gol - 1ssw]);
    }
    
    with link = "point.de.Gollau" {
        track(:second:station, saldan[:gol - 1ssw, :gol + 1ssw]);
        marker(:de.hp :right, saldan[:gol]);
        with layer = -1 marker(:de.bf :gone :right, saldan[:gol]);
        slabel(:right, saldan[:gol + 1ssw] >> 1.4ssw, "Gollau");
    }

    with link = "line.de.6905" {
        track(:second, saldan[:gol + 1ssw, :gra - 1ssw]);
    }
    
    with link = "point.de.Grabow-Dannenberg" {
        track(:second:station, saldan[:gra - 1ssw, :gra + 1ssw]);
        marker(:de.hp :left, saldan[:gra]);
        with layer = -1 marker(:de.bf :gone :left, saldan[:gra]);
        slabel(:left, saldan[:gra - 0.6ssw] << 1.6ssw,
            hbox(:center:base,
                span(:regular, "Grabow "),
                span(:light, "(Kr Dannenberg)")
            )
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:gra + 1ssw, :jam - 1ssw]);
        with layer = 1 line_badge(:open, saldan[:gra + 2.0km], "6905");
    }
    
    with link = "point.de.Jameln-Dannenberg" {
        track(:second:station, saldan[:jam - 1ssw, :jam + 1ssw]);
        marker(:de.hp :left, saldan[:jam]);
        with layer = -1 marker(:de.bf :gone :left, saldan[:jam]);
        slabel(:left, saldan[:jam - 0.4ssw] << 2.0ssw,
            hbox(:center:base,
                span(:regular, "Jameln "),
                span(:light, "(Kr Dannenberg)")
            )
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:jam + 1ssw, :tra - 1ssw]);
    }
    
    with link = "point.de.Tramm" {
        track(:second:station, saldan[:tra - 1ssw, :tra + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, saldan[:tra]);
        slabel(:right :removed, saldan[:tra - 0.3ssw] >> 1.6ssw, "Tramm");
    }

    with link = "line.de.6905" {
        track(:second, saldan[:tra + 1ssw, :saa - 1ssw]);
    }

    
    with link = "point.de.Schaafhausen-Dannenberg" {
        track(:second:station, saldan[:saa - 1ssw, :saa + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, saldan[:saa]);
        slabel(:left :removed, saldan[:saa - 0.4ssw] << 1.6ssw,
            "Schaafhausen"
        );
    }

    with link = "line.de.6905" {
        track(:second, saldan[:saa + 1ssw, :daw - 1ssw]);
    }
    
    with link = "point.de.Dannenberg-West" {
        track(:second:station, saldan[:daw - 1ssw, :daw + 1ssw]);
        marker(:de.hp :right, saldan[:daw]);
        with layer = -1 marker(:de.bf :gone :right, saldan[:daw]);
        slabel(:left, saldan[:daw - 0.6ssw] << 1.0dt,
            span(:bold, "Dannenberg West")
        );
    }

    with link = "line.de.6905" {
        track(:second,
                saldan[:daw + 1ssw, :ff]
            ..  path("path.de.1151")[:aluc + 1m, :aluc]
        );
    }
}

