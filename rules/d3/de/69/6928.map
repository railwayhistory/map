# DE 6928.  Hagenow Land (ausschl.) - Bad Oldesloe (ausschl.)
#
let hagold = path("path.de.6928");
let lubbuc = path("path.de.1121");

with detail = 3 {
    with link = "line.de.6928" {
        track(:second,
                path("path.de.6100")[:azar - 1m, :azar] >> 0.5dt
            ..  hagold[:aa, :has - 1ssw]
        );
    }

    with link = "point.de.Hagenow-Stadt" {
        track(:second:station, hagold[:has - 1ssw, :has + 1ssw]);
        marker(:de.bf :right, hagold[:has]);
        slabel(:left, hagold[:has - 0.3ssw] << 1.5dt, "Hagenow Stadt");
    }

    with link = "line.de.6928" {
        track(:second, hagold[:has - 1ssw, :bob - 1ssw]);
    }

    with link = "point.de.Bobzin" {
        track(:second:station, hagold[:bob - 1ssw, :bob + 1ssw]);
        marker(:de.hp :right, hagold[:bob]);
        with layer = -1 marker(:de.anst :removed :right, hagold[:bob]);
        slabel(:right, hagold[:bob - 0.5ssw] >> 1.3ssw, "Bobzin");
    }

    with link = "line.de.6928" {
        track(:second, hagold[:bob - 1ssw, :wab - 0.5ssw]);
    }

    with link = "point.de.Wittenburg-ABK" {
        track(:second:station, hagold[:wab - 0.5ssw, :wab + 0.5ssw]);
        with layer = -1 marker(:de.awanst :removed :left, hagold[:wab]);
	}

    with link = "line.de.6928" {
        track(:second, hagold[:wab - 0.5ssw, :wac - 0.5ssw]);
    }

    with link = "point.de.Wittenburg-Raiffeisen" {
        track(:second:station, hagold[:wac - 0.5ssw, :wac + 0.5ssw]);
        marker(:de.anst :left, hagold[:wac]);
        with layer = -1 marker(:de.awanst :removed :left, hagold[:wac]);
    }

    with link = "line.de.6928" {
        track(:second, hagold[:wac - 0.5ssw, :wit - 1ssw]);
    }

    with link = "point.de.Wittenburg-Meckl" {
        track(:second:station, hagold[:wit - 1ssw, :wit + 1ssw]);
        marker(:de.bf :left, hagold[:wit]);
        slabel(:left, hagold[:wit - 0.5ssw] << 1.8ssw,
            hbox(:left:base,
                span(:regular, "Wittenburg "),
                span(:light, "(Meckl) ")
            )
        )
    }

    with link = "line.de.6928" {
        track(:second, hagold[:wit - 1ssw, :ban - 1ssw]);
        with layer = 1 line_badge(:open, hagold[:ban - 2.0km], "6928");
    }

    with link = "point.de.Bantin" {
        track(:second:station, hagold[:ban - 1ssw, :ban + 1ssw]);
        marker(:de.hp :right, hagold[:ban]);
        slabel(:right, hagold[:ban + 1ssw] >> 1.4ssw, "Bantin");
    }

    with link = "line.de.6928" {
        track(:second, hagold[:ban + 1ssw, :zar - 1ssw]);
    }


    with link = "point.de.Zarrentin" {
        track(:second:station, hagold[:zar - 1ssw, :zar + 1ssw]);
        marker(:de.bf :right, hagold[:zar]);
        slabel(:right, hagold[:zar + 1ssw] >> 1.4ssw,
            hbox(:left:base,
                span(:regular, "Zarrentin "),
                span(:light, "(Meckl) ")
            )
        );
    }

    with link = "line.de.6928" {
        with layer = -1 track(:second :removed,
            hagold[:zar.f, :gzar - 0.5ssw]
        );
    }

    with link = "point.de.Zarrentin-LGr" {
        track(:second:station :removed,
            hagold[:gzar - 0.5ssw, :gzar + 0.5ssw]
        );
        marker(:de.lgr :removed :right, hagold[:gzar]);
        marker(:de.lgr :removed :left, hagold[:gzar]);
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:gzar + 0.5ssw, :kze - 1ssw]);
    }

    with link = "point.de.Klein-Zecher" {
        track(:second:station :removed, hagold[:kze - 1ssw, :kze + 1ssw]);
        marker(:de.hp :removed :right, hagold[:kze]);
        slabel(:left :removed, hagold[:kze - 0.2ssw] << 2dt,
            "Klein Zecher"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:kze + 1ssw, :hak - 1ssw]);
    }

    with link = "point.de.Hakendorf" {
        track(:second:station :removed, hagold[:hak - 1ssw, :hak + 1ssw]);
        marker(:de.hp :removed :left, hagold[:hak]);
        slabel(:right :removed, hagold[:hak - 0.4ssw] >> 0.5dt,
            "Hakendorf"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:hak + 1ssw, :hol - 1ssw]);
    }


    with link = "point.de.Hollenbek" {
        track(:second:station :closed, hagold[:hol - 1ssw, :hol + 1ssw]);
        marker(:de.bf :removed :left, hagold[:hol]);
        slabel(:right :removed, hagold[:hol - 0.4sw] >> 0.5dt,
            span(:bold, "Hollenbek")
        );
    }

    with link = "line.de.6928" {
        track(:second :closed, hagold[:hol + 1ssw, :ste - 1ssw]);
    }

    with link = "point.de.Sterley" {
        track(:second:station :closed, hagold[:ste - 1ssw, :ste + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, hagold[:ste]);
        slabel(:right :removed, hagold[:ste - 0.5ssw] >> 1.4ssw,
            "Sterley"
        );
    }

    with link = "line.de.6928" {
        track(:second :closed, hagold[:ste + 1ssw, :kog - 0.5ssw]);
    }

    with link = "point.de.Sterley" {
        track(:second:station :closed, hagold[:kog - 0.5ssw, :kog + 0.5ssw]);
        marker(:de.anst :closed :right, hagold[:kog]);
    }

    with link = "line.de.6928" {
        track(:second :closed, hagold[:kog + 0.5ssw, :aho - 1ssw]);
    }

    with link = "point.de.Alt-Horst" {
        track(:second:station :closed, hagold[:aho - 1ssw, :aho + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, hagold[:aho]);
        slabel(:right :removed, hagold[:aho - 0.4ssw] >> 1.0dt,
            "Alt Horst"
        );
    }


    with link = "line.de.6928" {
        track(:second :closed, hagold[:aho + 1ssw, :smi - 1ssw]);
    }

    with link = "point.de.Schmilau" {
        track(:second:station :closed, hagold[:smi - 1ssw, :smi + 1ssw]);
        with layer = -1 marker(:de.bf :removed :right, hagold[:smi]);
        slabel(:right :removed, hagold[:smi - 1.0ssw] >> 1.0ssw, "Schmilau");
    }

    with link = "line.de.6928" {
        with layer = -1 track(:second :closed,
                hagold[:smi + 1ssw, :rat.aa - 300m]
            ..  lubbuc[:ahag, :ahag - 1m]
        );
    }
    
    # point.de.Ratzeburg de.1121

    with link = "line.de.6928" {
        with layer = -1 track(:second :removed,
                lubbuc[:rat - 1ssw, :rat - 1.1ssw]
            ..  hagold[:rat.x + 300m, :kul - 1ssw]
        );
    }

    with link = "point.de.Kulpin" {
        track(:second:station :removed, hagold[:kul - 1ssw, :kul + 1ssw]);
        marker(:de.hp :removed :right, hagold[:kul]);
        slabel(:left :removed, hagold[:kul - 0.4ssw] << 5pt, "Kulpin");
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:kul + 1ssw, :ber - 1ssw]);
        with layer = 1 line_badge(:closed, hagold[:kul + 2.5km], "6928");
    }

    with link = "point.de.Berkenthin" {
        track(:second:station :removed, hagold[:ber - 1ssw, :ber + 1ssw]);
        marker(:de.hst :removed :left, hagold[:ber]);
        with layer = -1 marker(:de.bf :gone :left, hagold[:ber]);
        slabel(:bottom :removed, hagold[:ber] << 1.2ssw, "Berkenthin");
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:ber + 1ssw, :sie - 1ssw]);
    }

    with link = "point.de.Sierksrade" {
        track(:second:station :removed, hagold[:sie - 1ssw, :sie + 1ssw]);
        marker(:de.bf :removed :left, hagold[:sie]);
        slabel(:left :removed, hagold[:sie - 0.5ssw] << 2.4ssw,
            "Sierksrade"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:sie + 1ssw, :kao - 1ssw]);
    }

    with link = "point.de.Kastorf-Ost" {
        track(:second:station :removed, hagold[:kao - 1ssw, :kao + 1ssw]);
        marker(:de.hp :removed :right, hagold[:kao]);
        slabel(:right :removed, hagold[:kao + 1ssw] >> 1.4ssw,
            "Kastorf Ost"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:kao + 1ssw, :kas - 1ssw]);
    }

    with link = "point.de.Kastorf" {
        track(:second:station :removed, hagold[:kas - 1ssw, :kas + 1ssw]);
        marker(:de.bf :removed :right, hagold[:kas]);
        slabel(:left :removed, hagold[:kas] << 6pt, "Kastorf");
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:kas + 1ssw, :sib - 1ssw]);
    }

    with link = "point.de.Siebenbäumen" {
        track(:second:station :removed, hagold[:sib - 1ssw, :sib + 1ssw]);
        marker(:de.hp :removed :right, hagold[:sib]);
        slabel(:right :removed, hagold[:sib + 1ssw] >> 1.4ssw,
            "Siebenbäumen"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:sib + 1ssw, :ahr - 1ssw]);
    }

    with link = "point.de.Ahrensfelde-Stormarn" {
        track(:second:station :removed, hagold[:ahr - 1ssw, :ahr + 1ssw]);
        marker(:de.hp :removed :right, hagold[:ahr]);
        slabel(:left :removed, hagold[:ahr - 2ssw] << 6pt,
            "Ahrensfelde"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:ahr + 1ssw, :sur - 1ssw]);
    }


    with link = "point.de.Schürensölen" {
        track(:second:station :removed, hagold[:sur - 1ssw, :sur + 1ssw]);
        marker(:de.hp :removed :right, hagold[:sur]);
        slabel(:right :removed, hagold[:sur + 1ssw] >> 1.4ssw,
            "Schürensölen"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:sur + 1ssw, :kbo - 1ssw]);
    }

    with link = "point.de.Klein-Boden" {
        track(:second:station :removed, hagold[:kbo - 1ssw, :kbo + 1ssw]);
        marker(:de.hp :removed :right, hagold[:kbo]);
        slabel(:left :removed, hagold[:kbo - 1ssw] << 6pt,
            "Klein Boden"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:kbo + 1ssw, :tre - 1ssw]);
    }

    with link = "point.de.Treuholz" {
        track(:second:station :removed, hagold[:tre - 1ssw, :tre + 1ssw]);
        marker(:de.bf :removed :right, hagold[:tre]);
        slabel(:right :removed, hagold[:tre + 1ssw] >> 1.4ssw,
            "Treuholz"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, hagold[:tre + 1ssw, :ret - 1ssw]);
    }

    with link = "point.de.Retwisch" {
        track(:second:station :removed, hagold[:ret - 1ssw, :ret + 1ssw]);
        marker(:de.hp :removed :right, hagold[:ret]);
        slabel(:right :removed, hagold[:ret + 1ssw] >> 1.4ssw,
            "Retwisch"
        );
    }

    with link = "line.de.6928" {
        with layer = -1 track(:second :removed,
                hagold[:ret + 1ssw, :ff]
            ..  path("path.de.1120")[:old.x - 500m, :old.x - 501m] >> 0.5dt
        );
    }
}


