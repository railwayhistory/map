# DE 1151.  Wittenberge (ausschl.) - Jesteburg (ausschl.)
#
#           Jesteburg - Buchholz: de.1280
#
let witbuc = path("path.de.1151");

with detail = 3 {
    with link = "line.de.1151" {
        with layer = -1 track(:first :removed,
                path("path.de.6100")[:adom, :adom + 1m] << 0.5dt
            ..  witbuc[:aa, :cum - 1ssw]
        );
    }

    with link = "point.de.Cumlosen" {
        track(:first:station :removed, witbuc[:cum - 1ssw, :cum + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:cum]);
        slabel(:left :removed, witbuc[:cum - 1.5ssw] << 2.3ssw,
            "Cumlosen"
        );
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:cum + 1ssw, :lan - 1ssw]);
    }

    with link = "point.de.Lanz" {
        track(:first:station :removed, witbuc[:lan - 1ssw, :lan + 1ssw]);
        marker(:de.bf :removed :right, witbuc[:lan]);
        slabel(:top :removed, witbuc[:lan] >> 1.2ssw, "Lanz");
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:lan + 1ssw, :gan - 0.5ssw]);
    }

    with link = "point.de.Gandow" {
        track(:first:station :removed, witbuc[:gan - 0.5ssw, :gan + 0.5ssw]);
        marker(:de.bk :removed :left, witbuc[:gan]);
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:gan + 0.5ssw, :len - 1ssw]);
        with layer = 1 line_badge(:removed, witbuc[:gan + 2.0km], "1151");
    }

    with link = "point.de.Lenzen-Elbe" {
        track(:first:station :removed, witbuc[:len - 1ssw, :len + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:len]);
        slabel(:left :removed, witbuc[:len - 1ssw] << 2.4ssw,
            hbox(:center:base,
                span(:regular, "Lenzen "),
                span(:light, "(Elbe)")
            )
        );
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:len + 1ssw, :eld - 0.5ssw]);
    }

    with link = "point.de.Eldenburg" {
        track(:first:station :removed, witbuc[:eld - 0.5ssw, :eld + 0.5ssw]);
        marker(:de.bk :removed :right, witbuc[:eld]);
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:eld + 0.5ssw, :pol - 1ssw]);
    }

    with link = "point.de.Polz" {
        track(:first:station :removed, witbuc[:pol - 1ssw, :pol + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:pol]);
        slabel(:top :removed, witbuc[:pol] >> 0.5dt, "Polz");
    }

    with link = "line.de.1151" {
        with layer = -1 track(:first :removed, witbuc[:pol + 1ssw, :flud]);
        track(:first :closed, witbuc[:flud, :dom - 1ssw]);
    }

    with link = "point.de.Dömitz" {
        track(:first:station :closed, witbuc[:dom - 1ssw, :dom + 0.5ssw]);
        track(:first:station :closed, witbuc[:dom + 0.5ssw, :dom + 1ssw]);
        marker(:de.bf :closed :right, witbuc[:dom]);
        slabel(:top :closed, witbuc[:dom] >> 1.2ssw,
             span(:bold, "Dömitz")
        );
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:dom + 1ssw, :qui - 0.5ssw]);
    }

    with link = "point.de.Quickborn-Dannenberg" {
        track(:first:station :removed, witbuc[:qui - 0.5ssw, :qui + 0.5ssw]);
        marker(:de.bk :removed :left, witbuc[:qui]);
    }

    with link = "line.de.1151" {
        track(:first :removed, witbuc[:qui + 0.5ssw, :dan - 1ssw]);
    }

    with link = "point.de.Dannenberg-Ost" {
        track(:first:station, witbuc[:dan - 1sw, :dan + 1sw]);
        marker(:de.bf :left, witbuc[:dan]);
        slabel(:right, witbuc[:dan + 1ssw] << 2.8ssw,
            span(:bold, "Dannenberg Ost")
        );
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:dan + 1ssw, :pis - 1ssw]);
    }


    with link = "point.de.Pisselberg" {
        track(:second:station, witbuc[:pis - 1ssw, :pis + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, witbuc[:pis]);
        slabel(:left :removed, witbuc[:pis - 0.5ssw] << 2.4ssw,
            "Pisselberg"
        );
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:pis + 1ssw, :hit - 1ssw]);
    }

    with link = "point.de.Hitzacker" {
        track(:second:station, witbuc[:hit - 1ssw, :hit + 1ssw]);
        marker(:de.hp :right, witbuc[:hit]);
        marker(:de.bk :right, witbuc[:hit]);
        with layer = -1 marker(:de.bf :removed, witbuc[:hit]);
        slabel(:right, witbuc[:hit - 0.5ssw] >> 1.4ssw, "Hitzacker");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:hit + 1ssw, :sar - 0.5ssw]);
    }

    with link = "point.de.Sarchern" {
        track(:second:station, witbuc[:sar - 0.5ssw, :sar + 0.5ssw]);
        with layer = -1 marker(:de.bk :removed, witbuc[:sar]);
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:sar + 0.5ssw, :har - 1ssw]);
    }

    with link = "point.de.Harlingen" {
        track(:second:station, witbuc[:har - 1ssw, :har + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, witbuc[:har]);
        slabel(:bottom :removed, witbuc[:har] << 1.2ssw, "Harlingen");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:har + 1ssw, :lei - 1ssw]);
    }

    with link = "point.de.Leitstade" {
        track(:second:station, witbuc[:lei - 1ssw, :lei + 1ssw]);
        marker(:de.hp :right, witbuc[:lei]);
        with layer = -1 marker(:de.bf :removed :right, witbuc[:lei]);
        slabel(:top, witbuc[:lei - 0.1ssw] >> 1.6ssw, "Leitstade");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:lei + 1ssw, :goh - 1ssw]);
    }

    with link = "point.de.Göhrde" {
        track(:second:station, witbuc[:goh - 1ssw, :goh + 1ssw]);
        marker(:de.hp :left, witbuc[:goh]);
        with layer = -1 marker(:de.bf :removed :left, witbuc[:goh]);
        slabel(:bottom, witbuc[:goh] << 1.4ssw, "Göhrde");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:goh + 1ssw, :old - 1ssw]);
    }

    with link = "point.de.Oldendorf" {
        track(:second:station, witbuc[:old - 1ssw, :old + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, witbuc[:old]);
        slabel(:top :removed, witbuc[:old] >> 1.4ssw, "Oldendorf");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:old + 1ssw, :suc - 0.5ssw]);
    }

    with link = "point.de.Süschendorf" {
        track(:second:station, witbuc[:suc - 0.5ssw, :suc + 0.5ssw]);
        with layer = -1 marker(:de.bk :removed :left, witbuc[:suc]);
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:suc + 0.5ssw, :nee - 1ssw]);
    }

    with link = "point.de.Neetzendorf" {
        track(:second:station, witbuc[:nee - 1ssw, :nee + 1ssw]);
        marker(:de.hp :left, witbuc[:nee]);
        slabel(:left, witbuc[:nee - 1ssw] << 2.6ssw, "Neetzendorf");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:nee + 1ssw, :dah - 1ssw]);
        with layer = 1 line_badge(:open, witbuc[:nee + 1.6km], "1151");
    }

    with link = "point.de.Dahlenburg" {
        track(:second:station, witbuc[:dah - 1ssw, :dah + 1ssw]);
        marker(:de.bf :right, witbuc[:dah]);
        slabel(:left, witbuc[:dah - 1ssw] << 6pt,
            span(:bold, "Dahlenburg")
        );
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:dah + 1ssw, :dum - 1ssw]);
    }

    with link = "point.de.Dumstorf" {
        track(:second:station, witbuc[:dum - 1ssw, :dum + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, witbuc[:dum]);
        slabel(:left :removed, witbuc[:dum - 0.6ssw] << 2.2ssw,
            "Dumstorf"
        );
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:dum + 1ssw, :bav - 1ssw]);
    }


    with link = "point.de.Bavendorf" {
        track(:second:station, witbuc[:bav - 1ssw, :bav + 1ssw]);
        marker(:de.bf :left, witbuc[:bav]);
        slabel(:bottom, witbuc[:bav] << 1.0ssw, "Bavendorf");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:bav + 1ssw, :roh - 1ssw]);
    }

    with link = "point.de.Rohstorf" {
        track(:second:station, witbuc[:roh - 1ssw, :roh + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, witbuc[:roh]);
        slabel(:left :removed, witbuc[:roh - 1.5ssw] << 2.6ssw, "Rohstorf");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:roh + 1ssw, :vas - 1ssw]);
    }

    with link = "point.de.Vastorf" {
        track(:second:station, witbuc[:vas - 1ssw, :vas + 1ssw]);
        marker(:de.hp :left, witbuc[:vas]);
        with layer = -1 marker(:de.bf :removed :left, witbuc[:vas]);
        slabel(:left, witbuc[:vas - 1.5ssw] << 2.4ssw, "Vastorf");
    }

    with link = "line.de.1151" {
        track(:second, witbuc[:vas + 1ssw, :wen - 1ssw]);
    }

    with link = "point.de.Wendisch-Evern" {
        track(:second:station, witbuc[:wen - 1ssw, :wen + 1ssw]);
        marker(:de.bf :right, witbuc[:wen]);
        slabel(:right, witbuc[:wen + 1.5ssw] >> 1.2ssw,
            "Wendisch Evern"
        );
    }

    with link = "line.de.1151" {
        with layer = 2 track(:second,
                witbuc[:wen + 1ssw, :wen + 800m]
            ..  path("path.de.1720")[:fdan - 1m, :fdan] << 0.5dt << 1.25ssw
        );
        with layer = 1 casing(:second,
                witbuc[:wen + 1ssw, :wen + 800m]
            ..  path("path.de.1720")[:fdan - 1m, :fdan] << 0.5dt << 1.25ssw
    );
    }

    # point.de.Lüneburg de.1720

    with link = "line.de.1151" {
        with layer = -1 track(:second:removed,
                path("path.de.1720")[:ajes, :ajes + 1m] << 1.5dt
            ..  witbuc[:ste - 0.51ssw, :ste - 0.5ssw] << 1.5dt
        );
    }

    with link = "point.de.Sternkamp" {
        track(:second:station :removed,
                witbuc[:ste - 1ssw, :ste + 1ssw] << 1.5dt
        );
        marker(:de.hp :removed :left, witbuc[:ste] << 1.5dt);
        slabel(:left :removed, witbuc[:ste - 0.5ssw] << 1.5dt << 2.6ssw,
            "Sternkamp"
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:ste + 1ssw, :och - 1ssw] << 1.5dt);
    }


    with link = "point.de.Ochtmissen" {
        track(:second:station :removed,
                witbuc[:och - 1ssw, :och + 1ssw] << 1.5dt);
        marker(:de.hp :removed :left, witbuc[:och] << 1.5dt);
        slabel(:left :removed, witbuc[:och - 0.5ssw] << 1.5dt << 2.2ssw,
            "Ochtmissen"
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:och + 1ssw, :vog - 1ssw] << 1.5dt);
    }


    with link = "point.de.Vögelsen" {
        track(:second:station :removed,
                witbuc[:vog - 1ssw, :vog + 1ssw] << 1.5dt
        );
        marker(:de.hp :removed :left, witbuc[:vog] << 1.5dt);
        slabel(:left :removed, witbuc[:vog - 0.5ssw] << 1.5dt << 2.2ssw,
            "Vögelsen"
        );
    }

    with link = "line.de.1151" {
        track(:second :removed,
                witbuc[:vog + 1ssw, :vog + 1.1ssw] << 1.5dt
            ..  witbuc[:mec - 1.1ssw, :mec - 1ssw]
        );
    }


    with link = "point.de.Mechtersen" {
        track(:second:station :removed, witbuc[:mec - 1ssw, :mec + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:mec]);
        with layer = -1 slabel(:left :removed, witbuc[:mec - 1ssw] << 2.4ssw,
            "Mechtersen"
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:mec + 1ssw, :bah - 1ssw]);
        with layer = 1 line_badge(:removed, witbuc[:mec + 4.2km], "1151");
    }

    with link = "point.de.Bahlburg" {
        track(:second:station :removed, witbuc[:bah - 1ssw, :bah + 1ssw]);
        marker(:de.hp :removed :left, witbuc[:bah]);
        slabel(:right :removed, witbuc[:bah] >> 0.7dt, "Bahlburg");
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:bah + 1ssw, :wul - 1ssw]);
    }

    with link = "point.de.Wulfsen-Lüneburg" {
        track(:second:station :removed, witbuc[:wul - 1ssw, :wul + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:wul]);
        label(witbuc[:wul + 0.5ssw] >> 1.5dt,
            vbox(:right:bottom :small :removed,
                span(:bold, "Wulfsen"),
                span(:regular, "(b L.b.)")
            )
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:wul + 1ssw, :tan - 1ssw]);
    }

    with link = "point.de.Tangendorf" {
        track(:second:station :removed, witbuc[:tan - 1ssw, :tan + 1ssw]);
        marker(:de.hp :removed :left, witbuc[:tan]);
        with layer = -1 marker(:de.bf :gone :left, witbuc[:tan]);
        slabel(:bottom :removed, witbuc[:tan] << 1.2ssw, "Tangendorf");
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:tan + 1ssw, :bra - 1ssw]);
    }

    with link = "point.de.Brackel-Lüneburg" {
        track(:second:station :removed, witbuc[:bra - 1ssw, :bra + 1ssw]);
        marker(:de.hst :removed :left, witbuc[:bra]);
        with layer = -1 marker(:de.bf :gone :left, witbuc[:bra]);
        slabel(:left :removed, witbuc[:bra - 1ssw] << 1.2ssw,
            vbox(:right:top,
                span(:regular, "Brackel"),
                span(:light, "(b Lüneburg)")
            )
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, witbuc[:bra + 1ssw, :mar - 1ssw]);
    }

    with link = "point.de.Marxen" {
        track(:second:station :removed, witbuc[:mar - 1ssw, :mar + 1ssw]);
        marker(:de.bf :removed :left, witbuc[:mar]);
        slabel(:right :removed, witbuc[:mar - 0.5ssw] >> 1dt, "Marxen");
    }

    with link = "line.de.1151" {
        with layer = -1 track(:second:station :removed,
                witbuc[:mar + 1ssw, :fmas - 500m]
            ..  path("path.de.1280")[:alub + 1m, :alub] << 0.5dt
        );
    }
}

