# DE 1141.  Schwarzenbek (ausschl.) - Bad Oldesloe (ausschl.)
#
let swaold = path("path.de.1141");

with detail = 3 {
    with link = "line.de.1141" {
        with layer = -1 track(:second :removed,
                path("path.de.6100")[:aold, :aold + 1m] >> 0.5dt
            ..  swaold[:aa, :hav - 1ssw]
        );
    }

    with link = "point.de.Havekost" {
        track(:second:station :removed, swaold[:hav - 1ssw, :hav + 1ssw]);
        marker(:de.hp :removed :left, swaold[:hav]);
        slabel(:right :removed, swaold[:hav - 0.5ssw] >> 1dt, "Havekost");
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:hav + 1ssw, :moh - 1ssw]);
    }

    with link = "point.de.Möhnsen" {
        track(:second:station :removed, swaold[:moh - 1ssw, :moh + 1ssw]);
        marker(:de.hst :removed :right, swaold[:moh]);
        with layer = -1 marker(:de.bf :gone :right, swaold[:moh]);
        slabel(:right :removed, swaold[:moh - 0.7ssw] >> 1.4ssw,
            "Möhnsen"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:moh + 1ssw, :dah - 1ssw]);
        with layer = 1 line_badge(:removed, swaold[:moh + 1.9km], "1141");
    }

    with link = "point.de.Dahmker" {
        track(:second:station :removed, swaold[:dah - 1ssw, :dah + 1ssw]);
        marker(:de.hp :removed :left, swaold[:dah]);
        slabel(:left :removed, swaold[:dah - 0.3ssw] << 1.8ssw, "Dahmker");
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:dah + 1ssw, :ham - 1ssw]);
    }

    with link = "point.de.Hamfelde" {
        track(:second:station :removed, swaold[:ham - 1ssw, :ham + 1ssw]);
        marker(:de.hp :removed :left, swaold[:ham]);
        slabel(:left :removed, swaold[:ham - 0.3ssw] << 1.8ssw, "Hamfelde");
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:ham + 1ssw, :vor - 1ssw]);
    }

    with link = "point.de.Vorburg-Trittau" {
        track(:second:station :removed, swaold[:vor - 1ssw, :vor + 1ssw]);
        marker(:de.hp :removed :left, swaold[:vor]);
        slabel(:right :removed, swaold[:vor - 0.3ssw] >> 0.5dt,
            "Vorburg-Trittau"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:vor + 1ssw, :tri - 1ssw]);
    }

    with link = "point.de.Trittau" {
        track(:second:station :removed, swaold[:tri - 1ssw, :tri + 1ssw]);
        marker(:de.bf :removed :left, swaold[:tri]);
        slabel(:right :removed, swaold[:tri - 0.5ssw] >> 0.8dt,
            span(:bold, "Trittau")
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:tri + 1ssw, :gro - 1ssw]);
    }

    with link = "point.de.Grönwohld" {
        track(:second:station :removed, swaold[:gro - 1ssw, :gro + 1ssw]);
        marker(:de.hp :removed :left, swaold[:gro]);
        slabel(:right :removed, swaold[:gro - 0.5ssw] >> 1dt,
            "Gröhnwohld"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:gro + 1ssw, :dwe - 1ssw]);
    }

    with link = "point.de.Dwerkathen" {
        track(:second:station :removed, swaold[:dwe - 1ssw, :dwe + 1ssw]);
        marker(:de.hst :removed :right, swaold[:dwe]);
        with layer = -1 marker(:de.bf :gone :right, swaold[:dwe]);
        slabel(:right :removed, swaold[:dwe - 0.6ssw] >> 1.4ssw,
            "Dwerkathen"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:dwe + 1ssw, :spr - 1ssw]);
    }

    with link = "point.de.Sprenge" {
        track(:second:station :removed, swaold[:spr - 1ssw, :spr + 1ssw]);
        marker(:de.hp :removed :left, swaold[:spr]);
        slabel(:right :removed, swaold[:spr - 0.3sw] >> 1.3dt,
            "Sprenge"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:spr + 1ssw, :mol - 1ssw]);
    }

    with link = "point.de.Mollhagen" {
        track(:second:station :removed, swaold[:mol - 1ssw, :mol + 1ssw]);
        marker(:de.bf :removed :left, swaold[:mol]);
        slabel(:left :removed, swaold[:mol - 0.3ssw] << 1.8ssw,
            "Mollhagen"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:mol + 1ssw, :bar - 1ssw]);
        with layer = 1 line_badge(:removed, swaold[:mol + 1.9km], "1141");
    }

    with link = "point.de.Barkhorst" {
        track(:second:station :removed, swaold[:bar - 1ssw, :bar + 1ssw]);
        marker(:de.hst :removed :left, swaold[:bar]);
        with layer = -1 marker(:de.bf :gone :left, swaold[:bar]);
        slabel(:right :removed, swaold[:bar - 0.6ssw] >> 0.8dt,
            "Barkhorst"
        );
    }

    with link = "line.de.1141" {
        track(:second :removed, swaold[:bar + 1ssw, :roh - 1ssw]);
    }

    with link = "point.de.Rohlfshagen" {
        track(:second:station :removed, swaold[:roh - 1ssw, :roh + 1ssw]);
        marker(:de.hst :removed :left, swaold[:roh]);
        with layer = -1 marker(:de.bf :gone :left, swaold[:roh]);
        slabel(:right :removed, swaold[:roh - 0.6ssw] >> 0.8dt,
            "Rohlfshagen"
        );
    }

    with link = "line.de.1141" {
        with layer = 2 track(:second :removed,
            swaold[:roh + 1ssw, :rup - 1ssw]
        );
        with layer = 1 casing(:second, swaold[:rup.x - 2dt, :rup.x + 2dt]);
    }

    with link = "point.de.Rümpel", layer = 2 {
        track(:second:station :removed, swaold[:rup - 1ssw, :rup + 1ssw]);
        marker(:de.hp :removed :left, swaold[:rup]);
        slabel(:left :removed, swaold[:rup - 0.3ssw] << 1.5ssw, "Rümpel");
    }

    with link = "line.de.1141" {
        with layer = -1 track(:second :removed,
                swaold[:rup + 1ssw, :rup + 1.1ssw]
            ..  path("path.de.1120")[:aswa, :aswa - 1m] << 0.5dt
        );
    }
}


