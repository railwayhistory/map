# DE 1112.  Bad Malente-Gremsm端hlen (ausschl.) - L端tjenburg
#
let mallut = path("path.de.1112");

with detail = 3 {
    with link = "line.de.1112" {
        track(:second :closed, mallut[:aaa, :man - 1ssw]);
    }

    with link = "point.de.Malente-Nord" {
        track(:second:station :closed, mallut[:man - 1ssw, :man + 1ssw]);
        marker(:de.hp :closed :left, mallut[:man]);
        slabel(:left :closed, mallut[:man + 1ssw] << 1.5ssw, "Malente Nord");
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:man + 1ssw, :hol - 1ssw]);
    }

    with link = "point.de.Holsteinische-Schweiz" {
        track(:second:station :closed, mallut[:hol - 1ssw, :hol + 1ssw]);
        marker(:de.hp :closed :right, mallut[:hol]);
        with layer = -1 marker(:de.bf :gone :right, mallut[:hol]);
        slabel(:right :closed, mallut[:hol] >> 2.2ssw,
            "Holsteinische Schweiz"
        );
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:hol + 1ssw, :bru - 1ssw]);
    }

    with link = "point.de.Bruhnskoppel" {
        track(:second:station :closed, mallut[:bru - 1ssw, :bru + 1ssw]);
        marker(:de.hp :closed :left, mallut[:bru]);
        slabel(:left :closed, mallut[:bru - 0.8ssw] << 1.4ssw,
            "Bruhnskoppel"
        );
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:bru + 1ssw, :maw - 1ssw]);
    }

    with link = "point.de.Malkwitz" {
        track(:second:station :closed, mallut[:maw - 1ssw, :maw + 1ssw]);
        marker(:de.hp :closed :left, mallut[:maw]);
        slabel(:left :closed, mallut[:maw - 0.4ssw] << 1.4ssw, "Malkwitz");
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:maw + 1ssw, :ben - 1ssw]);
    }

    with link = "point.de.Benz" {
        track(:second:station :closed, mallut[:ben - 1ssw, :ben + 1ssw]);
        marker(:de.anst :closed :left, mallut[:ben]);
        with layer = -1 marker(:de.bf :removed :left, mallut[:ben]);
        slabel(:left :closed, mallut[:ben - 0.6ssw] << 1.4ssw, "Benz");
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:ben + 1ssw, :fle - 1ssw]);
    }

    with link = "point.de.Flehm" {
        track(:second:station :closed, mallut[:fle - 1ssw, :fle + 1ssw]);
        marker(:de.hp :closed :right, mallut[:fle]);
        slabel(:right :closed, mallut[:fle - 0.6ssw] >> 1.6ssw, "Flehm");
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:fle + 1ssw, :kle - 1ssw]);
    }

    with link = "point.de.Kletkamp" {
        track(:second:station :closed, mallut[:kle - 1ssw, :kle + 1ssw]);
        marker(:de.hst :closed :right, mallut[:kle]);
        with layer = -1 marker(:de.bf :gone :right, mallut[:kle]);
        slabel(:right :closed, mallut[:kle] >> 1.6ssw + (0ssw, 0.5ssw),
            "Kletkamp"
        );
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:kle + 1ssw, :ble - 1ssw]);
    }

    with link = "point.de.Blekendorf" {
        track(:second:station :closed, mallut[:ble - 1ssw, :ble + 1ssw]);
        with layer = -1 marker(:de.hp :removed :right, mallut[:ble]);
        slabel(:right :closed, mallut[:ble - 0.7ssw] >> 1.4ssw, "Blekendorf");
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:ble + 1ssw, :fre - 1ssw]);
        with layer = 1 line_badge(:closed, mallut[:ble + 1.0km], "1112");
    }

    with link = "point.de.Frederikental" {
        track(:second:station :closed, mallut[:fre - 1ssw, :fre + 1ssw]);
        with layer = -1 marker(:de.hp :removed :left, mallut[:fre]);
        slabel(:right :removed, mallut[:fre - 0.5ssw] >> 1dt,
            "Frederikental"
        );
    }

    with link = "line.de.1112" {
        track(:second :closed, mallut[:fre + 1ssw, :lut - 1ssw]);
    }

    with link = "point.de.L端tjenburg" {
        track(:second:station :closed, mallut[:lut - 1ssw, :lut + 1ssw]);
        with layer = -1 track(:third:station :removed,
                path("path.de.AK2")[:ff, :ff + 1m]
            ..  mallut[:lut - 1.1ssw, :lut - 1ssw]
        );

        marker(:de.bf :closed :left, mallut[:lut]);
        slabel(:right :closed, mallut[:lut - 0.5ssw] >> 1dt,
            span(:bold, "L端tjenburg")
        );
    }
}

