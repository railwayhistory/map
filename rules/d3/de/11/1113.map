# DE 1113.  Schwartau Waldhalle - Lübeck-Travemünde Strand
#
let waltra = path("path.de.1113");

with detail = 3 {
    with link = "line.de.1113" {
        track(:first :double :cat, waltra[:aa, :dan - 1ssw]);
    }

    with link = "point.de.Lübeck-Dänischburg" {
        track(:first:station :double :cat, waltra[:dan - 1ssw, :dan + 1ssw]);
        marker(:de.bf :open :left, waltra[:dan] << 0.5dt);
        slabel(:bottom, waltra[:dan] >> 1dt,
            vbox(:center:bottom,
                span(:bold, "L.-"),
                span(:bold, "Dänischbg.")
            )
        );
    }

    with link = "line.de.1113" {
        track(:first :double :cat, waltra[:dan + 1ssw, :kuc - 1ssw]);
    }

    with link = "point.de.Lübeck-Kücknitz" {
        track(:first:station :double :cat, waltra[:kuc - 1ssw, :kuc + 1ssw]);
        with layer = -1 marker(:de.bf :closed :left, waltra[:kuc] << 0.5dt);
    }

    with link = "line.de.1113" {
        track(:first :double :cat, waltra[:kuc + 1ssw, :kua - 0.5ssw]);
    }

    with link = "point.de.Lübeck-Kücknitz-Abzw" {
        track(:first:station :double :cat,
                waltra[:kua - 0.5ssw, :kua + 0.5ssw]
        );
        marker(:de.abzw :open :left, waltra[:kua] << 0.5dt);
        label(waltra[:kua - 0.5ssw] << 0.5dt << 1.2ssw,
            hbox(:right:bottom,
                vbox(:center:bottom :small,
                    span(:bold, "L.-"),
                    span(:bold, "Kücknitz")
                )
            )
        );
    }


    with link = "line.de.1113" {
        track(:first :cat,
                waltra[:kua + 0.5ssw, :kua + 0.51ssw] >> 0.5dt
            ..  waltra[:kur - 1.1ssw, :kur - 1ssw]
        );
        with layer = -1 casing(:first, waltra[:kua.x - 200m, :kua.x + 400m]);
    }


    with link = "point.de.Lübeck-Kücknitz-Roter-Hahn" {
        track(:first:station :cat, waltra[:kur - 1ssw, :kur + 1ssw]);
        marker(:de.hp :open :right, waltra[:kur]);
        slabel(:right, waltra[:kur - 0.6ssw] >> 2.0ssw,
            "L.-K. Roter Hahn"
        );
    }

    with link = "line.de.1113" {
        track(:first :cat, waltra[:kur + 1ssw, :pop - 1ssw]);
    }

    with link = "point.de.Lübeck-Pöppendorf" {
        track(:first:station :cat, waltra[:pop - 1ssw, :pop + 1ssw]);
        with layer = -1 marker(:de.bf :removed :left, waltra[:pop]);
        slabel(:left :removed, waltra[:pop - 0.4ssw] << 1.4ssw,
            "L.-Pöppendorf"
        );
    }

    with link = "line.de.1113" {
        track(:first :cat, waltra[:pop + 1ssw, :ska - 1ssw]);
    }


    with link = "point.de.Lübeck-Travemünde-Skandinavienkai" {
        track(:first:station :cat, waltra[:ska - 1ssw, :ska + 1ssw]);
        marker(:de.hp :open :left, waltra[:ska]);
        slabel(:right :open, waltra[:ska - 0.6ssw] >> 1dt,
            "L.-T. Skandinavienkai"
        );
    }
    
    with link = "line.de.1113" {
        track(:first :cat, waltra[:ska + 1ssw, :trh - 1ssw]);
    }

    with link = "point.de.Lübeck-Travemünde-Hafen" {
        track(:first:station :cat, waltra[:trh - 1ssw, :trh + 1ssw]);
        marker(:de.hp :open :right, waltra[:trh]);
        with layer = -1 marker(:de.bf :gone :right, waltra[:trh]);
        slabel(:right, waltra[:trh] >> 1ssw + (1ssw, 0ssw),
            span(:bold, "L.-Travemünde Hafen")
        );
    }

    with link = "line.de.1113" {
        track(:first :cat, waltra[:trh + 1ssw, :trs - 1ssw]);
    }

    with link = "point.de.Lübeck-Travemünde-Hafen" {
        track(:first:station :cat, waltra[:trs - 1ssw, :trs]);

        marker(:de.hp :open :top, waltra[:trs]);
        with layer = -1 marker(:de.bf :gone :top, waltra[:trs]);
        track(:station, waltra[:trs] << 0.5ssw -- waltra[:trs] >> 0.5ssw);
        slabel(:right :open, waltra[:trs] + (1.2ssw, -0.6ssw),
            span(:bold, "Lübeck-Travemünde Strand")
        );
    }

}

