# DE 1100.  Lübeck Hbf (ausschl.) - Puttgarden
#
let lubput = path("path.de.1100");
let waltra = path("path.de.1113");

with detail = 3 {
    with link = "line.de.1100" {
        track(:first :double :cat, lubput[:aluh, :wal - 0.5ssw]);
    }

    with link = "point.de.Schwartau-Waldhalle-Wr" {
        track(:first :station :double, lubput[:wal - 0.5ssw, :wal + 0.5ssw]);
        track(:first :station :double,
                lubput[:wal, :wal + 0.1dl]
            ..  waltra[:aa - 0.1dl, :aa]
        );
        marker(:de.abzw :left, lubput[:wal] << 0.5dt);
        slabel(:left, lubput[:wal - 0.4ssw] << 0.5dt << 1.4ssw,
            span(:bold :condensed, "S. Waldhalle")
        );
    }

    with link = "line.de.1100" {
        track(:first :double, lubput[:wal + 0.5ssw, :swr - 1ssw]);
    }

    with link = "point.de.Bad-Schwartau" {
        track(:first :double, lubput[:swr - 1ssw, :swa - 0.5ssw]);
        marker(:de.hp :left, lubput[:swr] << 0.5dt);
        with layer = -1 marker(:de.bf :gone :left, lubput[:swr] << 0.5dt);
        slabel(:left, lubput[:swr - 1.0ssw] << 0.5dt << 1.3ssw,
            span(:bold, "Bad Schwartau")
        );
    }

    with link = "point.de.Bad-Schwartau-Abzw" {
        track(:first, lubput[:swa - 0.5ssw, :swa + 0.5ssw] << 0.5dt);
        track(:first, lubput[:swa - 0.5ssw, :swa + 0.5ssw] >> 0.5dt);
        marker(:de.abzw :left, lubput[:swa] << 0.5dt);
    }

    with link = "line.de.1100" {
        track(:first,
                lubput[:swa + 0.5ssw, :aeut.ff - 1km] >> 0.5dt
            ..  lubput[:rat - 2ssw, :rat - 1ssw]
        );
    }

    with link = "point.de.Ratekau" {
        track(:first, lubput[:rat - 1ssw, :rat + 1ssw]);
        marker(:de.bbf :left, lubput[:rat]);
        with layer = -1 marker(:de.bf :gone :left, lubput[:rat]);
        slabel(:right, lubput[:rat - 0.4ssw] >> 1.5dt, "Ratekau");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:rat + 1ssw, :tim - 1ssw]);
    }

    with link = "point.de.Timmendorferstrand" {
        track(:first :station, lubput[:tim - 1ssw, :tim + 1ssw]);
        marker(:de.bf :right, lubput[:tim]);
        label(lubput[:tim] >> 1.4ssw,
            vbox(:left:middle,
                span(:small, "Timmendorfer"),
                span(:small, "Strand")
            )
        );

    }

    with link = "line.de.1100" {
        track(:first, lubput[:tim + 1ssw, :sar - 1ssw]);
    }

    with link = "point.de.Scharbeutz" {
        track(:first :station, lubput[:sar - 1ssw, :sar + 1ssw]);
        marker(:de.bf :right, lubput[:sar]);
        slabel(:right, lubput[:sar - 0.6ssw] >> 1.4ssw, "Scharbeutz");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:sar + 1ssw, :haf - 1ssw]);
        with layer = 1 line_badge(:open, lubput[:sar + 1.5km], "1100");
    }

    with link = "point.de.Haffkrug" {
        track(:first :station, lubput[:haf - 1ssw, :haf + 1ssw]);
        marker(:de.bf :right, lubput[:haf]);
        slabel(:right, lubput[:haf - 0.3ssw] >> 1.9ssw,
            "Haffkrug"
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:haf + 1ssw, :sie - 1ssw]);
    }

    with link = "point.de.Sierksdorf" {
        track(:first :station, lubput[:sie - 1ssw, :sib + 1ssw]);
        marker(:de.bf :right, lubput[:sie]);
        with layer = -1 marker(:de.bft :left :closed, lubput[:sib]);
        slabel(:right, lubput[:sie - 0.4ssw] >> 2.4ssw, "Sierksdorf");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:sib + 1ssw, :neg - 1ssw]);
    }

    # point.de.Neustadt-Holst-Gbf: 1023.

    with link = "line.de.1100" {
        track(:first, lubput[:neg + 0.5ssw, :ssl - 0.5ssw]);
    }

    with link = "point.de.Südschleuse" {
        track(:first :station, lubput[:ssl - 0.5ssw, :ssl + 0.5ssw]);
        with layer = -1 marker(:de.abzw :removed :left, lubput[:ssl]);
    }

    with link = "line.de.1100" {
        track(:first, lubput[:ssl + 0.5ssw, :has - 0.5ssw]);
    }

    with link = "point.de.Hasselburg" {
        track(:first :station, lubput[:has - 1ssw, :has + 1ssw]);
        marker(:de.bbf :right, lubput[:has]);
        slabel(:right, lubput[:has - 0.3ssw] >> 1.9ssw, "Hasselburg");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:has + 1ssw, :gsl - 1ssw]);
    }

    with link = "point.de.Groß-Schlamin" {
        track(:first :station, lubput[:gsl - 1ssw, :gsl + 1ssw]);
        marker(:de.bbf :left, lubput[:gsl]);
        slabel(:left, lubput[:gsl - 0.6ssw] << 1.5ssw, "Groß Schlamin");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:gsl + 1ssw, :bes - 1ssw]);
    }

    with link = "point.de.Beschendorf" {
        track(:first :station, lubput[:bes - 1ssw, :bes + 1ssw]);
        marker(:de.bbf :left, lubput[:bes]);
        slabel(:left, lubput[:bes - 0.6ssw] << 1.6ssw, "Beschendorf");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:bes + 1ssw, :len - 1ssw]);
    }

    with link = "point.de.Lensahn" {
        track(:first :station, lubput[:len - 1ssw, :len + 1ssw]);
        marker(:de.bf :left, lubput[:len]);
        slabel(:left, lubput[:len - 0.6ssw] << 1.6ssw, "Lensahn");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:len + 1ssw, :gru - 1ssw]);
    }

    with link = "point.de.Grüner-Hirsch" {
        track(:first :station, lubput[:gru - 1ssw, :gru + 1ssw]);
        marker(:de.bbf :left, lubput[:gru]);
        slabel(:left, lubput[:gru - 0.6ssw] << 1.6ssw, "Grüner Hirsch");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:gru + 1ssw, :old - 2ssw]);
        with layer = 1 line_badge(:open, lubput[:gru + 2.7km], "1100");
    }

    with link = "point.de.Oldenburg-Holst" {
        track(:first :station, lubput[:old - 2ssw, :old + 1ssw]);
        marker(:de.bft :left, lubput[:old - 1ssw]);
        marker(:de.bf :left, lubput[:old]);
        slabel(:left, lubput[:old - 0.3ssw] << 1.5ssw,
            hbox(:center:base,
                span(:regular, "Oldenburg "),
                span(:light, "(Holst) ")
            )
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:old + 1ssw, :ols - 1ssw]);
    }

    with link = "point.de.Oldenburg-Holst-Stadt" {
        track(:first :statin, lubput[:ols - 1ssw, :ols + 1ssw]);
        with layer = -1 marker(:de.anst :removed :left, lubput[:ols]);
        with layer = -2 marker(:de.hp :gone :left, lubput[:ols]);
        slabel(:top :removed, lubput[:ols] << 1.4ssw,
            hbox(:center:base,
                span(:regular, "Oldenburg "),
                span(:light, "(Holst) "),
                span(:regular, "Stadt")
            )
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:ols + 1ssw, :goh - 1ssw]);
    }

    with link = "point.de.Göhl" {
        track(:first :station, lubput[:goh - 1ssw, :goh + 1ssw]);
        marker(:de.bbf :right, lubput[:goh]);
        slabel(:bottom, lubput[:goh] >> 1.2ssw, "Göhl");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:goh + 1ssw, :her - 1ssw]);
    }

    with link = "point.de.Heringsdorf-Holst" {
        track(:first :station, lubput[:her - 1ssw, :her + 1ssw]);
        with layer = -1 marker(:de.bf :closed :right, lubput[:her]);
        with layer = -2 slabel(:right :closed,
            lubput[:her - 0.4ssw] >> 2.2ssw,
            hbox(:center:base,
                span(:regular, "Heringsdorf "),
                span(:light, "(Holst)")
            )
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:her + 1ssw, :nki - 1ssw]);
    }

    with link = "point.de.Neukirchen-Holst" {
        track(:first :station, lubput[:nki - 1ssw, :nki + 1ssw]);
        marker(:de.bbf :left, lubput[:nki]);
        slabel(:left, lubput[:nki - 0.5ssw] << 1.3ssw,
            hbox(:center:base,
                span(:regular, "Neukirchen "),
                span(:light, "(Holst)")
            )
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:nki + 1ssw, :lus - 1ssw]);
    }

    with link = "point.de.Lütjenbrode-Süd" {
        track(:first :station, lubput[:lus - 1ssw, :lus + 1ssw]);
        with layer = -1 marker(:de.abzw :removed :right, lubput[:lus]);
    }

    with link = "line.de.1100" {
        track(:first, lubput[:lus + 1ssw, :luo - 1ssw]);
    }

    with link = "point.de.Lütjenbrode-Ost" {
        track(:first :station, lubput[:luo - 1ssw, :luo + 1ssw]);
        with layer = -1 marker(:de.anst :removed :left, lubput[:luo]);
        with layer = -2 marker(:de.abzw :gone :left, lubput[:luo]);
    }

    with link = "line.de.1100" {
        track(:first, lubput[:luo + 1ssw, :gbr - 1ssw]);
    }

    with link = "point.de.Großenbrode" {
        track(:first :station, lubput[:gbr - 1ssw, :gbr + 1ssw]);
        marker(:de.bf :left, lubput[:gbr]);
        with layer = -1 slabel(:right, lubput[:gbr - 0.4ssw] + (5pt, 3pt),
            span(:bold, "Großenbrode")
        );
    }

    with link = "line.de.1100" {
        track(:first, lubput[:gbr + 1ssw, :bfea]);
    }

    with link = "struct.de.Fehmarnsundbrücke" {
        track(:first, lubput[:bfea, :bfef]);
        slabel(:left, lubput[:bfea + 450m] << 2dt, "Fehmarnsundbrücke");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:bfef, :str - 1ssw]);
    }

    with link = "point.de.Strukkamp" {
        track(:first :station, lubput[:str - 1ssw, :str + 1ssw]);
        marker(:de.bbf :left, lubput[:str]);
        slabel(:left, lubput[:str - 0.4ssw] << 1.3ssw, "Strukkamp");
    }

    with link = "line.de.1100" {
        track(:first, lubput[:str + 1ssw, :buw - 1ssw]);
    }

    with link = "point.de.Burg-Fehmarn-West" {
        track(:first :station, lubput[:buw - 1ssw, :buw + 1ssw]);
        marker(:de.bbf :right, lubput[:buw]);
	with layer = -1 marker(:de.hp.casing :right, lubput[:buw]);
    }

    with link = "line.de.1100" {
        track(:first, lubput[:buw + 1ssw, :put - 1ssw]);
        with layer = 1 line_badge(:open, lubput[:buw + 3.2km], "1100");
    }

    with link = "point.de.Puttgarden" {
        track(:first :station, lubput[:put - 1ssw, :put + 0.6ssw]);
        marker(:de.bf :left, lubput[:put]);
        slabel(:left, lubput[:put - 0.7ssw] << 1.5ssw,
            span(:bold, "Puttgarden")
        );
    }
}

