# DE 1270.  Hamburg Hbf - Hamburg Landungsbrücken - Hamburg Diebsteich
#
let hamdie = path("metro.de.hmb.1270");
let altkie = path("metro.de.hmb.1220");
let spaalt = path("metro.de.hmb.6100");

with detail = 3, style = :de.sbahn {
    with link = "line.de.1270" {
        with layer = -2 track(:first :double :rail,
                spaalt[:ham + 0.5ssw, :ham + 0.51ssw] >> 2dt
            ..  hamdie[:jun - 0.5ssw, :kon]
            ..  altkie[:alt - 1.5ssw, :alt - 1ssw] << 4dt
        );
    }

    with link = "point.de.Hamburg-Jungfernstieg" {
        marker(:de.hp :right, hamdie[:jun + 0.5ssw] >> 0.5dt);
    }

    with link = "point.de.Hamburg-Stadthausbrücke" {
        marker(:de.hp :left, hamdie[:sta] << 0.5dt);
    }

    with link = "point.de.Hamburg-Landungsbrücken" {
        marker(:de.bf :left, hamdie[:lan] << 0.5dt);
    }

    with link = "point.de.Hamburg-Reeperbahn" {
        marker(:de.hp :left, hamdie[:ree] << 0.5dt);
    }

    with link = "point.de.Hamburg-Königstraße" {
        marker(:de.hp :left, hamdie[:kon] << 0.5dt);
    }

    with link = "point.de.Hamburg-Altona-S-Bahn" {
        track(:first:station :double :rail,
                altkie[:alt - 1ssw, :aham] << 4dt
        );

        marker(:de.bf :right, altkie[:alt - 0.5ssw] << 3.5dt);
        slabel(:left, altkie[:alt - 2ssw] << 5.5dt,
            span(:bold, "H.-Altona")
        );
    }

    with link = "line.de.1270" {
        with layer = 2 track(:first:station :double :rail,
                altkie[:aham - 0.1dl, :aham] << 4dt
            ..  altkie[:die + 1ssw, :die + 1.1ssw] >> 2dt
        );
        with layer = 1 casing(:first:station :double :rail,
                altkie[:aham - 0.1dl, :aham] << 4dt
            ..  altkie[:die + 1ssw, :die + 1.1ssw] >> 2dt
        );
    }
}

