# DE 1221.  Wrist - Itzehoe
#
let wriitz = path("path.de.1221");

with detail = 3 {
    with link = "line.de.1221" {
        with layer = -1 track(:second:station :removed,
                path("path.de.1220")[:ahoh, :ahoh + 1m] << 0.5dt
            ..  wriitz[:aa - 1m, :aa]
        );
        track(:second :removed, wriitz[:aa, :kel - 1ssw]);
    }

    with link = "point.de.Kellinghusen" {
        track(:second:station :removed, wriitz[:kel - 1ssw, :kel + 1ssw]);
        marker(:de.bf :removed :right, wriitz[:kel]);
        slabel(:top :removed, wriitz[:kel] >> 1.4ssw + (1ssw, 0ssw),
            vbox(:center:bottom,
                span(:regular, "Kellinghusen"),
                span(:light, "(Mittelholst)")
            )
        );
    }

    with link = "line.de.1221" {
        track(:second :removed, wriitz[:kel + 1ssw, :muh - 1ssw]);
    }

    with link = "point.de.Mühlenbarbek" {
        track(:second:station :removed, wriitz[:muh - 1ssw, :muh + 1ssw]);
        marker(:de.hp :removed :right, wriitz[:muh]);
        slabel(:bottom :removed, wriitz[:muh] << 1.0dt,
            vbox(:center:top,
                span(:regular, "Mühlen-"),
                span(:regular, "barbek")
            )
        );
    }

    with link = "line.de.1221" {
        track(:second :removed, wriitz[:muh + 1ssw, :hoh - 1ssw]);
    }

    with link = "point.de.Hohenlockstedt" {
        track(:second:station :removed, wriitz[:hoh - 1ssw, :hoh + 1ssw]);
        marker(:de.bf :removed :right, wriitz[:hoh]);
        slabel(:top :removed, wriitz[:hoh] >> 1.4ssw,
            vbox(:center:bottom,
                span(:regular, "Hohen-"),
                span(:regular, "lockstedt")
            )
        );
    }

    with link = "line.de.1221" {
        track(:second :removed, wriitz[:hoh + 1ssw, :slo - 1ssw]);
    }

    with link = "point.de.Schlotfeld" {
        track(:second:station :removed, wriitz[:slo - 1ssw, :slo + 1ssw]);
        marker(:de.hp :removed :left, wriitz[:slo]);
        slabel(:bottom :removed, wriitz[:slo] << 1.4ssw, "Schlotfeld");
    }

    with link = "line.de.1221" {
        track(:second :removed, wriitz[:slo + 1ssw, :ede - 1ssw]);
    }

    with link = "point.de.Edendorf" {
        track(:second:station :removed, wriitz[:ede - 1ssw, :ede + 1ssw]);
        marker(:de.bf :removed :right, wriitz[:ede]);
        slabel(:right :removed, wriitz[:ede + 0.5ssw] << 1.5dt,
            "Edendorf"
        );
    }

    with link = "line.de.1221" {
        with layer = -1 track(:second:station :removed,
                wriitz[:ede + 1ssw, :ff - 199m]
            ..  path("path.de.1210")[:awri, :awri - 1m] << 0.5dt
        );
    }
}


