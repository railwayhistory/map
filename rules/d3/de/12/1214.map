# DE 1214.  Wilster - Brunsb端ttel
#
let wilbru = path("path.de.1214");

with detail = 3 {
    with link = "line.de.1214" {
        track(:second :flip, wilbru[:a + 1ssw, :rum - 1ssw] << 0.5dt);
        with layer = -1 track(:first :gone,
            wilbru[:a, :rum - 1ssw] >> 0.5dt
        );
    }

    with link = "point.de.Rumfleth" {
        track(:first:station :gone, wilbru[:rum - 1ssw, :rum + 1ssw] >> 0.5dt);
        track(:second:station, wilbru[:rum - 1ssw, :rum + 1ssw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :left, wilbru[:rum] << 0.5dt);
        slabel(:left :removed, wilbru[:rum - 1.5ssw] << 0.5dt << 1ssw,
            vbox(:center:top,
                span(:regular, "Rum-"),
                span(:regular, "fleth")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:rum + 1ssw, :kus - 1ssw] >> 0.5dt);
        track(:second :flip, wilbru[:rum + 1ssw, :kus - 1ssw] << 0.5dt);
    }

    with link = "point.de.Kuskoppermoor" {
        with layer = -2 track(:first:station :gone,
            wilbru[:kus - 1ssw, :kus + 1ssw] >> 0.5dt
        );
        track(:second:station, wilbru[:kus - 1ssw, :kus + 1ssw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :right, wilbru[:kus] << 0.5dt);
        slabel(:top :removed, wilbru[:kus] << 0.5dt >> 1.0ssw,
            vbox(:center:bottom,
                span(:regular, "Kus-"),
                span(:regular, "kopper-"),
                span(:regular, "moor")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:kus + 1ssw, :sot - 1ssw] >> 0.5dt);
        track(:second :flip, wilbru[:kus + 1ssw, :sot - 1ssw] << 0.5dt);
    }

    with link = "point.de.Schotten-Steinburg" {
        with layer = -2 track(:first:station :gone,
                wilbru[:sot - 1ssw, :sot + 1ssw] >> 0.5dt
        );
        track(:second:station, wilbru[:sot - 1ssw, :sot + 1ssw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :right, wilbru[:sot] << 0.5dt);
        slabel(:left :removed, wilbru[:sot - 1.5ssw] << 0.5dt >> 1.2ssw,
            vbox(:right:bottom,
                span(:regular, "Schotten"),
                span(:light, "(Kr St.b.)")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:sot + 1ssw, :nor - 1ssw] >> 0.5dt);
        track(:second :flip, wilbru[:sot + 1ssw, :nor - 1ssw] << 0.5dt);
    }

    with link = "point.de.Nortorf-Steinburg" {
        with layer = -2 track(:first:station :gone,
                wilbru[:nor - 1ssw, :nor + 1ssw] >> 0.5dt
        );
        track(:second:station, wilbru[:nor - 1ssw, :nor + 1ssw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :right, wilbru[:nor] << 0.5dt);
        slabel(:bottom :removed, wilbru[:nor] << 1.0dt,
            vbox(:center:bottom,
                span(:regular, "Nor-"),
                span(:regular, "torf"),
                span(:light, "(Kr St.b.)")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:nor + 1ssw, :lan - 1ssw] >> 0.5dt);
        track(:second :flip, wilbru[:nor + 1ssw, :lan - 1ssw] << 0.5dt);
    }

    with link = "point.de.Landscheide" {
        with layer = -2 track(:first:station :gone,
                wilbru[:lan - 1ssw, :lan + 1ssw] >> 0.5dt
        );
        track(:second:station, wilbru[:lan - 1ssw, :lan + 1ssw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :right, wilbru[:lan] << 0.5dt);
        slabel(:left :removed, wilbru[:lan - 0.5ssw] << 0.5dt >> 1.2ssw,
            vbox(:right:bottom,
                span(:regular, "Land-"),
                span(:regular, "scheide")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:lan + 1ssw, :sma - 1ssw] >> 0.5dt);
        track(:second :flip, wilbru[:lan + 1ssw, :sma - 1ssw] << 0.5dt);
    }

    with link = "point.de.St-Margarethen" {
        track(:first:station :gone, wilbru[:sma - 1ssw, :sma + 1ssw] >> 0.5dt);
        track(:second:station, wilbru[:sma - 1ssw, :sma + 1ssw] << 0.5dt);
        marker(:de.bf :left, wilbru[:sma] << 0.5dt);
        slabel(:bottom, wilbru[:sma] << 0.5dt << 1.4ssw,
            vbox(:center:bottom,
                span(:regular, "St Mar-"),
                span(:regular, "garethen"),
                span(:light, "(Holst)")
            )
        );
    }

    with link = "line.de.1214" {
        track(:first :gone, wilbru[:sma + 1ssw, :smg] >> 0.5dt);
        track(:second :flip, wilbru[:sma + 1ssw, :kud - 1ssw] << 0.5dt);
    }

    with link = "point.de.Kudensee" {
        track(:second:station, wilbru[:kud - 1ssw, :kud + 1ssw] << 0.5dt);
        marker(:de.awanst :left, wilbru[:kud] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :left, wilbru[:kud] << 0.5dt);
        #slabel(:left, wilbru[:kud + 0.3ssw] << 0.5dt >> 0.75dt, "Kudensee");
        slabel(:top, wilbru[:kud] >> 0.5dt,
	        vbox(:center:bottom,
                span(:regular, "Kuden-"),
                span(:regular, "see")
            )
        );
    }

    with link = "line.de.1214" {
        track(:second :flip,
                wilbru[:kud + 1ssw, :kud + 1.1ssw] << 0.5dt
            ..  wilbru[:bro - 1.1ssw, :bro - 1ssw]
        );
    }

    with link = "point.de.Brunsb端ttel-Ost" {
        track(:second:station, wilbru[:bro - 1sw, :bro + 1sw]);
        with layer = -1 marker(:de.awanst :closed :left, wilbru[:bro]);
        with layer = -2 marker(:de.bf :gone :left, wilbru[:bro]);
        slabel(:right :closed, wilbru[:bro + 0.4ssw] << 2.2ssw,
            "B. Ost"
        );
    }

    with link = "line.de.1214" {
        track(:second :flip, wilbru[:bro + 1ssw, :bru - 1ssw]);
    }

    with link = "point.de.Brunsb端ttel" {
        track(:second:station, wilbru[:bru - 1ssw, :f]);
        marker(:de.gbf :left, wilbru[:bru]);
        with layer = -1 marker(:de.bf :gone :left, wilbru[:bru]);
        slabel(:bottom, wilbru[:bru] << 1.5ssw,
            span(:bold, "Brunsb端ttel")
        );
    }
}


