# DE 1239.  Hamburg-Ohlsdorf - Hamburg Airport
#
let ohlair = path("path.de.1239");

with detail = 4, style = :de.sbahn {
    # point.de.Hamburg-Ohlsdorf-S-Bahn: de.1241

    with link = "line.de.1239" {
        track(:first :double :rail,
                path("path.de.1241")[:aair, :aair + 1m] << 1dt
            ..  ohlair[:aa, :air - 300m]
        );
        with layer = 1 line_badge(:open, ohlair[:aa + 0.7km], "1239");
    }

    
    with link = "point.de.Hamburg-Airport" {
        # Gl. 3 (Richtungsgleis 1239)
        track(:first:station :rail,
                ohlair[:air - 300m, :air + 120m] >> 0.5dt
        );

        # Gl. 4 (Gegenrichtungsgleis 1239)
        track(:first:station :rail,
                ohlair[:air - 300m, :air + 120m] << 0.5dt
        );

        # W301 - W302
        track(:station :rail,
                ohlair[:air - 130m - 3dl] >> 0.5dt
            --  ohlair[:air - 130m - 2dl] << 0.5dt
        );

        # W303 - W304
        track(:station :rail,
                ohlair[:air - 130m - 1dl] << 0.5dt
            --  ohlair[:air - 130m] >> 0.5dt
        );

        marker(:de.bf :left, ohlair[:air] << 0.5dt);
        station(:left, ohlair[:air - 0.4sw] << 0.5dt << 1.6sw,
            span(:bold, "H. Airport"),
            "1239: 14,21"
        );
    }
}

