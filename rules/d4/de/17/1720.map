# DE 1720.  Lehrte - Cuxhaven
#
let lehcux = path("path.de.1720");

with detail = 4 {

    with link = "line.de.1720" {
        # Str. 1720 L/R
        track(:first :double :cat, lehcux[:meh + 300m, :fbre - 350m] >> 1dt);

        # Str. 1720 R
        track(:first :cat :tight,
                lehcux[:fbre - 350m, :fbre - 340m] >> 1.5dt
            ..  lehcux[:fbre + 100m, :hrb - 450m] >> 1.5dt
        );

        # Str. 1720 L
        track(:first :cat :tight :flip,
                lehcux[:fbre - 350m, :fbre - 340m] >> 0.5dt
            ..  lehcux[:fbre + 100m, :hrb - 450m] << 1.5dt
        );
    }


    # point.de.Hamburg-Harburg: de.2200


    with link = "point.de.Hamburg-Unterelbe" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:unt - 100m, :unt + 3dl] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:unt - 100m, :unt + 3dl] >> 0.5dt);

        # Gl. 15 (Str. 1252 L)
        track(:station :cat,
                lehcux[:unt + 2.9dl, :unt + 3dl] >> 2.5dt
            --  lehcux[:unt + 4dl, :unt + 6dl] >> 1.5dt
        );

        # Gl. 16 (Str. 1252 R)
        track(:station,
                lehcux[:unt - 1dl, :unt + 1dl] >> 1.5dt
        );
        track(:first:station :cat,
                lehcux[:unt - 0.1dl, :unt] >> 0.5dt
            --  lehcux[:unt + 2dl, :unt + 6dl] >> 2.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:unt - 2dl] << 0.5dt
            --  lehcux[:unt - 1dl] >> 0.5dt
        );

        marker(:de.bbf :left, lehcux[:unt] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:unt] << 0.5dt);
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:unt + 3dl, :tem - 1sw]);
    }


    with link = "point.de.Hamburg-Tempowerk" {
        track(:first:station :double :cat, lehcux[:tem - 1sw, :tem + 0.55sw]);
        with layer = -1 marker(:de.hp :removed :right, lehcux[:tem] >> 0.5dt);
    }


    with link = "point.de.Heimfeld" {
        track(:first:station :double :cat,
                lehcux[:tem + 0.55sw, :tem + 2.1sw]
        );
        with layer = -1 marker(
            :de.bk :removed :right, lehcux[:tem + 1.1sw] >> 0.5dt
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:tem + 2.1sw, :haa.a]);
    }


    with link = "point.de.Hamburg-Hausbruch" {
        let seldra = path("path.de.1253");

        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:haa.a, :haa.f] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:haa.a, :haa.f] >> 0.5dt);

        # Gl. 3 (Str. 1293 L)
        track(:first:station :cat,
                lehcux[:haa.a + 100m + 2.9dl, :haa.a + 100m + 3dl] >> 0.5dt
            --  lehcux[:haa.a + 100m + 4dl, :fhos] >> 1.5dt
        );

        # Gl. 4 (Str. 1293 R)
        track(:first:station :cat,
                lehcux[:haa.a + 99m, :haa.a + 100m] >> 0.5dt
            --  lehcux[:haa.a + 100m + 2dl, :fhos] >> 2.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:haa.a + 100m + 1dl] << 0.5dt
            --  lehcux[:haa.a + 100m + 2dl] >> 0.5dt
        );

        # W5 - W7
        track(:station :cat,
                lehcux[:haa.a + 100m + 5dl] >> 1.5dt
            --  lehcux[:haa.a + 100m + 6dl] >> 2.5dt
        );


        marker(:de.bbf :left, lehcux[:haa] << 0.5dt);
        with layer = -1 marker(:de.bf.casing :left, lehcux[:haa] << 0.5dt);
    }
 
}

