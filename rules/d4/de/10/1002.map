# DE 1002.  Flensburg Weiche (ausschl) - Flensburg Hafen Ost
# DE 1003.  Flensburg Alter Bf - Flensburg Hafen West
#
let flafhw = path("path.de.1003");
let flwfho = path("path.de.1002");
let neufle = path("path.de.1040");

with detail = 4 {
    track(:second :removed :flip, neufle[:flw.f, :wil - 1sw] << 1.5dt);

    # Flensburg Wilhelminental
    track(:second :station :removed, neufle[:wil - 1sw, :wil - 1dl] << 1.5dt);
    track(:second :station :closed,
            neufle[:wil - 2.1dl, :wil - 2dl] << 0.5dt
        --  neufle[:wil - 1dl, :wil + 1sw] << 1.5dt
    );
    marker(:de.awanst :closed :left, neufle[:wil] << 1.5dt);
    station(:left :closed,
        neufle[:wil - 0.5sw] << 1.5dt << 1.5sh,
        "F. W.tal", "174,86"
    );

    track(:second :closed :flip,
           neufle[:wil + 1sw, :afla] << 1.5dt
        .. flwfho[:afle.f, :fla.a]
    );
    with layer = 1 line_badge(:closed, flwfho[:wil + .9km], "1002");

    # Flensburg Alter Bf
    track(:second :closed :station, flwfho[:fla.a, :fla + .5sw]);
    track(:station :closed, flwfho[:fla + .5sw, :f]);
    track(:station :closed,
           flwfho[:fla.a + .9dl, :fla.a + 1dl]
        -- flwfho[:fla.a + 2dl, :fla + .5sw] << 1dt
        .. flafhw[:aa, :f]
    );
    marker(:de.bf :closed :left, flwfho[:fla] << 1dt);
    station(
        :left :closed, flwfho[:fla - .4sw] << 1.5sw << 1dt,
        "F. Alter Bf", "177,305"
    );

    with layer = 1 line_badge(:closed, flwfho[:fla + 1.1km], "1002");
    with layer = 1 line_badge(:closed, flafhw[:a + .85km], "1003");
}

