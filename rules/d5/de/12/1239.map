# DE 1239.  Hamburg-Ohlsdorf - Hamburg Airport
#
let ohlair = path("path.de.1239");

with detail = 5, style = :de.sbahn {
    # point.de.Hamburg-Ohlsdorf-S-Bahn: de.1241

    with link = "line.de.1239" {
        track(:first :double :rail,
                ohlair[:ohl + 700m, :ohl + 701m] << 1dt
            ..  ohlair[:aa, :air - 300m]
        );
        with layer = 1 line_badge(:open, ohlair[:aa + 0.6km], "1239");
    }

    
    with link = "point.de.Hamburg-Airport" {
        # Gl. 3 (Richtungsgleis 1239)
        track(:first:station :rail,
                ohlair[:air - 300m, :air + 120m] >> 0.5dt
        );

        # Gl. 4 (Gegenrichtungsgleis 1239)
        track(:first:station :rail,
                ohlair[:air - 300m, :air - 190m] << 0.5dt
            ..  ohlair[:air - 80m, :air + 120m] << 1.5dt
        );

        # W301 - W302
        track(:station :rail,
                ohlair[:air - 260m] >> 0.5dt
            --  ohlair[:air - 200m] << 0.5dt
        );

        # W303 - W304
        track(:station :rail,
                ohlair[:air - 190m] << 0.5dt
            --  ohlair[:air - 130m] >> 0.5dt
        );

        # Bahnsteig
        platform(:open,
                ohlair[:air - 70m, :air + 60m] >> 0.1dt
            --  ohlair[:air + 60m, :air - 70m] >> 1.1dt
        );

        marker(:de.bf :left, ohlair[:air] << 1.5dt);
        station(:left, ohlair[:air - 0.4sw] << 1.5dt << 1.6sw,
            span(:bold, "H. Airport"),
            "1239: 14,21"
        );
    }
}

