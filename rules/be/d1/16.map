with detail = 1 {
    with link = "line.be.160" {
        with layer = -4 track(:first :double :removed,
            path("d1.be.160")[:ett.f, :ter]
        );
    }

    with link = "line.be.161" {
        track(:first :double :cat:dc30 :pax, path("d1.be.161")[:sae.a, :nam.f]);
    }

    with link = "line.be.161A" {
        track(:first :double :cat:dc30 :pax, path("d1.be.161a")[:yju, :blu.a]);
    }

    with link = "line.be.161D" {
        track(:first :double :cat:dc30 :pax, path("d1.be.161d")[:ylo, :lou]);
    }

    with link = "line.be.162" {
        track(:first :double :cat:dc30 :pax, path("d1.be.162")[:nam.b, :stef]);
    }

    with link = "line.be.162X" {
        with layer = -4 track(:first :removed,
            path("d1.be.162x")[:yau, :ramf]
        );
    }

    with link = "line.be.163" {
        let ls = path("simple.be.163");

        with layer = -4 track(:first :double :removed, ls[:lib.f, :gou.f]);
        with layer = -4 track(:first :double :removed, ls[:gou.a, :svi.f]);
    }

    with link = "line.be.163A" {
        with layer = -4 track(:first :removed,
            path("d1.be.163a")[:yor, :munf]
        );
    }

    with link = "line.be.164" {
        with layer = -4 track(:first :removed,
            path("d1.be.164")[:bas.f, :benf]
        );
    }

    with link = "line.be.165" {
        let la = path("d1.be.165");

        track(:first :double :cat:ac25 :pax, la[:lib.a, :ath]);
    }

    with link = "line.be.165.1" {
        track(:first :cat:ac25 :pax, path("d1.be.165.1")[:yau, :athf.a]);
    }

    with link = "line.be.165.2" {
        with layer = -2 track(:first :double :cat:ac25,
            path("d1.be.165.2")[:yau, :aubf]
        );
    }

    with link = "line.be.166" {
        let nb = path("d1.be.166");

        track(:first :double :cat:dc30 :pax, nb[:yne, :nsl]);
        track(:first :double :cat:ac25 :pax, nb[:nsl, :ber.a]);
    }

    with link = "line.be.167" {
        let aa = path("d1.be.167");

        with layer = -2 track(:first :cat:dc30, aa[:yau, :msl]);
        with layer = -2 track(:first :cat:ac25, aa[:msl, :athf]);
    }
}

