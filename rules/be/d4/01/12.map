# BE 12.  Antwerpen Centraal - Essen-Grens
#
let ae = path("d3.be.12");

with detail = [4, 5] {
    # point.be.Antwerpen-Centraal  be.25
    # point.be.Y-Arendstraat       be.25

    with link = "point.be.Y-Antwerpen-Oost" {
        let lr = path("d3.be.27a");

        track(:first:station :double :cat:dc3 :pax,
                ae[:yao.x - 0.5sw, :yao + 0.5sw] << 1dt
        );

        with layer = -1 track(:first:station :double :cat:dc3,
                lr[:yao.x - 0.5sw, :yao + 0.5sw] << 1dt
        );
        with layer = -1 track(:first:station :double :cat:dc3,
                lr[:yao.x - 0.5sw, :yao + 0.5sw] >> 1dt
        );

        marker(:de.abzw :right, lr[:yao] >> 1.5dt);
    }

    
    with link = "point.be.Antwerpen-Oost" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:yao + 0.5sw, :ysi - 0.5sw] << 1dt
        );
        with layer = -1 track(:first:station :double :cat:dc3,
                ae[:yao + 0.5sw, :ysi - 0.5sw] >> 1dt
        );

        marker(:de.bf :left, ae[:ano] << 1.5dt);
#       station(:top, ae[:ano] << 1.5dt << 1.2sw,
#           "Antwerpen-Oost",
#           "12: ?? · 27A: ??"
#       );
    }


    with link = "point.be.Y-Antwerpen-Schijnpoort" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:ysi - 0.5sw, :ysi + 0.5sw] << 1dt
        );
        with layer = -1 track(:first:station :double :cat:dc3,
                ae[:ysi - 0.5sw, :ysi + 0.5sw] >> 1dt
        );

        marker(:de.abzw :left, ae[:ysi] << 1.5dt);
        station(:right, ae[:ysi - 0.3sw] >> 3.0dt,
            "Y.Antwerpen-Schijnpoort",
            "12: ?? · 27A: ??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax,
                ae[:ysi + 0.5sw, :yho - 0.5sw] << 1dt
        );
    }


    with link = "point.be.Y-Holland" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:yho - 0.5sw, :yho + 0.5sw] << 1dt
        );
        with layer = -1 track(:first:station :double :cat:dc3,
                ae[:yho - 0.5sw, :yho + 0.5sw] >> 1dt
        );

        marker(:de.abzw :right, ae[:yho] >> 1.5dt);
        station(:right :left_align, ae[:yho - 0.7sw] >> 5.5dt,
            "Y.Holland",
            "12: ?? · 12B: ?? · 27A: ??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax,
                ae[:yho + 0.5sw, :ada - 1sw] << 1dt
        );
    }


    with link = "point.be.Antwerpen-Dam" {
        with layer = 2 track(:first:station :double :cat:dc3 :pax,
                ae[:ada - 1sw, :ada + 1sw] << 1dt
        );

        with layer = 2 marker(:de.hp :right, ae[:ada] << 0.5dt);
        with layer = 1 marker(:de.hp.casing :right, ae[:ada] << 0.5dt);
        station(:right, ae[:ada + 1.5sw] << 0.5dt >> 1.2sw,
            "Antwerpen-Dam",
            "12: ??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax,
                ae[:ada + 0.5sw, :luc - 1sw] << 1dt
        );
    }


    with link = "point.be.Antwerpen-Luchtbal" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:luc - 1sw, :luc + 1sw] << 3dt
        );
        track(:first:station :double :cat:dc3 :pax,
                ae[:luc - 1sw, :luc + 1sw] << 1dt
        );
        with layer = -1 track(:first:station :double :cat:dc3,
                ae[:luc - 1sw, :luc + 1sw] >> 1dt
        );
        marker(:de.hp :left, ae[:luc] << 3.5dt);
        station(:left, ae[:luc - 0.4sw] << 3.5dt << 1.4sw,
            "Antwerpen-Luchtbal",
            "25: ?? · 12: ?? · 27A: ??"
        );
    }


    with link = "point.be.Y-Luchtbal" {
        # Lijn 4
        track(:first:station :double :cat:dc3 :pax,
                ae[:ylu, :ylu + 3dl] << 2dt
            ..  ae[:ndo - 1.1sw, :ndo - 1sw] >> 1dt
        );

        # Lijn 12 links
        track(:first:station :cat:dc3 :pax,
                ae[:luc + 1sw, :luc + 1.1sw] << 1.5dt
            ..  ae[:ylu - 3dl, :ndo - 1sw] << 3.5dt
        );
            with layer = 2 track(:station :cat:dc3 :pax,
                    ae[:ylu - 2dl] << 3.5dt
                --  ae[:ylu - 0.5dl] << 2.5dt
            );
            with layer = 2 track(:station :cat:dc3 :pax,
                    ae[:ylu + 0.5dl] << 2.5dt
                --  ae[:ylu + 2dl] << 3.5dt
            );

        # Lijn 12 rechts
        with layer = 2 track(:first:station :cat:dc3 :pax,
                ae[:luc + 1sw, :ylu + 3dl] << 0.5dt
            ..  ae[:ndo - 1.1sw, :ndo - 1sw] << 2.5dt
        );
        with layer = 1 casing(:first:station :cat:dc3 :pax,
                ae[:ylu + 2.9dl, :ylu + 3dl] << 0.5dt
            ..  ae[:ndo - 1.1sw, :ndo - 1sw] << 2.5dt
        );
            with layer = 2 track(:station :cat:dc3 :pax,
                    ae[:ylu - 2dl] << 0.5dt
                --  ae[:ylu - 0.5dl] << 1.5dt
            );
            with layer = 2 track(:station :cat:dc3 :pax,
                    ae[:ylu + 0.5dl] << 1.5dt
                --  ae[:ylu + 2dl] << 0.5dt
            );

        # Lijn 25
        with layer = 2 track(:first:station :double :cat:dc3 :pax,
                ae[:luc + 1sw, :ylu - 900m + 1dl] << 3dt
            ..  ae[:ylu - 3dl, :ylu] << 2dt
        );
        with layer = 1 casing(:first:station :double :cat:dc3 :pax,
                ae[:ylu - 900m + 0.9dl, :ylu - 900m + 1dl] << 3dt
            ..  ae[:ylu - 3dl, :ylu - 2.9dl] << 2dt
        );
            with layer = 2 track(:station :cat:dc3 :pax,
                    ae[:ylu - 900m] << 3.5dt
                --  ae[:ylu - 900m + 1dl] << 2.5dt
            );

        marker(:de.abzw :left, ae[:ylu] << 3.5dt);
        station(:left :right_align, ae[:ylu - 0.4sw] << 3.5dt << 1.4sw,
            "Y.Luchtbal", "4: ?? · 12: ?? · 25: ??"
        );
    }


    with link = "point.be.Antwerpen-Noorderdokken" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:ndo - 1sw, :ndo + 1sw] << 3dt
        );
        track(:first:station :double :cat:dc3,
                ae[:ndo - 1sw, :ndo + 1sw] << 1dt
        );
        marker(:de.hp :left, ae[:ndo] << 3.5dt);
        station(:left, ae[:ndo - 0.4sw] << 3.5dt << 1.4sw,
            "Antwerpen-Noorderdokken", "12: ?? · 27A: ??"
        );
    }


    with link = "point.be.Luchtbal-Wijkbundel" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:ndo + 1sw, :eke - 1sw] << 3dt
        );

        with layer = -3 track(:station,
                ae[:lwi.x, :lwi.f] << 1.5dt
        );
        with layer = -3 track(:station,
                ae[:lwi - 150m - 2dl, :lwi + 150m + 2dl] << 0.5dt
        );
        with layer = -3 track(:station,
                ae[:lwi - 150m - 1dl, :lwi + 150m + 1dl] >> 0.5dt
        );
        with layer = -3 track(:station,
                ae[:lwi - 150m - 3.1dl, :lwi - 150m - 3dl] << 1.5dt
            --  ae[:lwi - 150m, :lwi + 150m] >> 1.5dt
            --  ae[:lwi + 150m + 3dl, :lwi + 150m + 3.1dl] << 1.5dt
        );
        
        marker(:de.gbf :right, ae[:lwi] >> 1.5dt);
        station(:left, ae[:lwi - 0.4sw] << 5.0dt,
            "Luchtbal-Wijkbundel", "12: ??"
        );
    }


    with link = "point.be.Ekeren" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:eke - 1sw, :eke + 1sw] << 3dt
        );
        marker(:de.hp :left, ae[:eke] << 3.5dt);
        station(:left, ae[:eke - 0.4sw] << 3.5dt << 1.4sw,
            "Ekeren", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax,
                ae[:eke + 1sw, :ysm - 1sw] << 3dt
        );
    }


    with link = "point.be.Y-Sint-Mariaburg" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:ysm - 1sw, :ysm + 1sw] << 3dt
        );
        marker(:de.abzw :right, ae[:ysm] << 2.5dt); 
        station(:right, ae[:ysm - 0.4sw] << 2.5dt >> 1.4sw,
            "Y.Sint-Mariaburg", "12/1: ?? · 12: ??"
        );
    }


    with link = "point.be.Sint-Mariaburg" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:ysm + 1sw, :sma.f] << 3dt
        );
            with layer = -1 track(:station :cat:dc3,
                    ae[:sma.f - 80m - 1dl] << 3.5dt
                --  ae[:sma.f - 80m] << 2.5dt
            );

        marker(:de.bf :right, ae[:sma] << 2.5dt);
        station(:left, ae[:sma - 0.4sw] << 5.5dt,
            "Sint-Mariaburg", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax,
                ae[:sma.f, :sma + 900m] << 3dt
            ..  ae[:kap - 221m, :kap - 220m]
        );
    }


    with link = "point.be.Kapellen" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:kap - 220m, :kap + 0.5sw]
        );
            with layer = -1 track(:station :cat:dc3,
                    ae[:kap - 1dl] << 0.5dt
                --  ae[:kap] >> 0.5dt
            );
        marker(:de.bf :left, ae[:kap] << 0.5dt);
        station(:left, ae[:kap - 0.4sw] << 0.5dt << 1.3sw,
            "Kapellen", "??"
        );
    }


    with link = "point.be.Kapellen-Wijkspoor" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:kap + 0.5sw, :kaw.f]
        );
            with layer = -1 track(:station :cat:dc3,
                    ae[:kaw.f - 100m - 1dl] >> 0.5dt
                --  ae[:kaw.f - 100m] << 0.5dt
            );

        with layer = -1 track(:station :cat:dc3,
                ae[:kap + 0.49sw, :kap + 0.5sw] >> 0.5dt
            --  ae[:kap + 0.5sw + 1dl, :kaw.f - 250m - 1dl] >> 1.5dt
            --  ae[:kaw.f - 250m, :kaw.f - 249m] >> 0.5dt
        );

        marker(:de.bbf :right, ae[:kaw] >> 1.5dt);
        station(:right, ae[:kaw - 0.3sw] >> 1.5dt >> 1.5sw,
            "Kapellen-Wijkspoor", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax, ae[:kaw.f, :hei - 1sw]);
        with layer = 1 line_badge(:open, ae[:kaw.f + 1.4km], "12");
    }


    with link = "point.be.Kapellenbos" {
        with layer = -4 marker(:de.hp :removed :left, ae[:kbo] << 0.5dt);
        station(:left :removed, ae[:kbo - 0.4sw] << 0.5dt << 1.3sw,
            "Kapellenbos", "??"
        );
    }


    with link = "point.be.Heide" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:hei - 1sw, :hei + 1sw]
        );
        marker(:de.hp :left, ae[:hei] << 0.5dt);
        station(:left, ae[:hei - 0.4sw] << 0.5dt << 1.3sw,
            "Heide", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax, ae[:hei + 1sw, :kik - 1sw]);
    }


    with link = "point.be.Kijkuit" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:kik - 1sw, :kik + 1sw]
        );
        marker(:de.hp :left, ae[:kik] << 0.5dt);
        station(:left, ae[:kik - 0.4sw] << 0.5dt << 1.3sw,
            "Kijkuit", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax, ae[:kik + 1sw, :kal.a]);
    }


    with link = "point.be.Kalmthout" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:kal.a, :kal.f]
        );
            with layer = -1 track(:station :cat:dc3,
                    ae[:kal.a + 100m] << 0.5dt
                --  ae[:kal.a + 180m] >> 0.5dt
            );
            with layer = -1 track(:station :cat:dc3,
                    ae[:kal.a + 240m] >> 0.5dt
                --  ae[:kal.a + 320m] << 0.5dt
            );
        marker(:de.bf :right, ae[:kal] >> 0.5dt);
        station(:right, ae[:kal - 0.35sw] >> 0.5dt >> 1.3sw,
            "Kalmthout", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax, ae[:kal.f, :wil - 1sw]);
    }


    with link = "point.be.Wildert" {
        track(:first:station :double :cat:dc3 :pax,
                ae[:wil - 1sw, :wil + 1sw]
        );
        marker(:de.hp :right, ae[:wil] >> 0.5dt);
        station(:right, ae[:wil - 0.4sw] >> 0.5dt >> 1.3sw,
            "Wildert", "??"
        );
    }


    with link = "line.be.12" {
        track(:first :double :cat:dc3 :pax, ae[:wil + 1sw, :ess.a]);
        with layer = 1 line_badge(:open, ae[:wil + 1.5km], "12");
    }


    with link = "point.be.Essen" {
        # Sporen 1 en 2
        track(:first:station :double :cat:dc3 :pax,
                ae[:ess.a, :essg]
        );
            with layer = -1 track(:station :cat:dc3 :pax,
                    ae[:ess.a + 230m] >> 0.5dt
                --  ae[:ess.a + 380m] << 1.5dt
            );

        # Spoor 3
        with layer = -1 track(:station :cat:dc3 :pax,
                ae[:ess.a, :essg + 180m] << 1.5dt
        );

        # Spoor 4/5/6
        with layer = -1 track(:station :cat:dc3 :pax,
                ae[:ess - 250m + 1dl, :ess + 560m - 1dl] << 2.5dt
        );

        # Spoor 7/8/9
        with layer = -1 track(:station :cat:dc3 :pax,
                ae[:ess - 251m, :ess - 250m] << 1.5dt
            --  ae[:ess - 250m + 2dl, :ess + 560m - 2dl] << 3.5dt
            --  ae[:ess + 560m] << 1.5dt
            --  ae[:ess + 700m] >> 0.5dt
        );

        marker(:de.bf :right, ae[:ess] >> 0.5dt);
        station(:right, ae[:ess - 0.4sw] >> 0.5dt >> 1.3sw,
            "Essen", "12: ??"
        );
    }
}

