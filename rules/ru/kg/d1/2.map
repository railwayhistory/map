with detail = 1 {
    with link = "line.ru.kg.20" {
        track(:second :narrow :removed, path("d1.ru.kg.20")[:zel.yc, :cra]);
    }

    with link = "line.ru.kg.20" {
        let ks = path("d1.ru.kg.21");

        track(:second :double :g1520 :cat:dc30 :pax, ks[:kal, :kut.yz]);
        track(:second :g1520 :pax, ks[:kut.yz, :sov.yk]);
    }

    with link = "line.ru.kg.22" {
        let kk = path("d1.ru.kg.22");
            
        with railway = :second :narrow :removed {
            track(kk[:kom.yk, :zhe.yp]);
            track(kk[:zhe.yk, :krg]);
        }
    }

    with link = "line.ru.kg.23" {
        track(:second :narrow :removed, path("d1.ru.kg.23")[:zna.yp, :pra.yz]);
    }

    with link = "line.ru.kg.24" {
        track(:second :narrow :removed, path("d1.ru.kg.24")[:pra.yb, :shg]);
    }

    with link = "line.ru.kg.25" {
        track(:second :narrow :removed, path("d1.ru.kg.25")[:che.yo, :gog]);
    }

    with link = "line.ru.kg.26" {
        let ug = path("d1.ru.kg.26");

        with railway = :second :narrow :removed {
            track(ug[:ulg, :ozy.yp]);
            track(ug[:ozy.yg, :gus.yo]);
        }
    }

    with link = "line.ru.kg.27" {
        let gl = path("d1.ru.kg.27");

        with railway = :second :narrow :removed {
            track(gl[:gus.yc, :chi.yg]);
            track(gl[:chi.yl, :leg]);
        }
    }

    with link = "line.ru.kg.28" {
        let gn = path("d1.ru.kg.28");

        track(:second :narrow :removed, gn[:gog, :kra]);
        track(:second :g1520 :nopax, gn[:kra, :nes.yc]);
    }

    with link = "line.ru.kg.29" {
        let sn = path("d1.ru.kg.29");

        track(:second :g1520 :nopax, sn[:sov.yk, :nem]);
        track(:second :g1520 :removed, sn[:nem, :nes.ys]);
    }
}

