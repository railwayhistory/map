with detail = 1 {
    with link = "line.nl.LA" {
        with layer = -4 track(:second :removed, path("d1.nl.la")[:lw.y, :aj]);
    }

    with link = "line.nl.LH" {
        let lh = path("d1.nl.lh");

        with layer = -2 track(:first, lh[:zlw.x, :otw]);
        with layer = -4 track(:first :removed, lh[:otw, :ht]);
    }

    with link = "line.nl.LI" {
        let li = path("d1.nl.li");

        track(:first :pax, li[:lg.x, :krd]);
        track(:first, li[:krd, :spv.x]);
    }

    with link = "line.nl.LR" {
        track(:first :double :cat:dc15 :pax, path("d1.nl.lr")[:zlw.x, :rsdg]);
    }

    with link = "line.nl.LS" {
        with layer = -1 track(:first :pax, path("d1.nl.ls")[:lw.x, :stv]);
    }

    with link = "line.nl.LV" {
        with layer = -2 track(:second, path("d1.nl.lv")[:lwd, :sloe]);
    }

    with link = "line.nl.LW" {
        track(:first :double :cat:dc15 :pax, path("d1.nl.lw")[:lls, :htba]);
    }

    with layer = -2, link = "line.nl.LZ" {
        let lz = path("d1.nl.lz");

        track(:tram :double :cat:dc15 :pax, lz[:ldda, :ztm.x]);
        track(:tram :double :cat:dc15 :pax, lz[:ztm.y, :zcw]);
    }
}

