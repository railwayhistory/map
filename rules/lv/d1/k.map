with detail = 1 {
    with link = "line.lv.KP" {
        track(:second :g1520 :removed, path("d1.lv.kj")[:kru.yt, :jek]);
    }

    with link = "line.lv.KK" {
        let kk = path("d1.lv.kk");

        track(:first :g1520 :nopax, kk[:ksr, :rez]);
        track(:first :double :g1520 :nopax, kk[:rez, :pup]);
        track(:first :g1520 :nopax, kk[:pup, :kra]);
        track(:first :double :g1520 :nopax, kk[:kra, :agl]);
        track(:first :g1520 :nopax, kk[:agl, :cp524]);
        track(:first :double :g1520 :nopax, kk[:cp524, :das]);
        track(:first :g1520 :nopax, kk[:das, :kcr]);
    }

    with link = "line.lv.KL" {
        let kl = path("d1.lv.kl");

        track(:second :g1520 :suspended, kl[:kar, :pri.yk]);
        track(:second :g1520 :removed, kl[:pri.yk, :cim.y]);
    }

    with link = "line.lv.KP" {
        track(:second :g1520 :removed, path("d1.lv.kp")[:kur.yp, :pav]);
    }
}

