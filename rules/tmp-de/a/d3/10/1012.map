# DE 1012.  Büdelsdorf - Husum
#
let budhus = path("d4.de.1012");

with detail = 3 {
    # point.de.Büdelsdorf  de.1040

    with link = "line.de.1012" {
        track(:second:station, budhus[:bud.gg + 1dt, :gen - 1sw]);
    }

    with link = "point.de.Rendsburg-Gewerbegebiet-Nord" {
        with layer = -2 track(:second:station,
                budhus[:gen - 1sw, :gen]
        );
        marker(:de.anst :right, budhus[:gen]);
    }

    with link = "line.de.1012" {
        with layer = -4 track(:second :removed, budhus[:gen, :foc - 1sw]);
    }

    with link = "point.de.Fockbek" {
        track(:second:station :removed, budhus[:foc - 1sw, :foc + 1sw]);
        marker(:de.anst :closed :left, budhus[:foc]);
        marker(:de.exbf :closed :left, budhus[:foc]);
        slabel(:left :closed, budhus[:foc] + (1.5dt, -1.8dt), "Fockbek");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:foc + 1sw, :gar - 1sw]);
    }

    with link = "point.de.Garlbek" {
        track(:second:station :removed, budhus[:gar - 1sw, :gar + 1sw]);
        marker(:de.hp :removed :right, budhus[:gar]);
        slabel(:left :removed, budhus[:gar] + (3.5dt, -1.4sh), "Garlbek");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:gar + 1sw, :hoh - 1sw]);
    }

    with link = "point.de.Hohn" {
        track(:second:station :removed, budhus[:hoh - 1sw, :hoh + 1sw]);
        marker(:de.bf :removed :left, budhus[:hoh]);
        slabel(:bottom :removed, budhus[:hoh] << 1.1sh, "Hohn");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:hoh + 1sw, :chr - 1sw]);
        line_label(:left:n :removed, budhus[:hoh + 3.5km], "1012");
    }

    with link = "point.de.Christiansholm" {
        track(:second:station :removed, budhus[:chr - 1sw, :chr + 1sw]);
        marker(:de.bf :removed :left, budhus[:chr]);
        slabel(:top :removed, budhus[:chr] + (1sw, -1.3dt), "Christiansholm");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:chr + 1sw, :erf - 1sw]);
    }

    with link = "point.de.Erfde" {
        track(:second:station :removed, budhus[:erf - 1sw, :erf + 1sw]);
        marker(:de.bf :removed :left, budhus[:erf]);
        slabel(:bottom :removed, budhus[:erf] << 1.1sh, "Erfde");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:erf + 1sw, :nor - 1sw]);
    }

    with link = "point.de.Norderstapel" {
        track(:second :station :removed, budhus[:nor - 1sw, :nor + 1.5sw]);
        track(:station :removed,
                budhus[:nor + 0.4sw, :nor + 0.8sw] >> 1dt
            --  budhus[:nor + 0.8sw + 1dl, :nor + 0.8sw + 1.1dl]
        );

        marker(:de.anst :removed :right, budhus[:nor + 0.8sw] >> 1dt);
        marker(:de.exbf :removed :right, budhus[:nor + 0.8sw] >> 1dt);
        slabel(:right :removed, budhus[:nor - 3.0sw] >> 1dt + (1sw, 0sw),
            span(:bold, "Norderstapel")
        );
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:nor + 1.5sw, :swa - 1sw]);
    }

    with link = "point.de.Schwabstedt" {
        track(:second:station :removed, budhus[:swa - 1sw, :swa + 1sw]);
        marker(:de.anst :removed :left, budhus[:swa]);
        marker(:de.exbf :removed :left, budhus[:swa]);
        slabel(:left :removed, budhus[:swa] << 2.3sh, "Schwabstedt");
    }

    with link = "line.de.1012" {
        track(:second :removed :flip, budhus[:ran - 2.4km, :swa + 1sw]);
        line_label(:right:w :removed, budhus[:ran - 3km], "1012");
        track(:second :removed, budhus[:ran - 2.4km, :ran - 1sw]);
    }


    with link = "point.de.Rantrum" {
        track(:second:station :removed, budhus[:ran - 1sw, :ran + 1sw]);
        marker(:de.bf :removed :left, budhus[:ran]);
        slabel(:right :removed, budhus[:ran - 0.7sh] >> 1dt, "Rantrum");
    }

    with link = "line.de.1012" {
        track(:second :removed, budhus[:ran + 1sw, :mil - 1sw]);
    }

    with link = "point.de.Mildstedt" {
        track(:second:station :removed, budhus[:mil - 1sw, :mil + 1sw]);
        marker(:de.anst :removed :left, budhus[:mil]);
        marker(:de.exbf :removed :left, budhus[:mil]);
        slabel(:right :removed, budhus[:mil - .7sw] >> 0.8dt, "Mildstedt");
    }

    with link = "line.de.1012" {
        track(:second :removed,
                budhus[:mil + 1sw, :hus.b]
            ..  budhus[:hus - 1.1sw, :hus - 1sw] >> 0.5dt
        );
    }

    # point.de.Husum  de.1210
}

