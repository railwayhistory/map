with detail = 1 {
    with link = "line.de.6100" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.b.6100")[:spa.yn, :nau]
        );
    }

    with link = "line.de.6105" {
        track(:first :removed, path("d1.de.6105")[:wus.yn, :nau.yw]);
    }

    with link = "line.de.6107" {
        let bl = path("d1.de.b.6107");

        track(:first :double :cat:ac15 :pax, bl[:hbf, :moa.yl]);
        track(:first :double :cat:ac15 :pax, bl[:chg, :wus]);
    }

    with link = "line.de.6109" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6109")[:bos, :spa.yc]
        );
    }

    with link = "line.de.6110" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.b.6110")[:gbo, :wex]
        );
    }

    with link = "line.de.6115" {
        let bg = path("d1.de.6115");
        
        track(:first :pax, bg[:bes, :lia]);
        track(:first :cat:ac15 :pax, bg[:lia, :wpa.yb]);
    }

    with link = "line.de.6116" {
        track(:first :double :cat:ac15 :pax, path("d1.de.6116")[:gol, :saa]);
    }

    with link = "line.de.6117" {
        track(:first :double :cat:ac15, path("d1.de.6117")[:mic.ys, :saa.ym]);
    }

    with link = "line.de.6118" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.b.6118")[:cha.ys, :wie]
        );
    }

    with link = "line.de.6126" {
        track(:first :double :cat:ac15 :pax, path("d1.de.6126")[:saa, :eic]);
    }

    with link = "line.de.6129" {
        track(:first :cat:ac15 :pax, path("d1.de.6129")[:gen, :gbs]);
    }

    with link = "line.de.6132" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.b.6132")[:skr, :ngo]
        );
    }

    with link = "line.de.6135" {
        let be = path("d1.de.6135");

        track(:first :double :rail:rc75 :pax, be[:skr.ym, :gds]);
        track(:first :double :cat:ac15 :pax, be[:gds, :elx]);
    }

    with link = "line.de.6142" {
        let bg = path("d1.de.6142");

        track(:first :double :removed, bg[:bgo, :vtw]);
        track(:first :double :cat:ac15 :pax, bg[:vtw, :lau]);
        track(:first :cat:ac15 :pax, bg[:lau, :cot.yl]);
        track(:first :pax, bg[:cot.ys, :gor.yh]);
    }

    with link = "line.de.6143" {
        track(:first :rail:rc75 :pax, path("d1.de.6143")[:swe.ys, :spi]);
    }

    with link = "line.de.6151" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6151")[:sxf.yf, :bos]
        );
    }

    with link = "line.de.6153" {
        let bg = path("d1.de.6153");

        track(:first :double :cat:ac15 :pax, bg[:bos, :gub]);
        track(:first :removed, bg[:gub.ys, :gug]);
    }

    with link = "line.de.6154" {
        track(:first :double :removed, path("d1.de.6154")[:ros, :frr.yr]);
    }

    with link = " line.de.6155" {
        let fg = path("d1.de.6155");

        track(:first :double :cat:ac15 :pax, fg[:fra.yo, :ode]);
        track(:first :double :cat:dc30 :pax, fg[:ode, :frg]);
    }

    with link = "line.de.6156" {
        track(:second :pax, path("d1.de.6156")[:weo, :fra.yr]);
    }

    with link = "line.de.6166" {
        track(:first :double :removed, path("d1.de.6166")[:beb, :ges.yp]);
    }

    with link = "line.de.6170" {
        let mm = path("d1.de.6170");

        track(:first :double :cat:ac15 :pax, mm[:mox, :vtw]);
        track(:first :double :cat:ac15 :pax, mm[:wkr, :mox.x]);
    }

    with link = "line.de.6171" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6171")[:moa.yl, :skr]
        );
    }

    with link = "point.de.Berlin-Hbf-Lehrter-Bf" {
        label(path("d1.de.b.6118")[:wan] + (0dt, -2.5km),
            hbox(:right:bottom :small :bold :cat:ac15 :pax, "Berlin")
        );
    }

    with link = "line.de.6177" {
        track(:first :double :removed, path("d1.de.6177")[:zeh.yw, :gbo]);
    }

    with link = "line.de.6179" {
        track(:first :cat:ac15, path("d1.de.6179")[:spa, :sta.yg]);
    }

    with link = "line.de.6183" {
        let sk = path("d1.de.6183");

        track(:first :rail:rc75 :pax, sk[:sho.yt, :hen]);
        track(:first :cat:ac15 :pax, sk[:hen, :hen.yr]);
        track(:first :pax, sk[:hen.yr, :kre]);
    }

    with link = "line.de.6191" {
        track(:first :cat:ac15, path("d1.de.6191")[:hdw, :don]);
    }

    with link = "line.de.6193" {
        let ls = path("d1.de.6193");

        track(:first :cat:ac15 :pax, ls[:lau.yc, :cal.yl]);
        track(:first :cat:ac15 :pax, ls[:cal.ys, :ads]);
        track(:first :double :cat:ac15 :pax, ls[:ads, :seo.yc]);
    }

    with link = "line.de.6194" {
        let gk = path("d1.de.b.6194");

        track(:first :removed, gk[:gra.y, :sen.yg]);
        track(:first :removed, gk[:sen.yh, :hox]);
        track(:first, gk[:hox, :str]);
    }

    with link = "line.de.6197" {
        track(:first :removed, path("d1.de.6197")[:dor, :sbw.yd]);
    }

    with link = "line.de.6198" {
        let bh = path("d1.de.6198");

        track(:first, bh[:bri.yh, :hos.yb]);
        track(:first, bh[:hos.yk, :hox]);
    }
}

