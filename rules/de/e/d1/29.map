with detail = 1 {
    with link = "line.de.2930" {
        track(:first :double :cat :pax, path("d1.de.2930")[:soe, :ham.b]);
    }

    with link = "line.de.2931" {
        track(:first :double :cat :pax, path("d1.de.e.2931")[:ham.f, :mun]);
        track(:first :double :cat :pax, path("d1.de.e.2931")[:mun.f, :rhe]);
    }

    with link = "line.de.2932" {
        track(:first :double :cat :pax, path("d1.de.2932")[:unn.f, :ham.a]);
    }

    with link = "line.de.2933" {
        let uk = path("d1.de.2933");

        track(:first :cat :pax, uk[:unn.a, :kon.f]);
        with layer = -4 track(:first :removed, uk[:kon.a, :kam.f]);
    }

    with link = "line.de.2940" {
        with layer = -2 track(:second, path("d1.de.2940")[:nbe.f, :bec]);
    }

    with link = "line.de.2950" {
        with layer = -1 track(:second :pax,
            path("d1.de.e.2950")[:bra.f, :dis]
        );
    }

    with link = "line.de.2951" {
        with layer = -4 track(:second :removed,
            path("d1.de.2951")[:lip.b, :rhe.a]
        );
    }

    with link = "line.de.2960" {
        with layer = -1 track(:second :pax, path("d1.de.2960")[:pkt, :bra.g]);
    }

    with link = "line.de.2961" {
        let pb = path("d1.de.2961");

        with layer = -4 track(:second :removed, pb[:pad.f, :brs]);
        with layer = -1 track(:second :pax, pb[:brs, :brw.f]);
    }

    with link = "line.de.2962" {
        let pl = path("d1.de.2962");

        with layer = -2 track(:second, pl[:pan.f, :thi]);
        with layer = -4 track(:second :removed, pl[:thi, :lip]);
    }

    with link = "line.de.2963" {
        let gb = path("d1.de.2963");

        with layer = -2 track(:second, gb[:ges.a, :mil]);
        with layer = -4 track(:second :removed, gb[:mil, :bur.a]);
    }

    with link = "line.de.2980" {
        track(:first :cat :pax, path("d1.de.2980")[:her.f, :him.a]);
    }

    with link = "line.de.2984" {
        let lb = path("d1.de.2984");

        with layer = -1 track(:second :pax, lb[:lag.a, :bio]);
        track(:second :pax, lb[:bio, :bie.a]);
    }
}

