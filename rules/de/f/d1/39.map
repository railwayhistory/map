with detail = 1 {
    with link = "line.de.3900" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3900")[:wil.yg, :fra.yn]
        );
    }

    with link = "line.de.3901" {
        let kw = path("d1.de.3901");

        track(:second :cat:ac15, kw[:wil.yw, :bet]);
        track(:second, kw[:bet, :kin]);
        track(:second :cat:dc6 :pax, kw[:kin, :lic.yl]);
        track(:second :removed, kw[:lic.yl, :wka]);
    }

    with link = "line.de.3903" {
        track(:second :pax, path("d1.de.3903")[:vol.yv, :ove.yv]);
    }

    with link = "line.de.3904" {
        track(:second, path("d1.de.3904")[:bet.yh, :haf]);
    }

    with link = "line.de.3905" {
        track(:third :removed, path("d1.de.3905")[:bet.yl, :wel]);
    }

    with link = "line.de.3906" {
        track(:second :removed, path("d1.de.3906")[:hum.yk, :kar]);
    }

    with link = "line.de.3911" {
        track(:second :removed, path("d1.de.3911")[:kas.yu, :unt]);
    }

    with link = "line.de.3920" {
        track(:second :removed, path("d1.de.3920")[:wal.yg, :gal]);
    }

    with link = "line.de.3921" {
        track(:second :removed, path("d1.de.3921")[:vel.yg, :gal.yv]);
    }

    with link = "line.de.3922" {
        track(:second :removed, path("d1.de.3922")[:gal, :eic.yg]);
    }

    with link = "line.de.3924" {
        track(:second :removed, path("d1.de.3924")[:ste.yh, :hir]);
    }

    with link = "line.de.3940" {
        track(:second :removed, path("d1.de.3940")[:gri.yg, :gud]);
    }

    with link = "link.de.3941" {
        track(:second :pax, path("d1.de.3941")[:wab, :wil]);
    }

    with link = "line.de.3944" {
        let wb = path("d1.de.3944");

        track(:second :removed, wb[:weg.yk, :kor.yw]);
        track(:second :pax, wb[:kor.yb, :brw]);
    }

    with link = "line.de.3945" {
        track(:second :removed, path("d1.de.3945")[:zim.yg, :gem]);
    }

    with link = "line.de.3946" {
        track(:station, path("d1.de.3946")[:utt, :kim]);
    }

    with link = "line.de.3950" {
        let bk = path("d1.de.3950");

        track(:second :removed, bk[:bng.yk, :oof.x]);
        track(:second, bk[:oof.x, :kir.yb]);
    }

    with link = "line.de.3951" {
        track(:second :removed, path("d1.de.3951")[:kir.yg, :gem]);
    }

    with link = "line.de.3953" {
        track(:second :removed, path("d1.de.3953")[:nwa, :her.yn]);
    }
}

