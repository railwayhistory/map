with detail = 1 {
    with link = "line.de.3700" {
        track(:first :pax, path("d1.de.3700")[:gie.yf, :ful.yg]);
    }

    with link = "line.de.3701" {
        track(:first :pax, path("d1.de.3701")[:gie.yg, :gel.yg]);
    }

    with link = "line.de.3705" {
        let gl = path("d1.de.3705");

        track(:second :removed, gl[:gru.yl, :maw]);
        track(:second, gl[:maw, :lol.yg]);
    }

    with link = "line.de.3706" {
        track(:second :removed, path("d1.de.3706")[:lol.yw, :wet.yl]);
    }

    with link = "line.de.3710" {
        let wk = path("d1.de.3710");

        track(:first :double :pax, wk[:wet, :esc.yn]);
        track(:first :double :cat:ac15 :pax, wk[:esc.yn, :lim]);
        track(:first :double :pax, wk[:lim, :nla]);
        track(:first :double :cat:ac15 :pax, wk[:nla.yk, :kob.yn]);
    }

    with link = "line.de.3711" {
        track(:second :removed, path("d1.de.3711")[:sto.yb, :bei]);
    }

    with link = "line.de.3712" {
        track(:second :removed, path("d1.de.3712")[:wei.yg, :gra.yw]);
    }

    with link = "line.de.3713" {
        track(:second :removed, path("d1.de.3713")[:wem.yl, :lau]);
    }

    with link = "line.de.3720" {
        let de = path("d1.de.3720");

        track(:station,  de[:dil.ye, :sta]); 
        track(:second :removed, de[:sta, :ewe]); 
    }

    with link = "line.de.3721" {
        let dw = path("d1.de.3721");

        track(:second:removed, dw[:dil, :wie]);
        track(:station, dw[:wie, :wal.yd]);
    }

    with link = "line.de.3722" {
        track(:second :removed, path("d1.de.3722")[:her.ye, :erd]);
    }

    with link = "line.de.3723" {
        track(:second :removed, path("d1.de.3723")[:hai.yb, :bre]);
    }

    with link = "line.de.3724" {
        track(:second :removed, path("d1.de.3724")[:hof.ya, :aug]);
    }

    with link = "line.de.3730" {
        let la = path("d1.de.3730");

        track(:second :double :pax, la[:lim.ys, :sta]);
        track(:second :pax, la[:sta, :aki.yh]);
    }

    with link = "line.de.3731" {
        let sh = path("d1.de.3731");

        track(:second :pax, sh[:sta.ym, :mon.yl]);
        track(:second :pax, sh[:mon.ys, :sie.ym]);
    }

    with link = "line.de.3732" {
        track(:second :removed, path("d1.de.3732")[:feh.ye, :mar.yf]);
    }

    with link = "line.de.3734" {
        track(:station, path("d1.de.3734")[:deh, :ker.yd]);
    }

    with link = "line.de.3740" {
        let fm = path("d1.de.3740");

        track(:second :pax, fm[:fri.yb, :wol]);
        track(:second :removed, fm[:wol, :hun.yb]);
        track(:second :removed, fm[:hun.ym, :muc.yh]);
    }

    with link = "line.de.3741" {
        track(:second :pax, path("d1.de.3741.1")[:bei, :nid.yb]);
        track(:second :removed, path("d1.de.3741.2")[:nid.ys, :sot]);
    }

    with link = "line.de.3742" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3742")[:fri.yh, :han.yn]
        );
    }

    with link = "line.de.3745" {
        let vl = path("d1.de.3745");

        track(:second :pax, vl[:vil.yn, :nid.yv]);
        track(:second :pax, vl[:nid.ys, :sto.yn]);
        track(:second :removed, vl[:sto.yl, :lno.ys]);
    }

    with link = "line.de.3746" {
        let ga = path("d1.de.3746");

        track(:second :pax, ga[:gra, :bra]);
        track(:second :removed, ga[:bra, :alb.yg]);
    }

    with link = "line.de.3747" {
        let em = path("d1.de.3747");

        track(:second :removed, em[:erd.yr, :wbu.yf]);
        track(:second :removed, em[:wbu.ym, :wal]);
        track(:second, em[:wal, :mon.yw]);
    }
}

