# DE 2630.  Köln Hbf - Koblenz - Bingen (Rhein) Landesgrenze
with detail = 2 {
    let kb = path("d2.de.f.2630");

    with link = "line.de.2630" {
        track(:first :double :cat:ac15 :pax, kb[:bop, :bil]);
        guide(:linenum :cat:ac15 :pax,
                kb[:bin - 18km] >> 1.0dt
            --  kb[:bin - 18km] >> 3.0dt
        );
        label(:linenum :cat:ac15 :pax, kb[:bin - 18km] >> 3.0dt + (0dt, 0.2dt),
            hbox(:right:middle :badgesize, "2630 ")
        );
    }

    with link  = "point.de.Bingen-Rhein-Hbf" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kb[:bin]);
        slabel(:left :cat:ac15 :pax, kb[:bin] + (-0.5dt, 0.5dt),
            vbox(:right:top,
                "Bingen", span(:light, "(Rhein)")
            )
        );
    }
}


# DE 2651.  Köln Messe/Deutz - Gießen
with detail = 2 {
    let kg = path("d2.de.2651.f");

    with link = "line.de.2651" {
        track(:first :double :cat:ac15 :pax, kg[:hai, :gie.f]);
        with layer = 1 line_badge(
            :cat:ac15 :pax, kg[:wet - 4.7km] @ 15, "2651"
        );
    }

    with link = "point.de.Haiger" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kg[:hai]);
        slabel(:bottom :cat:ac15 :pax, kg[:hai] + (0dt, 1.0dt), "Haiger");
    }

    with link = "point.de.Dillenburg" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kg[:dil]);
        slabel(:left :cat:ac15 :pax, kg[:dil] + (0dt, 6dt), "Dillenburg");
    }

    with link = "point.de.Herborn-Dillkr" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kg[:her]);
        slabel(:left :cat:ac15 :pax, kg[:her] - (1.8dt, 1dt),
            vbox(:right:top, "Herborn", span(:light, "(Dillkr)"))
        );
    }

    with link = "point.de.Wetzlar" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kg[:wet]);
        slabel(:right :cat:ac15 :pax, kg[:wet] + (-1dt, 3.7dt), "Wetzlar");
    }
}


# DE 2690.  Köln Steinstraße (Abzw) - Frankfurt am Main Stadion
with detail = 2 {
    let kf = path("d2.de.f.2690");

    with link = "line.de.2690" {
        track(:first :double :cat:ac15 :pax, kf[:mon, :sts]);
        with layer = 1 line_badge(
            :cat:ac15 :pax, kf[:mon + 14km] << 0.5dt, "2690"
        );
    }

    with link = "point.de.Montabaur-Fernbahn" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kf[:mon]);
    }

    with link = "point.de.Frankfurt-Main-Flughafen-Fernbahnhof" {
        with layer = 1 marker(:statdot :cat:ac15 :pax, kf[:flu]);
    }
}

