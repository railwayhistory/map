# DE 6311.  Eisenach - Lichtenfels
with detail = 2 {
    let el = path("d2.de.n.6311");

    with railway = :first :removed {
        with link = "line.de.6311" {
            track(el[:eif.ys, :eif.ys + 6.4km]);
            line_label(:right:e, el[:eif.ys + 6.4km], "6311");
            track(el[:eif.ys + 6.4km, :cob.ys]);
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "point.de.Coburg" {
            statdot(el[:cob]);
            slabel(:left, el[:cob] + (-1.6dt, 0.5dt), "Coburg");
        }

        with link = "line.de.6311" {
            with zoom = :low track(el[:cob, :cog]);
            with zoom = :high {
                track(el[:cob, :cog - 0.3km]);
                line_label(:right:e, el[:cog - 0.3km], "6311");
                track(el[:cog - 0.3km, :cog]);
            }
            track(:double, el[:cog, :cre]);
        }

        with link = "point.de.Creidlitz" {
            statdot(el[:cre]);
            slabel(:left, el[:cre] + (-1.8dt, 1.3dt), "Creidlitz");
        }

        with link = "line.de.6311" {
            track(:double, el[:cre, :cre.yw]);
            track(el[:cre.yw, :ebe.yn]);
        }

        with link = "point.de.Ebersdorf-Coburg" {
            track(el[:ebe.yn, :ebe]);
            statdot(el[:ebe]);
            slabel(:top, el[:ebe] + (2dt, -2.0dt),
                vbox(:center:bottom, "Ebersdorf", span(:light, "(b Coburg)"))
            );
        }

        with link = "line.de.6311" {
            track(el[:ebe, :ebe + 3.9km]);
            line_label(:left:w, el[:ebe + 3.9km], "6311");
            track(el[:ebe + 3.9km, :lic.yc]);
        }
    }
}

