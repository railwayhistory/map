with detail = 1 {
    with link = "line.de.3200" {
        track(:second :pax, path("d1.de.3200")[:hei.yb, :bau]);
    }

    with link = "line.de.3201" {
        let tk = path("d1.de.3201");

        track(:second :removed, tk[:tur.ys, :swa.yo]);
        track(:second :removed, tk[:swa, :kus]);
    }

    with link = "line.de.3202" {
        track(:second :pax, path("d1.de.3202")[:kus, :agl]);
    }

    with link = "line.de.3203" {
        track(:second :removed, path("d1.de.3203")[:swe.yt, :tho]);
    }

    with link = "line.de.3204" {
        track(:second, path("d1.de.3204")[:ott.ys, :swa]);
    }

    with link = "line.de.3211" {
        let dp = path("d1.de.3211");

        track(:second, dp[:dil.yp, :zko.yr]);
        track(:station, dp[:zko.yr, :pri.yd]);
    }

    with link = "line.de.3212" {
        let nd = path("d1.de.3212");

        track(:second, nd[:nag, :nal]);
        track(:second :pax, nd[:nal, :dil.yn]);
    }

    with link = "line.de.3213" {
        track(:second :removed, path("d1.de.3213")[:sig, :mer.ys]);
    }

    with link = "line.de.2316" {
        track(:station, path("d1.de.3216")[:zko.yr, :rod])
    }

    with link = "line.de.3221" {
        track(:second:removed, path("d1.de.3221")[:bur.yh, :hey]);
    }

    with link = "line.de.3222" {
        track(:second :removed, path("d1.de.3222")[:hey.ya, :saw]);
    }

    with link = "line.de.3230" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3230")[:saa, :kon.ym]
        );
    }

    with link = "line.de.3231" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3231")[:saa.yb, :sag]
        );
    }

    with link = "line.de.3232" {
        let sb = path("d1.de.3232");

        track(:second :double :cat:ac15, sb[:sad.yf, :fur]);
        track(:station, sb[:fur, :hos]);
        track(:second :removed, sb[:hos.yu, :bou.yh]);
    }

    with link = "line.de.3235" {
        track(:second, path("d1.de.3235")[:buh, :saa.yw]);
    }

    with link = "line.de.3236" {
        track(:second :closed, path("d1.de.3236")[:fur.yw, :war]);
    }

    with link = "line.de.3240" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3240")[:saa.yw, :neu.yw]
        );
    }

    with link = "line.de.3243" {
        track(:second, path("d1.de.3243")[:mer.yg, :got]);
    }

    with link = "line.de.3244" {
        track(:second :removed, path("d1.de.3244")[:bre.ym, :may]);
    }

    with link = "line.de.3250" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3250")[:saa.yo, :hom]
        );
    }

    with link = "line.de.3251" {
        let sw = path("d1.de.3251");

        track(:first :cat:ac15 :pax, sw[:sao, :bre]);
        track(:first :double :cat:ac15 :pax, sw[:bre, :han]);
        track(:first :cat:ac15 :pax, sw[:han, :hag]);
    }

    with link = "line.de.3270" {
        track(:second :removed, path("d1.de.3270")[:neu.yw, :hei]);
    }

    with link = "line.de.3274" {
        let wn = path("d1.de.3274");

        track(:first :pax, wn[:wem.yp, :leb.ye]);
        track(:second :cat:dc75 :pax, wn[:leb.ye, :jab]);
        track(:second :removed, wn[:jab, :pri.yd]);
        track(:station, wn[:pri.yd, :mei]);
        track(:second :removed, wn[:mei, :non.yp]);
    }

    with link = "line.de.3275" {
        track(:station, path("d1.de.3275")[:bex.yp, :bek]);
    }

    with link = "line.de.3280" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.s.3280")[:hom, :hso]
        );
    }

    with link = "line.de.3281" {
        let hs = path("d1.de.3281");

        track(:second :removed, hs[:hom.yg, :gla.yl]);
        track(:second :pax, hs[:gla, :agl]);
        track(:second :closed, hs[:agl, :lau.yk]);
        track(:second :closed, hs[:lau, :sta.yo]);
    }

    with link = "line.de.3282" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.3282")[:hom.yn, :neu]
        );
    }

    with link = "line.de.3283" {
        track(:second :removed, path("d1.de.3283")[:hom.yn, :ein.ys]);
    }

    with link = "line.de.3285" {
        track(:second :removed, path("d1.de.3285")[:bie.yr, :reg]);
    }

    with link = "line.de.3290" {
        track(:second :closed, path("d1.de.3290")[:uhg, :hos.yu]);
    }

    with link = "line.de.3291" {
        let lv = path("d1.de.3291");

        track(:tram :cat:dc75 :pax, lv[:leb.ye, :wal.ys]);
        track(:second :removed, lv[:wal.ys, :vol.yl]);
    }
}

