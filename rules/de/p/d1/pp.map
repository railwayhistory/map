with detail = 1 {
    with link = "line.de.PA1" {
        with layer = -4 track(:second :removed,
            path("d1.de.pa1")[:alt.yl, :lud]
        );
    }

    with link = "line.de.PA2" {
        let wl = path("d1.de.pa2");

        with layer = -4 track(:second :removed, wl[:wer.yl, :aug]);
        with layer = -4 track(:third :removed, wl[:aug, :ste]);
    }

    with link = "line.de.PA3" {
        with layer = -4 track(:second :removed,
            path("d1.de.pa3")[:sal.yh, :hal]
        );
    }

    with link = "line.de.PB0" {
        with layer = -1 track(:tram :double :pax,
            path("d1.de.pb0")[:bon.ys, :sie]
        );
    }

    with link = "line.de.PC0" {
        with layer = -4 track(:third :removed, path("d1.de.pc0")[:ste, :med]);
    }

    with link = "line.de.PG0" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.pg0")[:eng.ym, :mar]
        );
    }

    with link = "line.de.PG1" {
        with layer = -4 track(:third :removed, path("d1.de.pg1")[:gum, :der]);
    }

    with link = "line.de.PG2" {
        with layer = -4 track(:third :removed, path("d1.de.pg2")[:der, :gen]);
    }

    with link = "line.de.PG3" {
        with layer = -4 track(:third :removed, path("d1.de.pg3")[:noc, :tha]);
    }

    with link = "line.de.PH0" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.ph0")[:has, :bre]
        );
    }

    with link = "line.de.PM0" {
        with layer = -4 track(:second :removed,
            path("d1.de.pm0")[:bre.y, :mar]
        );
    }

    with link = "line.de.PN0" {
        with layer = -4 track(:third :removed,
            path("d1.de.pn0")[:bos.y, :bla]
        );
    }

    with link = "line.de.PP1" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.pp1")[:pls, :wie]
        );
    }

    with link = "line.de.PQ0" {
        with layer = -4 track(:third :removed, path("d1.de.pq0")[:bst, :wal]);
    }

    with link = "line.de.PR0" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.pr0")[:ros, :kra]
        );
    }

    with link = "line.de.PR2" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.pr2")[:ros, :tol]
        );
    }

    with link = "line.de.PR3" {
        with layer = -4 track(:third :narrow:g1000 :removed,
            path("d1.de.pr3")[:ber, :tol]
        );
    }

    with link = "line.de.PS0" {
        with layer = -4 track(:second :narrow:g785 :removed,
                path("d1.de.ps0")[:hen, :wal.y]
        );
    }

    with link = "line.de.PS1" {
        with layer = -4 track(:second :narrow:g785 :removed,
                path("d1.de.ps1")[:sie, :ros]
        );
    }

    with link = "line.de.PS2" {
        let ba = path("d1.de.ps2");

        with layer = -4 {
            track(:second :narrow:g785 :removed, ba[:beu, :hen.yn]);
            track(:second :narrow:g785 :removed, ba[:hen, :asb]);
        }
    }

    with link = "line.de.PS3" {
        with layer = -4 track(:third :narrow:g750 :removed,
            path("d1.de.ps3")[:ndo.yg, :gre]
        );
    }

    with link = "line.de.PT0" {
        with layer = -4 track(:third :removed,
            path("d1.de.pt0")[:nwi.ya, :aug]
        );
    }

    with link = "line.de.PV0" {
        with layer = -1 track(:tram :double, path("d1.de.pv0")[:heu, :kon]);
    }

    with link = "line.de.PV1" {
        with layer = -1 track(:tram :double, path("d1.de.pv1")[:kap, :ben]);
    }

    with link = "line.de.PV3" {
        with layer = -1 track(:tram :double, path("d1.de.pv3")[:heu.yb, :zun]);
    }

    with link = "line.de.PZ0" {
        with layer = -4 track(:third :removed,
            path("d1.de.pz0")[:sie, :sgl.y]
        );
    }
}

