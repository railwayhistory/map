with detail = 1 {
    with link = "line.de.2800" {
        let hh = path("d1.de.2800");

        track(:first :double :cat:ac15 :pax, hh[:hen.f, :fin]);
        track(:first :double :cat:ac15 :pax, hh[:fin, :hai]);
    }

    with link = "line.de.2810" {
        let hd = path("d1.de.2810");

        with layer = -4 track(:first :double :removed, hd[:hag, :oha.a]);
        with layer = -1 track(:first :double :pax, hd[:oha.a, :del]);
        with layer = -1 track(:first :pax, hd[:del, :bru]);
        with layer = -1 track(:second :pax, hd[:bru, :die.f]);
    }

    with link = "line.de.2813" {
        with layer = -1 track(:second :pax,
            path("d1.de.2813")[:bru.a, :lud]
        );
    }

    with link = "line.de.2814" {
        let ow = path("d1.de.2814");

        with layer = -2 track(:second, ow[:obr.f, :hal]);
        with layer = -4 track(:second :removed, ow[:hal, :wip.f]);
    }

    with link = "line.de.2815" {
        with layer = -2 track(:second, path("d1.de.2815")[:mei.f, :kru]);
    }

    with link = "line.de.2816" {
        with layer = -2 track(:second, path("d1.de.2816")[:has.a, :avo]);
    }

    with link = "line.de.2819" {
        with layer = -1 track(:first :double :pax,
            path("d1.de.2819")[:weh, :oha.a]
        );
    }

    with link = "line.de.2840" {
        track(:first :double :cat:ac15 :pax,
            path("d1.de.2840")[:swe, :hol.a]
        );
    }

    with link = "line.de.2841" {
        with layer = -1 track(:second :pax, path("d1.de.2841")[:ise.a, :swe.a]);
    }

    with link = "line.de.2850" {
        let lf = path("d1.de.2850");

        track(:second :cat:ac15 :pax, lf[:let.f, :ise]);
        with layer = -4 track(:second :removed, lf[:ise, :men.a]);
        track(:second :double :pax, lf[:men, :fro]);
    }

    with link = "line.de.2851" {
        with layer = -4 track(:second :removed,
            path("d1.de.2851")[:hem.a, :sun]
        );
    }

    with link = "line.de.2852" {
        with layer = -1 track(:second :pax,
            path("d1.de.2852")[:fro.a, :unn.f]
        );
    }

    with link = "line.de.2853" {
        with layer = -1 track(:second :pax, path("d1.de.2853")[:men, :nra]);
    }

    with link = "line.de.2854" {
        let nf = path("d1.de.2854.p");

        with layer = -1 track(:second :pax, nf[:nut.f, :win]);
        with layer = -4 track(:second :removed, nf[:win, :all.a]);
    }

    with link = "line.de.2860" {
        with layer = -4 track(:second :removed,
            path("d1.de.2860")[:ple.a, :her]
        );
    }

    with link = "line.de.2861" {
        with layer = -4 track(:second :removed,
            path("d1.de.2861")[:fin.a, :wen.a]
        );
    }

    with link = "line.de.2862" {
        with layer = -4 track(:second :removed,
            path("d1.de.2862")[:ahu.a, :who.a]
        );
    }

    with link = "line.de.2863" {
        with layer = -4 track(:second :removed,
            path("d1.de.2863")[:ahu.f, :bir.f]
        );
    }

    with link = "line.de.2864" {
        let ff = path("d1.de.2864");

        with layer = -1 track(:second :pax, ff[:fin.f, :olp]);
        with layer = -4 track(:second :removed, ff[:olp, :fre]);
    }

    with link = "line.de.2870" {
        with layer = -1 track(:second :pax,
            path("d1.de.2870.p")[:kre.a, :wal]
        );
    }

    with link = "line.de.2871" {
        with layer = -1 track(:second :pax,
            path("d1.de.2871")[:ern.f, :ber]
        );
    }

    with link = "line.de.2872" {
        let ha = path("d1.de.2872");

        with layer = -4 track(:second :removed, ha[:hor, :auh]);
        with layer = -2 track(:second, ha[:auh, :all.a]);
    }

    with link = "line.de.2880" {
        track(:first :double :cat:ac15 :pax,
            path("d1.de.2880")[:wei.f, :bet]
        );
    }

    with link = "line.de.2882" {
        with layer = -4 track(:second :removed,
            path("d1.de.2882")[:kir.a, :fre]
        );
    }
}

