# DE 1204.  Abzw Hörn - Tönning
#
let ht = path("d3.de.1204");

with detail = 3 {
    # point.de.Hörn  de.1210

    with link = "line.de.1204" {
        track(:second :pax,
                ht[:hor + 2dl, :hor + 3dl] >> 1.5dt
            ..  ht[:pla - 0.51sw, :pla - 0.5sw]
        );
    }

    with link = "point.de.Platenhörn" {
        track(:second :station :pax, ht[:pla - 0.5sw, :pla + 0.5sw]);
        marker(:left :de.hp :removed, ht[:pla]);
        slabel(:left :removed, ht[:pla] + (-0.3km, 0dt) + (-1dt, 0.3sw),
            "Platenhörn"
        );
    }

    with link = "line.de.1204" {
        track(:second :pax, ht[:pla + 0.5sw, :but - 1sw]);
        line_label(:right:e :pax, ht[:but - 2km], "1204");
    }

    with link = "point.de.Büttel" {
        track(:second :station :pax, ht[:but - 1sw, :but + 1sw]);
        marker(:left :de.hst :removed, ht[:but]);
        marker(:left :de.exbf :removed, ht[:but]);
        slabel(:left :removed, ht[:but], "Büttel*");
    }

    with link = "line.de.1204" {
        track(:second :pax, ht[:but + 1sw, :wit - 1sw]);
    }

    with link = "point.de.Witzwort" {
        track(:second :station :pax, ht[:wit - 1sw, :wit + 1sw]);
        marker(:left :de.hp :pax, ht[:wit]);
        slabel(:right :pax, ht[:wit - 1.0sw] << 1.2sh,
            hbox(:left:top, "Witzwort")
        );
    }

    with link = "line.de.1204" {
        track(:second :pax, ht[:wit + 1sw, :har - 1sw]);
    }

    with link = "point.de.Harblek" {
        track(:second :station :pax, ht[:har - 1sw, :har + 1sw]);
        marker(:right :de.hp :pax, ht[:har]);
        marker(:right :de.exbf :pax, ht[:har]);
        slabel(:left :pax, ht[:har + 0.5sw] >> 1.7sh, "Harblek");
    }

    with link = "line.de.1204" {
        track(:second :pax, ht[:har + 1sw, :ton.y - 1sw]);
        line_label(:left:w :pax, ht[:ton.y - 2.5km], "1204");
    }

    with link = "point.de.Tönning" {
        # DE 1204
        track(:second :station :pax, ht[:ton.y - 1sw, :ton + 1sw]);

        # DE 1205
        track(:second :station :pax, path("d3.de.1205")[:ton.y + 1sw, :ton.y]);

        marker(:left :de.bf :pax, ht[:ton]);
        slabel(:left :bold :pax, ht[:ton - 0.5sw] >> 0.5dt,
            hbox(:right:top, "Tönning")
        );
    }

    with link = "line.de.1204" {
        track(:station :removed, ht[:ton + 1sw, :f]);
    }
}

