# DE 1200.  Niebüll - Westerland (Sylt)
#
let nw = path("d3.de.1200");

with detail = 3 {
    # point.de.Niebüll  de.1210

    with link = "line.de.1200" {
        track(:first :pax,
                nw[:nie + 1sw, :nie.yt] << 0.5dt
            ..  nw[:nie.yyt, :leh - 1sw]
        );
        line_label(:left:ne :pax, nw[:nie.yyt + 2.5km], "1200");
    }

    with link = "point.de.Lehnshallig" {
        track(:first :station :pax, nw[:leh - 1sw, :leh + 1sw]);
        marker(:right :de.bbf, nw[:leh]);
        slabel(:right, nw[:leh - 0.5sw] >> 1.2sh, "Lehnshallig");
    }

    with link = "line.de.1200" {
        track(:first :pax, nw[:leh + 1sw, :emm - 1sw]);
    }

    with link = "point.de.Emmelsbüll" {
        track(:first :station :pax, nw[:emm - 1sw, :emm + 1sw]);
        marker(:right :de.hst :removed, nw[:emm]);
        slabel(:right :removed, nw[:emm - 0.5sw] >> 1.2sh, "Emmelsbüll");
    }

    with link = "line.de.1200" {
        track(:first :pax, nw[:emm + 1sw, :kla.a]);
    }

    with link = "point.de.Klanxbüll" {
        track(:first :station :pax,
                nw[:kla.a, :kla.a + 1dl]
            --  nw[:kla.a + 2dl, :kla + 1sw] >> 0.5dt
        );
        track(:first :station :pax,
                nw[:kla.a + 0.9dl, :kla.a + 1dl]
            --  nw[:kla.a + 2dl, :kla + 1sw] << 0.5dt
        );
        marker(:right :de.bf :pax, nw[:kla] >> 0.5dt);
        slabel(:right :pax, nw[:kla - 0.5sw] >> 0.5dt >> 1.2sh, "Klanxbüll");
    }

    with link = "line.de.1200" {
        track(:first :double :pax, nw[:kla + 1sw, :hin - 0.5sw]);
        line_label(:left:n :pax, nw[:hin - 2km] << 0.5dt, "1200");
    }

    with link = "point.de.Hindenburgdamm" {
        track(:first :double:station :pax, nw[:hin - 0.5sw, :hin + 0.5sw]);
        marker(:right :de.bk :removed, nw[:hin] >> 0.5dt);
        slabel(:top :removed, nw[:hin] >> 0.5dt >> 1.1sh, "Hindenburgdamm");
    }

    with link = "line.de.1200" {
        track(:first :double :pax, nw[:hin + 0.5sw, :mor - 1sw]);
    }

    with link = "point.de.Morsum-Sylt" {
        track(:first :station :pax,
                nw[:mor - 1sw, :mor.f - 2dl] >> 0.5dt
            --  nw[:mor.f - 1dl, :mor.f]
        );
        track(:first :station :pax,
                nw[:mor - 1sw, :mor.f - 2dl] << 0.5dt
            --  nw[:mor.f - 1dl, :mor.f - 0.9dl]
        );
        marker(:left :de.bf :pax, nw[:mor] << 0.5dt);
        slabel(:bottom :pax, nw[:mor] << 0.5dt << 1.2sh,
            hbox(:center:base, "Morsum ", span(:light, "(Sylt)"))
        );
    }

    with link = "line.de.1200" {
        track(:first :pax, nw[:mor.f, :kei - 1sw]);
    }

    with link = "point.de.Keitum" {
        track(:first :station :pax, nw[:kei - 1sw, :kei + 1sw]);
        marker(:right :de.hst :pax, nw[:kei]);
        slabel(:right :pax, nw[:kei + 1sw] >> 1.1sh, "Keitum");
    }

    with link = "line.de.1200" {
        track(:first :pax, nw[:kei + 1sw, :tin - 1sw]);
        line_label(:left:ne :pax, nw[:kei + 1km], "1200");
    }

    with link = "point.de.Tinnum" {
        track(:first :station :pax, nw[:tin - 1sw, :tin + 1sw]);
        marker(:right :de.hp :removed, nw[:tin]);
        slabel(:right :removed, nw[:tin + 1sw] >> 1.1sh, "Tinnum");
    }

    with link = "line.de.1200" {
        track(:first :pax, nw[:tin + 1sw, :wes - 1sw]);
    }

    with link = "point.de.Westerland-Sylt" {
        track(:first :station :pax, nw[:wes - 1sw, :wes]);
        marker(:top :de.bf :pax, nw[:wes]);
        slabel(:left :pax, nw[:wes] + (-1.5sh, -0.3sh),
            hbox(:right:base, span(:bold, "Westerland "), "(Sylt)")
        );
    }
}

