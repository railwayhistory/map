# DE 6928.  Hagenow Land - Bad Oldesloe
#
let ho = path("d3.de.a.6928");

with detail = 3 {
    # DE-W

    with link = "line.de.6928" {
        track(:second :removed, ho[:gzar + 0.5sw, :kze - 1sw]);
    }

    with link = "point.de.Klein-Zecher" {
        track(:second :station :removed, ho[:kze - 1sw, :kze + 1sw]);
        marker(:right :de.hp :removed, ho[:kze]);
        slabel(:right :removed, ho[:kze - 0.5sw] >> 1.4sh, "Klein Zecher");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kze + 1sw, :hak - 1sw]);
    }

    with link = "point.de.Hakendorf" {
        track(:second :station :removed, ho[:hak - 1sw, :hak + 1sw]);
        marker(:left :de.hp :removed, ho[:hak]);
        slabel(:right :removed, ho[:hak - 0.6sw] >> 1dt, "Hakendorf");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:hak + 1sw, :hol - 1sw]);
    }

    with link = "point.de.Hollenbek" {
        # DE A50
        track(:second :station :removed,
                ho[:hol - 0.5sw - 2.1dl, :hol - 0.5sw - 2dl]
            --  ho[:hol - 0.5sw - 1dl, :hol + 1sw] << 1dt
        );

        # DE 6928
        track(:second :station :removed, ho[:hol - 1sw, :hol + 1sw]);

        marker(:left :de.bf :removed, ho[:hol] << 1dt);
        slabel(:right :removed :bold, ho[:hol - 0.6sw] >> 1dt, "Hollenbek");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:hol + 1sw, :ste - 1sw]);
    }

    with link = "point.de.Sterley" {
        track(:second :station :removed, ho[:ste - 1sw, :ste + 1sw]);
        marker(:right :de.hp :removed, ho[:ste]);
        slabel(:right :removed, ho[:ste - 0.6sw] >> 1.2sh, "Sterley");
    }

    with link = "point.de.Ratzeburg-Kogel" {
        track(:second :station :removed, ho[:ste - 1sw, :kog + 0.7sw]);
        marker(:right :de.anst :removed, ho[:kog + 0.2sw]);
        slabel(:left :removed :light, ho[:kog + 1.2sw] << 0.5dt,
            hbox(:right:top, "Ratzeburg Kogel")
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kog + 0.7sw, :aho - 1sw]);
    }

    with link = "point.de.Alt-Horst" {
        track(:second :station :removed, ho[:aho - 1sw, :aho + 1sw]);
        marker(:left :de.hp :removed, ho[:aho]);
        slabel(:right :removed, ho[:aho - 0.6sw] >> 1dt, "Alt Horst");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:aho + 1sw, :smi - 1sw]);
        line_label(:right:w :removed, ho[:aho + 1.5km], "6928");
    }

    with link = "point.de.Schmilau" {
        track(:second :station :removed, ho[:smi - 1sw, :smi + 1sw]);
        marker(:right :de.bf :removed, ho[:smi]);
        slabel(:right :removed, ho[:smi - 0.6sw] >> 1.2sh, "Schmilau");
    }

    with link = "line.de.6928" {
        track(:second :removed,
                ho[:smi + 1sw, :rat.yyh]
            ..  ho[:rat.yh, :rat.yh + 500m] >> 1dt
            ..  ho[:rat - 1.1sw, :rat - 1sw] >> 0.5sh
        );
    }

    # point.de.Ratzeburg  de.1121

    with link = "line.de.6928" {
        track(:second :removed,
                path("d3.de.1121")[:rat - 1sw, :rat - 1.1sw] >> 0.5sh
            ..  ho[:rat.x, :kul - 1sw]
        );
        line_label(:left:ne :removed, ho[:kul - 1km], "6928");
    }

    with link = "point.de.Kulpin" {
        track(:second :station :removed, ho[:kul - 1sw, :kul + 1sw]);
        marker(:right :de.hp :removed, ho[:kul]);
        slabel(:top :removed, ho[:kul] >> 1.4sh + (0.5sw, 0dt), "Kulpin");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kul + 1sw, :ber - 1sw]);
    }

    with link = "point.de.Berkenthin" {
        track(:second :station :removed, ho[:ber - 1sw, :ber + 1sw]);
        marker(:left :de.bf :removed, ho[:ber]);
        slabel(:bottom :removed, ho[:ber] << 1.1sh + (1sw, 0dt), "Berkenthin*");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:ber + 1sw, :sie - 1sw]);
    }

    with link = "point.de.Sierksrade" {
        track(:second :station :removed, ho[:sie - 1sw, :sie + 1sw]);
        marker(:left :de.bf :removed, ho[:sie]);
        slabel(:bottom :removed, ho[:sie] << 1.1sh + (-2.5sw, 0dt),
            "Sierksrade"
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:sie + 1sw, :kao - 1sw]);
    }

    with link = "point.de.Kastorf-Ost" {
        track(:second :station :removed, ho[:kao - 1sw, :kao + 1sw]);
        marker(:right :de.hp :removed, ho[:kao]);
        slabel(:right :removed, ho[:kao + 1sw] >> 1.2sh, "Kastorf Ost");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kao + 1sw, :kas - 1sw]);
    }

    with link = "point.de.Kastorf" {
        track(:second :station :removed, ho[:kas - 1sw, :kas + 1sw]);
        marker(:right :de.bf :removed, ho[:kas]);
        slabel(:left :removed, ho[:kas - 0.5sw] << 0.5dt,
            hbox(:right:top, "Kastorf")
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kas + 1sw, :sib - 1sw]);
    }

    with link = "point.de.Siebenbäumen" {
        track(:second :station :removed, ho[:sib - 1sw, :sib + 1sw]);
        marker(:right :de.hp :removed, ho[:sib]);
        slabel(:right :removed, ho[:sib + 1sw] >> 1.1sh, "Siebenbäumen");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:sib + 1sw, :ahr - 1sw]);
    }

    with link = "point.de.Ahrensfelde-Stormarn" {
        track(:second :station :removed, ho[:ahr - 1sw, :ahr + 1sw]);
        marker(:right :de.hp :removed, ho[:ahr]);
        slabel(:bottom :removed, ho[:ahr] << 1.0dt, "Ahrensfelde");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:ahr + 1sw, :sur - 1sw]);
    }

    with link = "point.de.Schürensölen" {
        track(:second :station :removed, ho[:sur - 1sw, :sur + 1sw]);
        marker(:right :de.hp :removed, ho[:sur]);
        slabel(:right :removed, ho[:sur + 1sw] >> 1.1sh, "Schürensölen");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:sur + 1sw, :kbo - 1sw]);
    }

    with link = "point.de.Klein-Boden" {
        track(:second :station :removed, ho[:kbo - 1sw, :kbo + 1sw]);
        marker(:right :de.hp :removed, ho[:kbo]);
        slabel(:left :removed, ho[:kbo - 0.2sw],
            hbox(:right:top, "Klein Boden")
        );
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:kbo + 1sw, :tre - 1sw]);
    }

    with link = "point.de.Treuholz" {
        track(:second :station :removed, ho[:tre - 1sw, :tre + 1sw]);
        marker(:right :de.bf :removed, ho[:tre]);
        slabel(:right :removed, ho[:tre + 1sw] >> 1.1sh, "Treuholz");
    }

    with link = "line.de.6928" {
        track(:second :removed, ho[:tre + 1sw, :ret - 1sw]);
        line_label(:right:sw :removed, ho[:tre + 1.8km], "6928");
    }

    with link = "point.de.Retwisch" {
        track(:second :station :removed, ho[:ret - 1sw, :ret + 1sw]);
        marker(:right :de.hp :removed, ho[:ret]);
        slabel(:right :removed, ho[:ret + 1sw] >> 1.1sh, "Retwisch");
    }

    with link = "line.de.6928" {
        with layer = -1 track(:second :removed,
                ho[:ret + 1sw, :old.yyh]
            ..  ho[:old.yh, :old.yh + 100m] << 1sh << 2dt
            ..  ho[:old - 1.1sw, :old - 1sw] << 1sh << 1.5dt
        );
    }
}

