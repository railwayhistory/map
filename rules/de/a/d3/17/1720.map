# DE 1720.  Lehrte - Cuxhaven
#
let lc = path("d3.de.a.1720");

with detail = 3 {

    with link = "line.de.1720" {
        track(:first :double :cat:ac15 :pax,
                lc[:deu - 1sw, :lug - 1sw]
        );
    }

    with link = "point.de.L端neburg-Gbf" {
        track(:first :double:station :cat:ac15 :pax,
                lc[:lug - 1sw, :lug + 1sw]
        );
        marker(:right :de.bft :cat:ac15, lc[:lug] >> 0.5dt);
        slabel(:right :cat:ac15 :pax, lc[:lug - 0.5sw] >> 0.5dt >> 1.4sh,
            span(:light, "L. Gbf")
        );
    }

    with link = "point.de.L端neburg" {
        # DE 1150
        track(:first :station :pax,
                lc[:lun - 0.5sw - 2.1dl, :lun - 0.5sw - 2dl] >> 0.5dt
            --  lc[:lun - 0.5sw - 1dl, :lun + 1sw] >> 1.5dt
        );

        # DE 1720
        track(:first :double:station :cat:ac15 :pax,
                lc[:lug + 1sw, :lun + 1sw]
        );

        marker(:left :de.inbf :cat:ac15 :pax, lc[:lun] << 0.5dt);
        slabel(:left :cat:ac15 :pax, lc[:lun - 0.5sw] << 1sh << 2dt,
            span(:bold, "L端neburg")
        );
    }

    with link = "line.de.1720" {
        track(:first :double:rightother :cat:ac15 :pax,
                lc[:lun + 1sw, :lkn - 0.5sw]
        );
    }

    with link = "point.de.L端neburg-Nordkopf" {
        # DE 1151
        track(:first :station :cat:ac15 :pax,
                lc[:lkn - 0.5sw, :lkn + 0.5sw] << 1.5dt
        );

        # DE 1720
        track(:first :double:station :cat:ac15 :pax,
                lc[:lkn - 0.5sw, :lkn + 0.5sw]
        );

        marker(:left :de.bft :cat:ac15 :pax, lc[:lkn] << 1.5dt);
        slabel(:left :cat:ac15 :pax, lc[:lkn - 0.5sw] << 1.5dt << 1.6sh,
            span(:light, "L. Nordkopf")
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
            lc[:lkn + 0.5sw, :gos - 0.5sw]
        );
    }

    with link = "point.de.Goseburg" {
        track(:first :double:station :cat:ac15 :pax,
            lc[:gos - 0.5sw, :gos + 0.5sw]
        );
        marker(:right :de.bk :removed, lc[:gos] >> 0.5dt);
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
            lc[:gos - 0.5sw, :bar - 1sw]
        );
    }

    with link = "point.de.Bardowick" {
        track(:first :double:station :cat:ac15 :pax,
            lc[:bar - 1sw, :bar + 1sw]
        );
        marker(:right :de.bf :cat:ac15 :pax, lc[:bar] >> 0.5dt);
        slabel(:right :cat:ac15 :pax,
            lc[:bar] >> 0.5dt >> 1.6sh + (-1.5sw, 0dt),
            "Bardowick"
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
            lc[:bar + 1sw, :rad - 1sw]
        );
        line_label(:right:sw :cat:ac15 :pax, lc[:bar + 3km], "1720");
    }

    with link = "point.de.Radbruch" {
        # DE 1720
        track(:first :double:station :cat:ac15 :pax,
            lc[:rad - 1sw, :rad + 1sw]
        );

        # DE 1153
        track(:first :station :cat:ac15 :pax,
            lc[:rad - 1sw, :rad + 1sw] << 1.5dt
        );

        marker(:right :de.bf :cat:ac15 :pax, lc[:rad] >> 0.5dt);
        slabel(:right :cat:ac15 :pax,
            lc[:rad] >> 0.5dt >> 1.6sh + (-1.5sw, 0dt),
            "Radbruch"
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
            lc[:rad + 1sw, :bor - 0.5sw]
        );
    }

    with link = "point.de.Borstel" {
        track(:first :double:station :cat:ac15 :pax,
            lc[:bor - 0.5sw, :bor + 0.5sw]
        );
        marker(:right :de.bk :removed, lc[:bor] >> 0.5dt);
        slabel(:right :removed :light,
            lc[:bor - 0.5sw] >> 0.5dt >> 1.2sh,
            "Borstel"
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
            lc[:bor + 0.5sw, :win - 1sw]
        );
    }

    with link = "point.de.Winsen-Luhe" {
        # DE 1720
        track(:first :double:station :cat:ac15 :pax,
            lc[:win - 1sw, :win + 1sw]
        );

        # DE 1153
        track(:first :station :cat:ac15 :pax,
            lc[:win - 1sw, :win + 1sw] << 1.5dt
        );

        marker(:right :de.bf :cat:ac15 :pax, lc[:win] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lc[:win - 0.5sw] << 2.0dt,
            hbox(:right:top, hbox(:right:base,
                span(:bold, "Winsen "), "(Luhe)"
            ))
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother :cat:ac15 :pax,
                lc[:win + 1sw, :asa - 1sw]
        );
        line_label(:right:sw :cat:ac15 :pax, lc[:win + 2.5km], "1720");
    }

    with link = "point.de.Ashausen-Abzw" {
        # DE 1720
        track(:first :double:station :cat:ac15 :pax,
                lc[:asa - 1sw, :ash + 1sw]
        );

        # DE 1281
        track(:first :station :cat:ac15 :pax,
                lc[:asa - 1.1dl, :asa - 1dl] >> 0.5dt
            --  lc[:asa, :ash + 1sw] >> 1.5dt
        );

        marker(:right :de.abzw :cat:ac15 :pax, lc[:asa] >> 1.5dt);
        slabel(:right :cat:ac15 :light,
            lc[:asa - 0.5sw] >> 1.5dt >> 1.6sh + (-1.5sw, 0dt),
            "Ashausen Abzw"
        );
    }

    with link = "line.de.1720" {
        track(:first :double:leftother:rightother :cat:ac15 :pax,
                lc[:ash + 1sw, :ste - 1sw]
        );
    }
}

