# DE 1000. Flensburg Weiche - Flensburg Grenze
#
let fh = path("d3.de.1000");

with detail = 3 {
    with railway = :first :double :cat:ac15 :pax  {
        # point.de.Flensburg-Weiche  de.1040

        with link = "line.de.1000" {
            track(:ror,
                    fh[:flw - 0.1dl, :flw] << 3ms << 1md << 2mt
                ..  fh[:fri.yf + 2dt, :fri.yf + 2.1dt]
            );
            track(:ror, fh[:fri.yf + 2dt, :fri - 1dl]);
        }

        with link = "point.de.Flensburg-Friedensweg", railway = :station {
            # DE 1000
            track(fh[:fri - 1dl, :fri + 1dl]);

            # DE 1005
            track(:single,
                    fh[:fri - 1dl, :fri] >> 0.5md >> 1ms >> 0.5mt
                --  fh[:fri + 1dl, :fri + 1.1dl]
            );

            marker(:right :de.abzw, fh[:fri] >> 0.5md >> 1ms >> 1mt);
            slabel(:sw :xsmall, fh[:fri] + (0.8sh, -1.4sw),
                vbox(:left:bottom, "F.", "Friedens-", "weg")
            );
        }

        with link = "line.de.1000" {
            track(fh[:fri, :fri + 1.7km]);
            line_label(:left:e, fh[:fri + 1.7km] << 0.5md, "1000");
            track(fh[:fri + 1.7km, :har - 0.5sw]);
        }

        with link = "point.de.Harrislee", railway = :station {
            track(fh[:har - 0.5sw, :har + 0.5sw]);
            marker(:right :de.bf :removed, fh[:har] >> 0.5dst);
            slabel(:e :removed, fh[:har] << 1.5dt, "Harrislee");
        }

        with link = "line.de.1000" {
            track(fh[:har + 0.5sw, :hag]);
        }

        with link = "point.int.Harrislee-Padborg" {
            marker(:right :de.dirgr, fh[:hag] >> 0.5dst);
            marker(:left :de.dirgr, fh[:hag] << 0.5dst);
            slabel(:e, fh[:hag] << 1.7sh,
                vbox(:right:middle,
                    "Padborg grÃ¦nse ", hrule(), "Flensburg Grenze "
                )
            );
        }
    }
}

