# DE 1043.  Neumünster - Bad Oldesloe
#
let no = path("d3.de.1043");

with detail = 3 {
    # point.de.Neumünster  de.1220

    with link = "line.de.1043" {
        track(:first :pax,
                no[:neu + 1sw, :neu.yo] << 1.5dt
            ..  no[:neu.yyo, :nes - 1sw] << 0.5dt
        );
        track(:first :removed,
                no[:neu.yo - 0.1dl, :neu.yo] << 0.5dt
            ..  no[:neu.yyo, :nes - 1sw] >> 0.5dt
        );
    }

    with link = "point.de.Neumünster-Süd" {
        # DE 1043
        track(:first :station :pax, no[:nes - 1sw, :nes + 1sw] << 0.5dt);
        track(:first :station :removed, no[:nes - 1sw, :nes + 1sw] >> 0.5dt);

        # DE 9121
        track(:second :station :pax,
                no[:nes - 0.5sw - 2.1dl, :nes - 0.5sw - 2dl] << 0.5dt
            --  no[:nes - 0.5sw, :nes + 1sw] >> 1.5dt
        );

        marker(:left :de.bf :removed, no[:nes] << 0.5dt);
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:nes + 1sw, :kku - 1sw] << 0.5dt);
        track(:first :removed, no[:nes + 1sw, :kku - 1sw] >> 0.5dt);
        line_label(:left:sw :pax, no[:nes + 2.5km] << 0.5dt, "1043");
    }

    with link = "point.de.Kleinkummerfeld" {
        track(:first :station :pax, no[:kku - 1sw, :kku + 1sw] << 0.5dt);
        track(:first :station :removed, no[:kku - 1sw, :kku + 1sw] >> 0.5dt);
        marker(:right :de.bf :removed, no[:kku] >> 0.5dt);
        slabel(:left :removed,
            no[:kku + 0.5sw] >> 0.5dt >> 1.2sh + (1.5sw, 0dt),
            hbox(:right:top, "Kleinkummerfeld*")
        );
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:kku + 1sw, :rio - 0.5sw] << 0.5dt);
        track(:first :removed, no[:kku + 1sw, :rio - 0.5sw] >> 0.5dt);
    }

    with link = "point.de.Rickling-Ölweiche" {
        track(:first :station :pax, no[:rio - 0.5sw, :rio + 0.5sw] << 0.5dt);
        track(:first :station :removed,
                no[:rio - 0.5sw, :rio + 0.5sw] >> 0.5dt
        );
        marker(:left :de.hp :removed, no[:rio] << 0.5dt);
        slabel(:right :removed, no[:rio - 1.5sw] << 1.3sh,
            "Rickling Ölweiche"
        );
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:rio + 0.5sw, :rin - 1sw] << 0.5dt);
        track(:first :removed, no[:rio + 0.5sw, :rin - 1sw] >> 0.5dt);
    }

    with link = "point.de.Rickling" {
        track(:first :station :pax, no[:rin - 1sw, :rin + 1sw] << 0.5dt);
        track(:first :station :removed, no[:rin - 1sw, :rin + 1sw] >> 0.5dt);
        marker(:left :de.hp :pax, no[:rin] << 0.5dt);
        marker(:left :de.exbf :pax, no[:rin] << 0.5dt);
        slabel(:right :pax, no[:rin + 0.7sw] << 0.5dt << 1.7sh, "Rickling");
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:rin + 1sw, :wah - 1sw] << 0.5dt);
        track(:first :removed, no[:rin + 1sw, :wah - 1sw] >> 0.5dt);
    }

    with link = "point.de.Wahlstedt" {
        track(:first :station :pax, no[:wah - 1sw, :wah + 1sw] << 0.5dt);
        track(:first :station :removed, no[:wah - 1sw, :wah + 1sw] >> 0.5dt);
        marker(:right :de.hp :pax, no[:wah] >> 0.5dt);
        slabel(:right :pax, no[:wah + 0.5sw] << 1.5dt, "Wahlstedt");
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:wah + 1sw, :fak - 1sw] << 0.5dt);
        track(:first :removed, no[:wah + 1sw, :fak - 1sw] >> 0.5dt);
    }

    with link = "point.de.Fahrenkrug" {
        track(:first :station :pax, no[:fak - 1sw, :fak + 1sw] << 0.5dt);
        track(:first :station :removed, no[:fak - 1sw, :fak + 1sw] >> 0.5dt);
        marker(:right :de.hp :pax, no[:fak] >> 0.5dt);
        marker(:right :de.exbf :pax, no[:fak] >> 0.5dt);
        slabel(:left :pax, no[:fak + 1sw] >> 0.5dt >> 1.2sh,
            hbox(:right:top, "Fahrenkrug")
        );
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:fak + 1sw, :seg - 1sw] << 0.5dt);
        track(:first :removed, no[:fak + 1sw, :seg - 1sw] >> 0.5dt);
        line_label(:right:n :pax, no[:fak + 2km] >> 0.5dt, "1043 ");
    }

    with link = "point.de.Bad-Segeberg" {
        track(:first :station :pax, no[:seg - 1sw, :seg + 1sw] << 0.5dt);
        track(:first :station :removed, no[:seg - 1sw, :seg + 1sw] >> 0.5dt);
        marker(:left :de.bf :pax, no[:seg] << 0.5dt);
        slabel(:right :pax :bold, no[:seg + 0.7sw] << 0.5dt << 1.4sh,
            "Bad Segeberg"
        );
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:seg + 1sw, :ago - 1sw] << 0.5dt);
        track(:first :removed, no[:seg + 1sw, :ago - 1sw] >> 0.5dt);
        line_label(:right:ne :pax, no[:ago - 1.5km] >> 0.5dt, "1043");
    }

    with link = "point.de.Altengörs" {
        track(:first :station :pax, no[:ago - 1sw, :ago + 1sw] << 0.5dt);
        track(:first :station :removed, no[:ago - 1sw, :ago + 1sw] >> 0.5dt);
        marker(:left :de.hp :pax, no[:ago] << 0.5dt);
        slabel(:right :pax, no[:ago + 0.7sw] << 0.5dt << 1.4sh, "Altengörs");
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:ago + 1sw, :wkh - 1sw] << 0.5dt);
        track(:first :removed, no[:ago + 1sw, :wkh - 1sw] >> 0.5dt);
    }

    with link = "point.de.Wakendorf" {
        track(:first :station :pax, no[:wkh - 1sw, :wkh + 1sw] << 0.5dt);
        track(:first :station :removed, no[:wkh - 1sw, :wkh + 1sw] >> 0.5dt);
        marker(:right :de.hp :pax, no[:wkh] >> 0.5dt);
        marker(:right :de.exbf :pax, no[:wkh] >> 0.5dt);
        slabel(:right :pax, no[:wkh + 0.5sw] << 1.5dt, "Wakendorf");
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:wkh + 1sw, :frh - 1sw] << 0.5dt);
        track(:first :removed, no[:wkh + 1sw, :frh - 1sw] >> 0.5dt);
    }

    with link = "point.de.Fresenburg" {
        track(:first :station :pax, no[:frh - 1sw, :frh + 1sw] << 0.5dt);
        track(:first :station :removed, no[:frh - 1sw, :frh + 1sw] >> 0.5dt);
        marker(:right :de.hp :pax, no[:frh] >> 0.5dt);
        marker(:right :de.exbf :pax, no[:frh] >> 0.5dt);
        slabel(:left :pax, no[:frh + 0.5sw] >> 0.5dt >> 2.0sh,
            "Fresenburg"
        );
    }

    with link = "line.de.1043" {
        track(:first :pax, no[:frh + 1sw, :pog - 0.5sw] << 0.5dt);
        track(:first :removed, no[:frh + 1sw, :pog - 0.5sw] >> 0.5dt);
        line_label(:left:w :pax, no[:frh + 1.2km] << 0.5dt, "1043");
    }

    with link = "point.de.Poggensee" {
        track(:first :station :pax, no[:pog - 1sw, :pog + 1sw] << 0.5dt);
        track(:first :station :removed, no[:pog - 1sw, :pog + 1sw] >> 0.5dt);
        marker(:left :de.hp :removed, no[:pog] << 0.5dt);
        slabel(:left :removed, no[:pog + 0.6sw] >> 1.8dt, "Poggensee");
    }

    with link = "line.de.1043" {
        track(:first :pax,
                no[:pog + 0.5sw, :old.aan] << 0.5dt
            ..  no[:old - 1.01sw, :old - 1sw] >> 1sh >> 0.5dt
        );
        track(:first :removed,
                no[:pog + 0.5sw, :old.aan] >> 0.5dt
            ..  no[:old - 1.01sw, :old - 1sw] >> 1sh >> 1.5dt
        );
    }

    # point.de.Bad-Oldesloe  de.1120
}

