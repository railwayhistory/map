# DE 1001.  Flensburg Weiche - Lindholm
#
let fl = path("d3.de.1001");

with detail = 3 {
    with railway = :second :closed {
        # point.de.Flensburg-Weiche  de.1040

        with link = "line.de.1001" {
            with layer = -1 track(
                    fl[:flw.yl - 0.1dl, :flw.yl] >> 0.5md >> 2ms >> 1.5mt
                ..  fl[:flw.yyl + 2dt, :han - 2.8km]
            );
            line_badge(fl[:han - 2.8km], "1001");
            track(fl[:han - 2.8km, :han - 0.5sw]);
        }

        with link = "point.de.Handewitt", railway = :station {
            track(fl[:han - 0.5sw, :han + 0.5sw]);
            marker(:left :de.hst, fl[:han] << 0.5mt);
            marker(:left :de.exbf, fl[:han] << 0.5mt);
            slabel(:ne, fl[:han] + (2sw, 1.7sh), "Handewitt");
        }

        with link = "line.de.1001" {
            track(fl[:han + 0.5sw, :una - 0.5sw]);
        }

        with link = "point.de.Unaften", railway = :station {
            track(fl[:una - 0.5sw, :una + 0.5sw]);
            marker(:right :de.hp, fl[:una] >> 0.5mt);
            slabel(:top, fl[:una] >> 1.3sh + (0.2sw, 0dt), "Unaften");
        }

        with link = "line.de.1001" {
            track(fl[:una + 0.5sw, :wal - 0.5sw]);
        }

        with link = "point.de.Wallsb端ll", railway = :station {
            track(fl[:wal - 0.5sw, :wal + 0.5sw]);
            marker(:left :de.bf, fl[:wal] << 0.5mt);
            slabel(:n, fl[:wal] + (1sw, 1.5sh), "Wallsb端ll");
        }

        with link = "line.de.1001" {
            track(fl[:wal + 0.5sw, :saf - 0.5sw]);
        }

        with link = "point.de.Schafflund", railway = :station {
            track(fl[:saf - 0.5sw, :saf + 0.5sw]);
            marker(:left :de.hst, fl[:saf] << 0.5mt);
            marker(:left :de.exbf, fl[:saf] << 0.5mt);
            slabel(:n, fl[:saf] + (0sw, 1.9sh), "Schafflund");
        }

        with link = "line.de.1001" {
            track(fl[:saf + 0.5sw, :saf + 3km]);
            line_badge(fl[:saf + 3km], "1001");
            track(fl[:saf + 3km, :spr - 0.5sw]);
        }

        with link = "point.de.Sprakeb端ll", railway = :station {
            track(fl[:spr - 0.5sw, :spr + 0.5sw]);
            marker(:right :de.hst, fl[:spr] >> 0.5mt);
            marker(:right :de.exbf, fl[:spr] >> 0.5mt);
            slabel(:top, fl[:spr] >> 1.8sh + (0.2sw, 0dt), "Sprakeb端ll");
        }

        with link = "line.de.1001" {
            track(fl[:spr + 0.5sw, :ach - 0.5sw]);
        }

        with link = "point.de.Achtrup", railway = :station {
            track(fl[:ach - 0.5sw, :ach + 0.5sw]);
            marker(:left :de.hst, fl[:ach] << 0.5mt);
            marker(:left :de.exbf, fl[:ach] << 0.5mt);
            slabel(:n, fl[:ach] + (0sw, 1.8sh), "Achtrup");
        }

        with link = "line.de.1001" {
            track(fl[:ach + 0.5sw, :lec - 0.5sw]);
        }

        with link = "point.de.Leck", railway = :station {
            track(fl[:lec - 0.5sw, :lec + 0.5sw]);
            marker(:left :de.bf, fl[:lec] << 0.5mt);
            slabel(:n, fl[:lec] + (0sw, 1.4sh), "Leck");
        }

        with link = "line.de.1001" {
            track(fl[:lec + 0.5sw, :lec + 3.5km]);
            line_badge(fl[:lec + 3.5km], "1001");
            track(
                    fl[:lec + 3.5km, :lin.yyf - 1dt]
                ..  fl[:lin.yf, :lin.yf + 0.1dl] >> 0.5md >> 1ms >> 0.5mt
            );
        }
    }
}

