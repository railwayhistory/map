# DE 1012.  Büdelsdorf - Husum
#
let bh = path("d3.de.1012");

with detail = 3 {
    # point.de.Büdelsdorf  de.1040

    with link = "line.de.1012" {
        track(:station,
                bh[:bud + 2dl, :bud + 2.1dl] << 1.5dt
            ..  bh[:bud.ffh, :gen - 0.5sw]
        );
    }

    with link = "point.de.Rendsburg-Gewerbegebiet-Nord" {
        track(:station, bh[:gen - 0.5sw, :gen]);
        track(:second :station :removed, bh[:gen, :gen + 0.5sw]);
        marker(:right :de.anst, bh[:gen]);
        slabel(:left :light, bh[:gen - 1.3sw] >> 1sw,
            hbox(:right:bottom,
                vbox(:right:bottom, "R. Gewerbe", "gebiet Nord"),
                vbox(:left:bottom, "-", "")
            )
        );
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:gen + 0.5sw, :foc - 1sw]);
    }

    with link = "point.de.Fockbek" {
        track(:second :station :removed, bh[:foc - 1sw, :foc + 1sw]);
        marker(:left :de.bf :removed, bh[:foc]);
        slabel(:bottom :removed, bh[:foc] << 1.4sw, "Fockbek");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:foc + 1sw, :gar - 1sw]);
        line_label(:left:n :removed, bh[:gar - 1.5km], "1012");
    }

    with link = "point.de.Garlbek" {
        track(:second :station :removed, bh[:gar - 1sw, :gar + 1sw]);
        marker(:right :de.hp :removed, bh[:gar]);
        slabel(:top :removed, bh[:gar] >> 1.2sw, "Garlbek");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:gar + 1sw, :hoh - 1sw]);
    }

    with link = "point.de.Hohn" {
        track(:second :station :removed, bh[:hoh - 1sw, :hoh + 1sw]);
        marker(:left :de.bf :removed, bh[:hoh]);
        slabel(:bottom :removed, bh[:hoh] << 1.4sw, "Hohn");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:hoh + 1sw, :chr - 1sw]);
    }

    with link = "point.de.Christiansholm" {
        track(:second :station :removed, bh[:chr - 1sw, :chr + 1sw]);
        marker(:left :de.bf :removed, bh[:chr]);
        slabel(:right :removed, bh[:chr + -0.3sw] >> 0.8dt, "Christiansholm");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:chr + 1sw, :erf - 1sw]);
    }

    with link = "point.de.Erfde" {
        track(:second :station :removed, bh[:erf - 1sw, :erf + 1sw]);
        marker(:left :de.bf :removed, bh[:erf]);
        slabel(:bottom :removed, bh[:erf] << 1.4sw, "Erfde");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:erf + 1sw, :nor - 1sw]);
        line_label(:right:sw :removed, bh[:erf + 4km], "1012");
    }

    with link = "point.de.Norderstapel" {
        track(:second :station :removed, bh[:nor - 1sw, :nor + 1sw]);
        marker(:right :de.hp :removed, bh[:nor]);
        slabel(:right :removed, bh[:nor - 0.6sw] >> 1.4sw, "Norderstapel");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:nor + 1sw, :swa - 1sw]);
    }

    with link = "point.de.Schwabstedt" {
        track(:second :station :removed, bh[:swa - 1sw, :swa + 1sw]);
        marker(:left :de.hst :removed, bh[:swa]);
        slabel(:right :removed, bh[:swa - 0.5sw] >> 0.8dt, "Schwabstedt");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:swa + 1sw, :ran - 1sw]);
    }

    with link = "point.de.Rantrum" {
        track(:second :station :removed, bh[:ran - 1sw, :ran + 1sw]);
        marker(:left :de.bf :removed, bh[:ran]);
        slabel(:right :removed, bh[:ran - 0.6sw] >> 0.8dt, "Rantrum");
    }

    with link = "line.de.1012" {
        track(:second :removed, bh[:ran + 1sw, :mil - 1sw]);
        line_label(:right:s :removed, bh[:mil - 1.5km], "  1012");
    }

    with link = "point.de.Mildstedt" {
        track(:second :station :removed, bh[:mil - 1sw, :mil + 1sw]);
        marker(:left :de.hst :removed, bh[:mil]);
        slabel(:left :removed, bh[:mil] + (1.2sw, 1.2sw),
            hbox(:right:top, "Mildstedt")
        );
    }

    with link = "line.de.1012" {
        track(:second :removed,
                bh[:mil + 1sw, :hus.ab - 0.5km]
            ..  bh[:hus.ab, :hus.hs] >> 0.5dt
        );
    }
}

