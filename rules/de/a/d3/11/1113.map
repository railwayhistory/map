# DE 1113.  Schwartau Waldhalle - Lübeck-Travemünde Strand
#
let wt = path("d3.de.1113");

with detail = 3 {
    # point.de.Schwartau-Waldhalle-Wr  de.1100

    with link = "line.de.1113" {
        track(:first :double :cat:ac15 :pax, wt[:wal + 2sw, :wab - 0.5sw]);
    }

    with link = "point.de.Schwartau-Waldhalle" {
        track(:first :double:station :cat:ac15 :pax,
                wt[:wab - 0.5sw, :wab + 0.5sw]
        );
        marker(:right :de.bf :removed, wt[:wab] >> 0.5dt);
    }

    with link = "line.de.1113" {
        track(:first :double :cat:ac15 :pax, wt[:wab + 0.5sw, :dan - 1sw]);
        line_label(:right:n :cat:ac15 :pax, wt[:wab + 1km] >> 0.5dt, "1113");
    }

    with link = "point.de.Lübeck-Dänischburg" {
        track(:first :double:station :cat:ac15 :pax, wt[:dan - 1sw, :dan]);
        marker(:left :de.bf :cat:ac15 :pax, wt[:dan - 0.5sw] << 0.5dt);
        slabel(:top :cat:ac15 :pax :bold, wt[:dan] << 0.5dt << 1.2sh,
            "L.-Dänischburg"
        );
    }

    with link = "point.de.Lübeck-IKEA-Abzw" {
        # DE 1113
        track(:first :double:station :cat:ac15 :pax, wt[:dan, :dan + 1sw]);

        # DE 1115
        track(:station,
                wt[:dan + 0.49dl, :dan + 0.5sw] >> 0.5dt
            --  wt[:dan + 0.5sw + 1dl, :dan + 1sw] >> 1.5dt
        );

        marker(:left :de.abzw :cat:ac15 :pax, wt[:dan + 0.5sw] << 0.5dt);
    }

    with link = "line.de.1113" {
        track(:first :double:rightother :cat:ac15 :pax,
                wt[:dan + 1sw, :dan + 1km]
        );
        track(:first :double :cat:ac15 :pax,
                wt[:dan + 1km, :kuc - 0.5sw]
        );
    }

    with link = "point.de.Lübeck-Kücknitz" {
        track(:first :double:station :cat:ac15 :pax,
                wt[:kuc - 0.5sw, :kuc + 0.5sw]
        );
        marker(:left :de.bf :removed, wt[:kuc] << 0.5dt);
        slabel(:left :removed, wt[:kuc] << 0.5dt << 1.6sh + (2sw, 0dt),
            "L.-Kücknitz"
        );
    }

    with link = "line.de.1113" {
        track(:first :double :cat:ac15 :pax, wt[:kuc + 0.5sw, :kua - 0.5sw]);
    }

    with link = "point.de.Lübeck-Kücknitz-Abzw" {
        track(:first :double:station :cat:ac15 :pax,
                wt[:kua - 0.5sw, :kua + 0.5sw]
        );
        marker(:right :de.abzw :cat:ac15, wt[:kua] >> 0.5dt);
        slabel(:right :cat:ac15, wt[:kua] >> 0.5dt >> 1.2sh + (-1sw, 0dt),
            hbox(:left:top, "L.-Kücknitz")
        );
    }

    with link = "line.de.1113" {
        track(:first :leftother :cat:ac15 :pax,
                wt[:kua + 0.5sw, :kur - 0.5sw] >> 0.5dt
        );
    }

    with link = "point.de.Lübeck-Kücknitz-Roter-Hahn" {
        track(:first :station :cat:ac15 :pax,
                wt[:kur - 0.5sw, :kua.ys] >> 0.5dt
        );
        marker(:right :de.hp :cat:ac15 :pax, wt[:kur] >> 0.5dt);
        slabel(:right :cat:ac15 :pax,
            wt[:kur - 0.5sw] >> 0.5dt >> 1.1sh + (-0.7sw, 0dt),
            hbox(:left:top, "L.-Kücknitz Roter Hahn")
        );
    }

    with link = "line.de.1113" {
        track(:first :cat:ac15 :pax,
                wt[:kua.ys, :kua.ys + 0.1dl] >> 0.5dt
            ..  wt[:pop - 0.6sw, :pop - 0.5sw]
        );
        line_label(:left:se :cat:ac15 :pax, wt[:pop - 0.8km], "1113");
    }

    with link = "point.de.Lübeck-Pöppendorf" {
        track(:first :station :cat:ac15 :pax, wt[:pop - 0.5sw, :pop + 0.5sw]);
        marker(:left :de.bf :removed, wt[:pop]);
        slabel(:left :removed, wt[:pop] << 1.5sh + (1.5sw, 0dt),
            "L.-Pöppendorf"
        );
    }

    with link = "line.de.1113" {
        track(:first :cat:ac15 :pax, wt[:pop + 0.5sw, :ska - 0.5sw]);
    }

    with link = "point.de.Lübeck-Travemünde-Skandinavienkai" {
        track(:first :station :cat:ac15 :pax, wt[:ska - 0.5sw, :ska + 0.5sw]);
        marker(:right :de.hp :cat:ac15 :pax, wt[:ska]);
        slabel(:left :cat:ac15 :pax, wt[:ska] + (-1.5dt, 0.5sw),
            "L.-T. Skandinavienkai"
        );
    }

    with link = "line.de.1113" {
        track(:first :cat:ac15 :pax, wt[:ska + 0.5sw, :trh - 1sw]);
    }

    with link = "point.de.Lübeck-Travemünde-Hafen" {
        # DE 1113
        track(:first :station :cat:ac15 :pax, wt[:trh - 1sw, :trh + 0.5sw]);

        # DE 1114
        track(:second :station :removed,
                wt[:trh - 0.5sw - 1.1dl, :trh - 0.5sw - 1dl]
            --  wt[:trh - 0.5sw, :trh + 0.5sw] << 1dt
        );

        marker(:right :de.bf :cat:ac15 :pax, wt[:trh]);
        slabel(:right :cat:ac15 :pax, wt[:trh - 0.5sw] >> 1.1sh,
            hbox(:left:top :bold, "Lübeck-Travemünde Hafen")
        );
    }

    with link = "line.de.1113" {
        track(:first :leftother :cat:ac15 :pax, wt[:trh + 0.5sw, :trh.yn]);
        track(:first :cat:ac15 :pax, wt[:trh.yn, :trs - 0.5sw]);
        line_label(:right:nw :cat:ac15 :pax, wt[:trh + 0.6km], "1113");
    }

    with link = "point.de.Lübeck-Travemünde-Strand" {
        track(:first :station :cat:ac15 :pax, wt[:trs - 0.5sw, :trs]);
        marker(:top :de.hp :cat:ac15 :pax, wt[:trs]);
        marker(:top :de.exbf :cat:ac15 :pax, wt[:trs]);
        slabel(:right :cat:ac15 :pax :bold, wt[:trs] + (1.7sh, -0.7sw),
            "Lübeck-Travemünde Strand"
        );
    }
}

