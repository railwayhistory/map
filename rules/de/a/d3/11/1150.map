# DE 1150.  Lüneburg - Büchen
#
let lb = path("d3.de.1150");

with detail = 3 {
    # point.de.Lüneburg  de.1720

    with link = "line.de.1150" {
        track(:first :pax,
                lb[:lun + 1sw, :lbn] >> 1.5dt
            ..  lb[:lun.yyb, :jag - 1sw]
        );
    }

    with link = "point.de.Jäger" {
        track(:first :station :pax, lb[:jag - 1sw, :jag + 1sw]);
        marker(:left :de.hp :removed, lb[:jag]);
        slabel(:left :removed, lb[:jag - 0.5sw] << 1.4sh, "Jäger");
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:jag + 1sw, :ade - 1sw]);
    }

    with link = "point.de.Adendorf" {
        track(:first :station :pax, lb[:ade - 1sw, :ade + 1sw]);
        marker(:left :de.bf :pax, lb[:ade]);
        slabel(:left :pax, lb[:ade - 0.7sw] << 1.4sh, "Adendorf");
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:ade + 1sw, :ech - 1sw]);
        line_label(:left:se :pax, lb[:ade + 2km], "1150");
    }

    with link = "point.de.Echem" {
        track(:first :station :pax, lb[:ech - 1sw, :ech + 1sw]);
        marker(:left :de.hp :pax, lb[:ech]);
        marker(:left :de.exbf :pax, lb[:ech]);
        slabel(:left :pax :bold, lb[:ech - 0.7sw] << 1.8sh, "Echem");
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:ech + 1sw, :lag - 1.5sw]);
        line_label(:left:e :pax, lb[:hoh - 1.2km], "1150");
    }

    with link = "point.de.Hohnstorf" {
        track(:first :station :pax, lb[:lag - 1.5sw, :lag - 0.5sw]);
        marker(:left :de.hp :removed, lb[:lag - 1sw]);
        slabel(:left :removed, lb[:lag - 1.5sw] << 1.4sh, "Hohnstorf");
    }

    with link = "point.de.Lauenburg-Elbe-LGr" {
        track(:first :station :pax, lb[:lag - 0.5sw, :lag + 0.5sw]);
        marker(:left :de.lgr, lb[:lag]);
        marker(:right :de.lgr, lb[:lag]);
        slabel(:right, lb[:lag] >> 1.2sh + (-0.5sw, 0dt),
            hbox(:left:top :roman:italic, "NI/SH")
        );
    }

    with link = "point.de.Lauenburg-Elbe" {
        track(:first :station :pax, lb[:lag + 0.5sw, :lau + 1sw]);
        marker(:left :de.bf :pax, lb[:lau]);
        slabel(:left :pax, lb[:lau - 0.3sw] << 1.4sh,
            hbox(:right:base, "Lauenburg ", span(:light, "(Elbe)"))
        );
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:lau + 1sw, :dak - 0.5sw]);
    }

    with link = "point.de.Dalldorf-Kreuz" {
        track(:first :station :pax, lb[:dak - 0.5sw, :dak + 0.5sw]);
        marker(:left :de.bk :removed, lb[:dak]);
        slabel(:left :removed :light, lb[:dak - 0.5sw] << 1.4sh,
            "Dalldorf Kreuz"
        );
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:dak + 0.5sw, :dan - 1sw]);
    }

    with link = "point.de.Dalldorf" {
        track(:first :station :pax, lb[:dan - 1sw, :dal + 0.5sw]);
        marker(:right :de.bbf, lb[:dan]);
        slabel(:right :pax, lb[:dan - 0.5sw] >> 1.6sh, "Dalldorf");

        marker(:right :de.bf :removed, lb[:dal]);
        slabel(:left :removed, lb[:dal - 0.5sw] << 1.0dt, "Dalldorf");
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:dal + 0.5sw, :wit - 1sw]);
    }

    with link = "point.de.Witzeeze" {
        track(:first :station :pax, lb[:wit - 1sw, :wit + 1sw]);
        marker(:right :de.hp :removed, lb[:wit]);
        slabel(:left :removed, lb[:wit - 0.5sw] << 1.0dt, "Witzeeze");
    }

    with link = "line.de.1150" {
        track(:first :pax,
                lb[:wit + 1sw, :buc.yyl - 3dt]
            ..  path("d3.de.a.6100")[:buc - 0.1dl, :buc] << 1sh << 0.5dt
        );
        line_label(:left:e :pax, lb[:buc.yyl - 1.2km], "1150");
    }
}

