# DE 1151.  Wittenberge - Buchholz (Nordh)
#
let wb = path("d3.de.a.1151");

with detail = 3 {
    # DE-W

    with link = "line.de.1151" {
        track(:first :removed, wb[:dog + 0.5sw, :doy - 0.5sw]);
    }

    with link = "point.de.Dömitz-LGr-II" {
        track(:first :station :removed, wb[:doy - 0.5sw, :doy + 0.5sw]);
        marker(:right :de.lgr :removed, wb[:doy]);
        marker(:left :de.lgr :removed, wb[:doy]);
        slabel(:top :removed :roman:italic, wb[:doy] >> 1.2sh, "Pre/Msw");
    }

    with link = "line.de.1151" {
        track(:first :removed, wb[:doy + 0.5sw, :qui - 0.5sw]);
    }

    with link = "point.de.Quickborn-Dannenberg" {
        track(:first :station :removed, wb[:qui - 0.5sw, :qui + 0.5sw]);
        marker(:left :de.bk :removed, wb[:qui]);
        slabel(:bottom :removed :light, wb[:qui] << 1.2sh + (1sw, 0dt),
            "Quickborn"
        );
    }

    with link = "line.de.1151" {
        track(:first :removed, wb[:qui + 0.5sw, :dan - 0.5sw - 3dl]);
        line_label(:right:s :removed, wb[:qui + 1.8km], "1151");
    }

    with link = "point.de.Dannenberg-Ost" {
        # DE 1151
        track(:second :station :pax, wb[:dan - 0.5sw - 3dl, :dan + 1sw]);

        # DE 6905
        track(:second :station,
                wb[:dan - 0.5sw - 2.1dl, :dan - 0.5sw - 2dl]
            --  wb[:dan - 0.5sw - 1dl, :dan + 1sw] << 1dt
        );

        marker(:left :de.bf :pax, wb[:dan] << 1dt);
        slabel(:right :pax :bold, wb[:dan] << 1dt << 1.2sh + (-1.5sw, 0dt),
            hbox(:left:top, "Dannenberg Ost")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:dan + 1sw, :pis - 1sw]);
    }

    with link = "point.de.Pisselberg" {
        track(:second :station :pax, wb[:pis - 1sw, :pis + 1sw]);
        marker(:left :de.hp :removed, wb[:pis]);
        slabel(:right :removed, wb[:pis - 0.5sw] >> 1.0dt, "Pisselberg");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:pis + 1sw, :hit - 1sw]);
        line_label(:left:ne :pax, wb[:pis + 2km], "1151");
    }

    with link = "point.de.Hitzacker" {
        track(:second :station :pax, wb[:hit - 1sw, :hit + 1sw]);
        marker(:right :de.hp :pax, wb[:hit]);
        marker(:right :de.exbf :pax, wb[:hit]);
        slabel(:right :pax, wb[:hit - 0.5sw] >> 1.8sh, "Hitzacker");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:hit + 1sw, :sar - 0.5sw]);
    }

    with link = "point.de.Sarchern" {
        track(:second :station :pax, wb[:sar - 0.5sw, :sar + 0.5sw]);
        marker(:right :de.bk :removed, wb[:sar]);
        slabel(:top :removed :light, wb[:sar] >> 1.2sh, "Sarchern");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:sar + 0.5sw, :har - 1sw]);
    }

    with link = "point.de.Harlingen" {
        track(:second :station :pax, wb[:har - 1sw, :har + 1sw]);
        marker(:left :de.hp :pax, wb[:har]);
        slabel(:bottom :pax, wb[:har] << 1.2sh, "Harlingen");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:har + 1sw, :lei - 1sw]);
    }

    with link = "point.de.Leitstade" {
        track(:second :station :pax, wb[:lei - 1sw, :lei + 1sw]);
        marker(:right :de.hp :pax, wb[:lei]);
        marker(:right :de.exbf :pax, wb[:lei]);
        slabel(:right :pax, wb[:lei - 0.5sw] >> 1.8sh, "Leitstade");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:lei + 1sw, :goh - 1sw]);
    }

    with link = "point.de.Göhrde" {
        track(:second :station :pax, wb[:goh - 1sw, :goh + 1sw]);
        marker(:left :de.hp :pax, wb[:goh]);
        marker(:left :de.exbf :pax, wb[:goh]);
        slabel(:bottom :pax, wb[:goh] << 1.8sh, "Göhrde");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:goh + 1sw, :old - 1sw]);
    }

    with link = "point.de.Oldendorf" {
        track(:second :station :pax, wb[:old - 1sw, :old + 1sw]);
        marker(:right :de.hp :removed, wb[:old]);
        slabel(:top :removed, wb[:old] >> 1.2sh + (-0.5sw, 0dt), "Oldendorf");
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:old + 1sw, :suc - 0.5sw]);
    }

    with link = "point.de.Süschendorf" {
        track(:second :station :pax, wb[:suc - 0.5sw, :suc + 0.5sw]);
        marker(:left :de.bk :removed, wb[:suc]);
        slabel(:right :removed :light, wb[:suc] << 1.0sh + (-1.5sw, 0dt),
            hbox(:left:top, "Süschendorf")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:suc + 0.5sw, :nee - 1sw]);
    }

    with link = "point.de.Neetzendorf" {
        track(:second :station :pax, wb[:nee - 1sw, :nee + 1sw]);
        marker(:left :de.hp :pax, wb[:nee]);
        slabel(:left :pax, wb[:nee] << 1.2sh + (1.5sw, 0dt),
            hbox(:right:top, "Neetzendorf")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:nee + 1sw, :dah - 1sw]);
    }

    with link = "point.de.Dahlenburg" {
        track(:second :station :pax, wb[:dah - 1sw, :dah + 1sw]);
        marker(:right :de.bf :pax, wb[:dah]);
        slabel(:left :pax :bold, wb[:dah] << 0.5dt + (1sw, 0dt),
            hbox(:right:top, "Dahlenburg")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:dah + 1sw, :dum - 1sw]);
    }

    with link = "point.de.Dumstorf" {
        track(:second :station :pax, wb[:dum - 1sw, :dum + 1sw]);
        marker(:left :de.hp :removed, wb[:dum]);
        slabel(:left :removed, wb[:dum + 0.9sw] << 1.2sh,
            hbox(:right:top, "Dumstorf")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:dum + 1sw, :bav - 1sw]);
        line_label(:right:s :pax, wb[:dum + 1.5km], "1151");
    }

    with link = "point.de.Bavendorf" {
        track(:second :station :pax, wb[:bav - 1sw, :bav + 1sw]);
        marker(:left :de.hp :pax, wb[:bav]);
        marker(:left :de.exbf :pax, wb[:bav]);
        slabel(:bottom :pax, wb[:bav] << 1.5sh, "Bavendorf");
    }

    with link = "line.de.1151" {
        track(:second :pax, wb[:bav + 1sw, :roh - 1sw]);
    }

    with link = "point.de.Rohstorf" {
        track(:second :station :pax, wb[:roh - 1sw, :roh + 1sw]);
        marker(:left :de.hp :removed, wb[:roh]);
        slabel(:bottom :removed, wb[:roh] << 1.2sh + (-1sw, 0dt), "Rohstorf");
    }

    with link = "line.de.1151" {
        track(:second :pax, wb[:roh + 1sw, :vas - 1sw]);
    }

    with link = "point.de.Vastorf" {
        track(:second :station :pax, wb[:vas - 1sw, :vas + 1sw]);
        marker(:left :de.hp :pax, wb[:vas]);
        marker(:left :de.exbf :pax, wb[:vas]);
        slabel(:bottom :pax, wb[:vas] << 1.7sh + (-1sw, 0dt), "Vastorf");
    }

    with link = "line.de.1151" {
        track(:second :pax, wb[:vas + 1sw, :wen - 1sw]);
        line_label(:left:ne :pax, wb[:wen - 3km], "1151");
    }

    with link = "point.de.Wendisch-Evern" {
        track(:second :station :pax, wb[:wen - 1sw, :wen + 1sw]);
        marker(:right :de.hp :pax, wb[:wen]);
        marker(:right :de.exbf :pax, wb[:wen]);
        slabel(:top :pax, wb[:wen] >> 1.6sh,
            vbox(:center:bottom, "Wendisch", "Evern")
        );
    }

    with link = "line.de.1151" {
        with layer = 1 track(:second :pax :casing,
                wb[:wen + 1sw, :lun.xa]
            ..  wb[:lun.yd, :lun - 1sw] << 1sh << 0.5dt
        );
    }

    with link = "point.de.Lüneburg-Westseite" {
        track(:second :station :cat:ac15 :pax,
                wb[:lun - 1sw, :lun + 1sw] << 1sh << 0.5dt
        );
    }

    with link = "line.de.1151" {
        track(:second :cat:ac15 :pax,
                wb[:lun + 1sw, :lun + 1.1sw] << 1sh << 0.5dt
            ..  wb[:lkn - 0.51sw, :lkn - 0.5sw] << 1.5dt
        );
    }

    # point.de.Lüneburg-Nordkopf  de.1720

    with link = "line.de.1151" {
        track(:second :removed,
                wb[:lun.yj - 0.1dl, :lun.yj] << 1.5dt
            ..  wb[:lun.yyj + 2dt, :ste - 0.5sw]
        );
    }

    with link = "point.de.Sternkamp" {
        track(:second :station :removed, wb[:ste - 0.5sw, :ste + 1sw]);
        marker(:left :de.hp :removed, wb[:ste]);
        slabel(:left :removed, wb[:ste] << 0.1sh + (-1.3sw, 0dt),
            hbox(:right:top, "Sternkamp")
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:ste + 1sw, :och - 1sw]);
    }

    with link = "point.de.Ochtmissen" {
        track(:second :station :removed, wb[:och - 1sw, :och + 1sw]);
        marker(:left :de.hp :removed, wb[:och]);
        slabel(:left :removed, wb[:och] << 0.1sh + (-1.3sw, 0dt),
            hbox(:right:top, "Ochtmissen")
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:och + 1sw, :vog - 1sw]);
    }

    with link = "point.de.Vögelsen" {
        track(:second :station :removed, wb[:vog - 1sw, :vog + 1sw]);
        marker(:left :de.hp :removed, wb[:vog]);
        slabel(:left :removed, wb[:vog] << 0.1sh + (-1.3sw, 0dt),
            hbox(:right:top, "Vögelsen")
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:vog + 1sw, :mec - 1sw]);
    }

    with link = "point.de.Mechtersen" {
        track(:second :station :removed, wb[:mec - 1sw, :mec + 1sw]);
        marker(:left :de.bf :removed, wb[:mec]);
        slabel(:left :removed, wb[:mec] << 0.1sh + (-1.3sw, 0dt),
            hbox(:right:top, "Mechtersen")
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:mec + 1sw, :bah - 1sw]);
        line_label(:left:n :removed, wb[:mec + 5km], "1151");
    }

    with link = "point.de.Bahlburg" {
        track(:second :station :removed, wb[:bah - 1sw, :bah + 1sw]);
        marker(:left :de.hp :removed, wb[:bah]);
        slabel(:bottom :removed, wb[:bah] << 1.2sh, "Bahlburg");
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:bah + 1sw, :wul - 1sw]);
    }

    with link = "point.de.Wulfsen-Lüneburg" {
        track(:second :station :removed, wb[:wul - 1sw, :wul + 1sw]);
        marker(:left :de.bf :removed, wb[:wul]);
        slabel(:bottom :removed, wb[:wul] << 1.2sh,
            vbox(:center:top, "Wulfsen", span(:light, "(b Lüneburg)"))
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:wul + 1sw, :tan - 1sw]);
    }

    with link = "point.de.Tangendorf" {
        track(:second :station :removed, wb[:tan - 1sw, :tan + 1sw]);
        marker(:left :de.hp :removed, wb[:tan]);
        marker(:left :de.exbf :removed, wb[:tan]);
        slabel(:bottom :removed, wb[:tan] << 1.5sh, "Tangendorf");
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:tan + 1sw, :bra - 1sw]);
    }

    with link = "point.de.Brackel-Lüneburg" {
        track(:second :station :removed, wb[:bra - 1sw, :bra + 1sw]);
        marker(:left :de.hst :removed, wb[:bra]);
        marker(:left :de.exbf :removed, wb[:bra]);
        slabel(:bottom :removed, wb[:bra] << 1.5sh,
            vbox(:center:top, "Brackel ", span(:light, "(b Lüneburg)  "))
        );
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:bra + 1sw, :mar - 1sw]);
        line_label(:right:s :removed, wb[:mar - 1.8km], "1151");
    }

    with link = "point.de.Marxen" {
        track(:second :station :removed, wb[:mar - 1sw, :mar + 1sw]);
        marker(:left :de.bf :removed, wb[:mar]);
        slabel(:bottom :removed, wb[:mar] << 1.2sh, "Marxen");
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:mar + 1sw, :jes.yl]);
    }
}

