# DE 1103.  Fehmarnsund - Orth (Fehmarn)
#
let fo = path("d3.de.1103");

with detail = 3 {
    with link = "point.de.Fehmarnsund" {
        track(:third :station :removed, fo[:feh - 0.5sw, :feh + 0.5sw]);
        marker(:right :de.bf :removed, fo[:feh]);
        slabel(:right :removed :bold, fo[:feh - 0.5sw] >> 2.0sh, "Fehmarnsund");
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:feh + 0.5sw, :wul - 0.5sw]);
    }

    with link = "point.de.Wulfen-Fehmarn" {
        track(:third :station :removed, fo[:wul - 0.5sw, :wul + 0.5sw]);
        marker(:left :de.hp :removed, fo[:wul]);
        slabel(:right :removed, fo[:wul - 0.7sw] >> 3.0dt,
            hbox(:left:base, "Wulfen ", span(:light, "(Fehmarn)"))
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:wul + 0.5sw, :bus - 0.5sw]);
        line_label(:left:s :removed, fo[:wul + 1.4km], "1103 ");
    }

    with link = "point.de.Burgstaaken" {
        track(:third :station :removed, fo[:bus - 0.5sw, :bus + 0.5sw]);
        marker(:right :de.hp :removed, fo[:bus]);
        slabel(:right :removed, fo[:bus] >> 1.5sh + (0dt, 0.4sh),
            "Burgstaaken"
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:bus + 0.5sw, :bur - 0.5sw]);
    }

    with link = "point.de.Burg-Fehmarn" {
        track(:third :station, fo[:bur - 0.5sw, :bur + 0.5sw]);
        marker(:right :de.bf, fo[:bur]);
        slabel(:right, fo[:bur - 0.5sw] >> 1.5sh,
            hbox(:left:base, span(:bold, "Fehmarn-Burg"), "*")
        );
    }

    with link = "line.de.1103" {
        track(:third, fo[:bur + 0.5sw, :bua - 0.2sw]);
        with zoom = :high line_label(:right:sw, fo[:bur + 0.4km], "1103");
    }

    with link = "point.de.Burg-Fehmarn-Abzw" {
        track(:third :station, fo[:bua - 0.2sw, :bua + 0.2sw]);
        marker(:right :de.abzw, fo[:bua]);
    }

    with link = "line.de.1103" {
        track(:third, fo[:bua + 0.2sw, :buw.ys]);

        with layer = -1 track(:third :removed,
                path("d3.de.1103.bur")[:bur.yl, :lan - 0.5sw]
        );
    }

    with link = "point.de.Landkirchen" {
        track(:third :station :removed, fo[:lan - 0.5sw, :lan + 0.5sw]);
        marker(:left :de.bf :removed, fo[:lan]);
        slabel(:left :removed, fo[:lan] << 1.2sh + (1.5sw, 0dt),
            hbox(:right:top, "Landkirchen")
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:lan + 0.5sw, :aje - 0.5sw]);
    }

    with link = "point.de.Alt-Jellingsdorf" {
        track(:third :station :removed, fo[:aje - 0.5sw, :aje + 0.5sw]);
        marker(:left :de.hp :removed, fo[:aje]);
        slabel(:right :removed, fo[:aje - 0.7sw] >> 1.0dt,
            "Alt Jellingsdorf"
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:aje + 0.5sw, :lem - 0.5sw]);
    }

    with link = "point.de.Lemkendorf" {
        track(:third :station :removed, fo[:lem - 0.5sw, :lem + 0.5sw]);
        marker(:right :de.hst :removed, fo[:lem]);
        marker(:right :de.exbf :removed, fo[:lem]);
        slabel(:right :removed, fo[:lem] >> 1.8sh + (0.3sw, 0.5sw),
            "Lemkendorf"
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:lem + 0.5sw, :pet - 0.5sw]);
    }

    with link = "point.de.Petersdorf-Fehmarn" {
        track(:third :station :removed, fo[:pet - 0.5sw, :pet + 0.5sw]);
        marker(:right :de.bf :removed, fo[:pet]);
        slabel(:top :removed, fo[:pet] >> 1.2sh,
            vbox(:center:bottom, "Petersdorf", span(:light, "(Fehmarn)"))
        );
    }

    with link = "line.de.1103" {
        track(:third :removed, fo[:pet + 0.5sw, :ort - 0.5sw]);
        line_label(:right:e :removed, fo[:pet + 1.8km], "1103");
    }

    with link = "point.de.Orth-Fehmarn" {
        track(:third :station :removed, fo[:ort - 0.5sw, :ort]);
        marker(:top :de.bf :removed, fo[:ort]);
        slabel(:bottom :removed, fo[:ort] + (0.3sw, 1.2sh),
            vbox(:center:top, span(:bold, "Orth"), "(Fehmarn)")
        );
    }
}

