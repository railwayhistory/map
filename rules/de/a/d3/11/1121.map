# DE 1121.  Lübeck Hbf - Büchen
#
let lb = path("d3.de.1121");

with detail = 3 {
    # point.de.Lübeck-Hbf        de.1100

    with link = "line.de.1121" {
        track(:first :leftother:rightother :removed,
                lb[:lub + 1sw, :lug - 1sw] << 1.5dt
        );
    }

    # point.de.Lübeck-Hgbf       de.1120
    # point.de.Lübeck-Hgbf-Abzw  de.1120

    with link = "line.de.1121" {
        track(:first :leftother :pax,
                lb[:lua + 0.5sw, :lua.yk] << 1.5dt
            ..  lb[:lua.yyk, :lua.yb] >> 1.5dt
            ..  lb[:jur - 0.51sw, :jur - 0.5sw] >> 1.0dt
        );
    }

    with link = "point.de.Lübeck-Jürgen-Bk" {
        track(:first :station :pax, lb[:jur - 0.5sw, :jur + 0.5sw] >> 1.0dt);
        marker(:left :de.bk :removed, lb[:jur] >> 1.0dt);
        slabel(:left :removed :light, lb[:jur] + (1.0dt, 2.0dt),
            hbox(:right:top, "St Jürgen")
        );
    }

    with link = "line.de.1121" {
        track(:first :pax,
                lb[:jur + 0.5sw, :jur + 0.51sw] >> 1.0dt
            ..  lb[:hoc - 0.51sw, :hoc - 0.5sw]
        );
    }

    with link = "point.de.Lübeck-Hochschulstadtteil" {
        track(:first :station :pax, lb[:hoc - 0.5sw, :hoc + 0.5sw]);
        marker(:right :de.hp :pax, lb[:hoc]);
        slabel(:left :pax, lb[:hoc + 1.1sw] >> 1.5sh,
            vbox(:right:middle, "L.-Hochschul-", "stadtteil")
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:hoc + 0.5sw, :flu - 0.5sw]);
        line_label(:left:w :pax, lb[:hoc + 1.5km], "1121");
    }

    with link = "point.de.Lübeck-Flughafen" {
        track(:first :station :pax, lb[:flu - 0.5sw, :flu + 0.5sw]);
        marker(:right :de.hp :pax, lb[:flu]);
        slabel(:left :pax, lb[:flu + 0.5sw] >> 1.7sh, "L. Flughafen");
    }

    with link = "point.de.Lübeck-Blankensee" {
        track(:first :station :pax, lb[:flu + 0.5sw, :flu + 1.7sw]);
        marker(:right :de.bf :removed, lb[:flu + 1.2sw]);
        slabel(:right :removed, lb[:flu + 1.7sw] << 1.0dt, "L.-Blankensee");
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:flu + 1.7sw, :sar - 0.5sw]);
    }

    with link = "point.de.Sarau" {
        track(:first :station :pax, lb[:sar - 0.5sw, :sar + 0.5sw]);
        marker(:left :de.hp :removed, lb[:sar]);
        slabel(:right :removed, lb[:sar + 0.5sw] << 1.3sh, "Sarau");
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:sar + 0.5sw, :pog - 1sw]);
    }

    with link = "point.de.Pogeez" {
        track(:first :station :pax, lb[:pog - 1sw, :pob - 0.5sw]);
        marker(:left :de.bbf, lb[:pog]);
        slabel(:right, lb[:pog + 0.5sw] << 1.4sh, "Pogeez");
    }

    with link = "point.de.Pogeez-Bk" {
        track(:first :station :pax, lb[:pob - 0.5sw, :pob + 0.5sw]);
        marker(:right :de.bk :removed, lb[:pob]);
        slabel(:left :removed :light, lb[:pob + 0.5sw] >> 1.4sh, "Pogeez");
    }

    with link = "line.de.1121" {
        track(:first :pax,
                lb[:pob + 0.5sw, :rat.aal]
            ..  lb[:rat - 1.1sw, :rat - 1sw] >> 0.5sh
        );
        line_label(:left:w :pax, lb[:pob + 2.4km], "1121");
    }

    with link = "point.de.Ratzeburg" {
        # DE 1121
        track(:first :station :pax, lb[:rat - 1sw, :rat + 1sw] >> 0.5sh);

        # DE 6928
        track(:second :station :removed, lb[:rat - 1sw, :rat + 1sw] << 0.5sh);

        marker(:left :de.inbf :pax, lb[:rat] >> 0.5sh);
        slabel(:left :pax :bold, lb[:rat + 0.5sw] >> 0.5sh >> 2.5dt,
            "Ratzeburg"
        );
    }

    with link = "line.de.1121" {
        track(:first :pax,
                lb[:rat + 1sw, :rat + 1.1sw] >> 0.5sh
            ..  lb[:rat.yh - 500m, :mol - 1sw]
        );
        line_label(:right:e :pax, lb[:rat.yh + 3km], "1121");
    }

    with link = "point.de.Mölln-Lauenburg" {
        # DE 1121
        track(:first :station :pax, lb[:mol - 1sw, :mol + 1sw]);

        # DE A50
        track(:second :station :removed, lb[:mol + 0.5sw, :mol + 1sw] << 1dt);

        marker(:left :de.bf :pax, lb[:mol]);
        slabel(:left :pax, lb[:mol + 0.7sw] >> 1.5dt,
            hbox(:right:base, span(:bold, "Mölln "), "(Lauenburg)")
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:mol + 1sw, :moi - 0.5sw]);
    }

    with link = "point.de.Mölln-Lauenburg-Industriegleis" {
        track(:first :station :pax, lb[:moi - 0.5sw, :moi + 0.5sw]);
        marker(:right :de.awanst, lb[:moi]);
        slabel(:left :light, lb[:moi + 0.6sw] >> 1.4sh,
            "M. (L.) Industriegleis"
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:moi + 0.5sw, :gub - 0.5sw]);
        line_label(:left:w :pax, lb[:moi + 2km], "1121");
    }

    with link = "point.de.Güster-Bahnsteig" {
        track(:first :station :pax, lb[:gub - 0.5sw, :gub + 0.5sw]);
        marker(:left :de.hp :removed, lb[:gub]);
        slabel(:right :removed, lb[:gub] << 1.6sh + (0dt, 0.5sw),
            "Güster Bahnsteig"
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:gub + 0.5sw, :gus - 1sw]);
    }

    with link = "point.de.Güster" {
        track(:first :station :pax, lb[:gus - 1sw, :gus + 1sw]);
        marker(:left :de.bbf, lb[:gus]);
        slabel(:left, lb[:gus + 0.3sw] >> 1.0dt, "Güster");
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:gus + 1sw, :ros - 1sw]);
    }

    with link = "point.de.Roseburg" {
        track(:first :station :pax, lb[:ros - 1sw, :ros + 1sw]);
        marker(:right :de.bf :removed, lb[:ros]);
        slabel(:left :removed, lb[:ros + 0.5sw] >> 1.4sh, "Roseburg");
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:ros + 1sw, :nus - 0.5sw]);
        line_label(:right:e :pax, lb[:nus - 2km], "1121");
    }

    with link = "point.de.Büchen-Nüssau" {
        track(:first :station :pax, lb[:nus - 0.5sw, :nus + 0.5sw]);
        marker(:left :de.hp :removed, lb[:nus]);
        slabel(:right :removed, lb[:nus + 0.6sw] << 1.4sh, "Büchen-Nüssau");
    }

    with link = "line.de.1121" {
        track(:first :pax,
                lb[:nus + 0.5sw, :buc.yyr - 1dt]
            ..  lb[:buc - 0.5sw - 2.2dl, :buc - 0.5sw - 2.1dl] << 1.5dt
        );
    }

    # point.de.Büchen  de.6100
}

