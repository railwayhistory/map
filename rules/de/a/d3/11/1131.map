# DE 1131.  Lübeck Hgbf - Lübeck-Schlutup
#
let ls = path("d3.de.1131");

with detail = 3 {
    # point.de.Strecknitz  de.1122

    with link = "line.de.1131" {
        track(:second,
                ls[:stn + 0.5sw, :stn.ys] << 1.5dt
            ..  ls[:stn.yys, :bra - 0.5sw]
        );
        line_label(:left:e, ls[:bra - 0.6km], "1131");
    }

    with link = "point.de.Brandenbaum" {
        # DE 1131
        track(:second :station, ls[:bra - 0.5sw, :bra + 0.5sw]);

        # DE 1137
        track(:station,
                ls[:bra - 1.1dl, :bra - 1dl]
            --  ls[:bra, :bra + 0.5sw] << 1dt
        );

        marker(:right :de.abzw, ls[:bra]);
        slabel(:right :light, ls[:bra - 0.5sw] >> 1.4sh, "Brandenbaum");
    }
 
    with link = "line.de.1131" {
        track(:second, ls[:bra + 0.5sw, :kir - 0.5sw]);
    }

    with link = "point.de.Lübeck-Kirschenallee" {
        track(:second :station, ls[:kir - 0.5sw, :kir + 0.5sw]);
        marker(:right :de.anst :removed, ls[:kir]);
        slabel(:right :removed :light, ls[:kir - 0.5sw] >> 1.4sh,
            "Kirschenallee"
        );
    }

    with link = "line.de.1131" {
        track(:second, ls[:kir + 0.5sw, :tan - 0.5sw]);
        line_label(:right:n, ls[:tan - 0.5km], "1131");
    }

    with link = "point.de.Lübeck-Schlutuper-Tannen" {
        track(:second :station, ls[:tan - 0.5sw, :tan + 0.5sw]);
        marker(:left :de.anst, ls[:tan]);
        slabel(:right :light, ls[:tan + 0.2sw] >> 0.5dt,
            hbox(:left:top, "Schlutuper Tannen")
        );
    }

    with link = "line.de.1131" {
        track(:second, ls[:tan + 0.5sw, :slu.w31]);
    }

    with link = "point.de.Lübeck-Schlutup" {
        track(:second :station, ls[:slu.w31, :slu + 1sw]);
        marker(:left :de.gbf, ls[:slu]);
        slabel(:right :bold, ls[:slu] + (1sw, 0.5sh), "L.-Schlutup");
    }
}

