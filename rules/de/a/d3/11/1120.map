# DE 1120.  Lübeck Hbf - Hamburg Hbf
#
let lh = path("d3.de.1120");

with detail = 3 {
    # point.de.Lübeck-Hbf  de.1100

    with link = "line.de.1120" {
        track(:first :double:leftother:rightother :cat:ac15 :pax,
                lh[:lub + 1sw, :lug - 1sw]
        );
    }

    with link = "point.de.Lübeck-Hgbf" {
        # DE 1120
        track(:first :double:station :cat:ac15 :pax,
                lh[:lug - 1sw, :lug + 1sw]
        );

        # DE 1121
        track(:first :station :removed, 
                lh[:lug - 1sw, :lug + 1sw] << 1.5dt
        );

        # DE 1122
        track(:first :station :cat:ac15 :pax, 
                lh[:lug - 1sw, :lug + 1sw] << 2.5dt
        );
        track(:first :station :removed, 
                lh[:lug - 1sw, :lug + 1sw] << 3.5dt
        );

        marker(:left :de.gbf :cat:ac15, lh[:lug] << 3.5dt);
        slabel(:left :cat:ac15, lh[:lug + 0.5sw] >> 2.5dt, "Lübeck Hgbf");
    }

    with link = "point.de.Lübeck-Hgbf-Abzw" {
        # DE 1120
        track(:first :double:station :cat:ac15 :pax,
                lh[:lug + 1sw, :lua + 0.5sw]
        );

        # DE 1121
        track(:first :station :removed, 
                lh[:lug + 1sw, :lua] << 1.5dt
        );
        track(:first :station :pax, 
                lh[:lua - 1.01dl, :lua - 1dl] << 0.5dt
            --  lh[:lua, :lua + 0.5sw] << 1.5dt
        );

        # DE 1122
        track(:first :station :cat:ac15 :pax, 
                lh[:lug + 1sw, :lua] << 2.5dt
        );
        track(:first :station :pax, 
                lh[:lua, :lua + 0.5sw] << 2.5dt
        );
        track(:first :station :removed, 
                lh[:lug + 1sw, :lua + 0.5sw] << 3.5dt
        );

        marker(:right :de.abzw :cat:ac15, lh[:lua] >> 0.5dt);
        slabel(:left :cat:ac15 :light, lh[:lua + 0.5sw] >> 0.5dt >> 1.6sh,
            "Lübeck Hgbf Abzw"
        );
    }

    with link = "line.de.1120" {
        track(:first :double:leftother :cat:ac15 :pax,
                lh[:lua + 0.5sw, :lua.i]
        );
        track(:first :double :cat:ac15 :pax, lh[:lua.i, :gea - 0.5sw])
    }

    with link = "point.de.Lübeck-Genin-Abzw" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:gea - 0.5sw, :gea + 0.5sw]
        );
        marker(:right :de.abzw :removed, lh[:gea] >> 0.5dt);
        slabel(:left :removed :light, lh[:gea + 0.7sw] >> 0.5dt >> 1sh,
            "Genin Abzw"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:gea + 0.5sw, :nie - 1sw]);
    }

    with link = "point.de.Lübeck-Niendorf" {
        track(:first :double :cat:ac15 :pax, lh[:nie - 1sw, :nie + 1sw]);
        marker(:right :de.bf :removed, lh[:nie] >> 0.5dt);
        slabel(:left :removed, lh[:nie + 1.2sw] >> 1sh,
            "L.-Niendorf"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:nie + 1sw, :wes - 0.5sw]);
        line_label(:left:n :cat:ac15 :pax, lh[:nie + 2.5km] << 0.5dt, "1120");
    }

    with link = "point.de.Wesenberg-Holst" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:wes - 0.5sw, :wes + 0.5sw]
        );
        marker(:left :de.bk :removed, lh[:wes] << 0.5dt);
        slabel(:left :removed :light, lh[:wes] << 0.5dt << 1.0sh + (1sw, 0dt),
            hbox(:right:top, "Wesenberg")
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:wes + 0.5sw, :rei - 1sw]);
    }

    with link = "point.de.Reinfeld-Holst" {
        track(:first :double :cat:ac15 :pax, lh[:rei - 1sw, :rei + 1sw]);
        marker(:right :de.bf :cat:ac15 :pax, lh[:rei] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lh[:rei + 0.5sw] >> 1.4sh,
            hbox(:right:base, "Reinfeld ", span(:light, "(Holst)"))
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:rei + 1sw, :ste - 0.5sw]);
    }

    with link = "point.de.Steinfeld" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:ste - 0.5sw, :ste + 0.5sw]
        );
        marker(:left :de.bk :removed, lh[:ste] << 0.5dt);
        slabel(:bottom :removed :light, lh[:ste] << 0.5dt << 1.2sh,
            "Steinfeld"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:ste + 0.5sw, :old - 1sw]);
        line_label(:left:n :cat:ac15 :pax, lh[:old - 2.3km] << 0.5dt, " 1120");
    }

    with link = "point.de.Bad-Oldesloe" {
        # DE 1043
        track(:first :station :pax,
                lh[:old - 1sw, :old + 0.5sw] >> 1sh >> 0.5dt
        );
        track(:first :station :removed,
                lh[:old + 0.5sw, :old + 1sw] >> 1sh >> 0.5dt
        );
        track(:first :station :removed,
                lh[:old - 1sw, :old + 1sw] >> 1sh >> 1.5dt
        );

        # DE 1120
        track(:first :station:double :cat:ac15 :pax,
                lh[:old - 1sw, :old + 1sw]
        );

        marker(:right :de.inbf :cat:ac15 :pax, lh[:old] >> 0.5dt);
        slabel(:left :cat:ac15 :pax :bold,
            lh[:old + 0.5sw] >> 2.0dt >> 1.4sh,
            "Bad Oldesloe"
        );
    }

    with link = "line.de.1120" {
        track(:first :double:rightother :cat:ac15 :pax :casing,
                lh[:old + 1sw, :old.ys]
        );
        track(:first :double :cat:ac15 :pax, lh[:old.ys, :kup - 1sw]);
    }

    with link = "point.de.Kupfermühle" {
        track(:first :double :cat:ac15 :pax, lh[:kup - 1sw, :kup + 1sw]);
        marker(:right :de.hp :cat:ac15 :pax, lh[:kup] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lh[:kup + 0.5sw] >> 0.5dt >> 1.2sh,
            "Kupfermühle"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:kup + 1sw, :tre - 0.5sw]);
    }

    with link = "point.de.Tremsbüttel" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:tre - 0.5sw, :tre + 0.5sw]
        );
        marker(:left :de.bk :removed, lh[:tre] << 0.5dt);
        slabel(:right :removed :light, lh[:tre + 0.3sw] << 0.5dt << 2.0sh,
            "Tremsbüttel"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:tre + 0.5sw, :bar - 1sw]);
        line_label(:right:se :cat:ac15 :pax, lh[:tre + 1.4km] >> 0.5dt, "1120");
    }

    with link = "point.de.Bargteheide" {
        track(:first :double :cat:ac15 :pax, lh[:bar - 1sw, :bar + 1sw]);
        marker(:right :de.bf :cat:ac15 :pax, lh[:bar] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lh[:bar + 0.6sw] >> 0.5dt >> 1.4sh,
            "Bargteheide"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:bar + 1sw, :del - 0.5sw]);
        line_label(:left:w :cat:ac15 :pax, lh[:bar + 1.7km] << 0.5dt, "1120");
    }

    with link = "point.de.Delingsdorf" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:del - 0.5sw, :del + 0.5sw]
        );
        marker(:right :de.bk :removed, lh[:del] >> 0.5dt);
        slabel(:left :removed :light, lh[:del + 0.7sw] >> 0.5dt >> 1.4sh,
            "Delingsdorf"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:del + 0.5sw, :gar - 0.5sw]);
    }

    with link = "point.de.Ahrensburg-Gartenholz" {
        track(:first :double :cat:ac15 :pax, lh[:gar - 0.5sw, :gar + 0.5sw]);
        marker(:left :de.hp :cat:ac15 :pax, lh[:gar] << 0.5dt);
        slabel(:right :cat:ac15 :pax, lh[:gar + 0.6sw] << 0.5dt << 1.6sh,
            "A.-Gartenholz"
        );
    }

    with link = "point.de.Ahrensburg-Nord" {
        track(:first :double :cat:ac15 :pax, lh[:gar + 0.5sw, :gar + 1.7sw]);
        marker(:left :de.awanst :cat:ac15, lh[:gar + 1.2sw] << 0.5dt);
        slabel(:left :cat:ac15 :light, lh[:gar + 1.9sw] >> 2.0dt,
            "A. Nord"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:gar + 1.7sw, :ahr - 1sw]);
    }

    with link = "point.de.Ahrensburg" {
        track(:first :double :cat:ac15 :pax, lh[:ahr - 1sw, :ahr + 1sw]);
        marker(:right :de.bf :cat:ac15 :pax, lh[:ahr] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lh[:ahr] >> 1.6sh + (-0.2sw, 0dt),
            "Ahrensburg"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:ahr + 1sw, :gahr - 0.5sw]);
    }

    with link = "point.de.Ahrensburg-LGr" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:gahr - 0.5sw, :mei - 0.5sw]
        );
        marker(:right :de.lgr :cat:ac15, lh[:gahr] >> 0.5dt);
        marker(:left :de.lgr :cat:ac15, lh[:gahr] << 0.5dt);
        slabel(:right :italic :cat:ac15, lh[:gahr] << 0.5dt << 1.4sh,
            hbox(:left:middle, 
                vbox(:center:middle, " SH ", hrule(), " HH ")
            )
        );
    }

    with link = "point.de.Meiendorf" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:mei - 0.5sw, :mei + 0.5sw]
        );
        marker(:right :de.bk :removed, lh[:mei] >> 0.5dt);
        slabel(:left :removed :light, lh[:mei + 0.8sw] >> 0.5dt >> 1.4sh,
            "Meiendorf"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:mei + 0.5sw, :rab - 1sw]);
    }

    with link = "point.de.Hamburg-Rahlstedt-Bbf" {
        track(:first :double :cat:ac15 :pax, lh[:rab - 1sw, :rab + 1sw]);
        marker(:right :de.bft :cat:ac15 :pax, lh[:rab] >> 0.5dt);
        slabel(:right :cat:ac15 :pax :light, lh[:rab - 0.8sw] << 1.0dt,
            hbox(:left:top, "H.-Rahlstedt Bbf")
        );
    }

    with link = "point.de.Hamburg-Rahlstedt" {
        track(:first :double :cat:ac15 :pax, lh[:rab + 1sw, :rah + 1sw]);
        marker(:left :de.bf :cat:ac15 :pax, lh[:rah] << 0.5dt);
        slabel(:right :cat:ac15 :pax, lh[:rah + 0.3sw] << 0.5dt << 2.0sh,
            "H.-Rahlstedt"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:rah + 1sw, :wab - 0.5sw]);
    }

    with link = "point.de.Wandsbek-Ost-Bk" {
        track(:first :double:station :cat:ac15 :pax, lh[:wab - 0.5sw, :wab]);
        marker(:left :de.bk :removed, lh[:wab] << 0.5dt);
        slabel(:right :removed :light, lh[:wab - 0.8sw] << 0.5dt << 1.0sh,
            hbox(:left:top, "Wandsbek Ost Bk")
        );
    }

    with link = "point.de.Hamburg-Tonndorf" {
        track(:first :double:station :cat:ac15 :pax, lh[:wab, :ton + 1sw]);
        marker(:right :de.hp :cat:ac15 :pax, lh[:ton] >> 0.5dt);
        slabel(:left :cat:ac15 :pax, lh[:ton + 0.3sw] >> 0.5dt >> 1.0sh,
            "H.-Tonndorf*"
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:ton + 1sw, :waf - 1sw]);
        line_label(:left:nw :cat:ac15 :pax, lh[:ton + 1km] << 0.5dt, "1120");
    }

    with link = "point.de.Hamburg-Wandsbek-Wf" {
        # DE 1120
        track(:first :double:station :cat:ac15 :pax,
                lh[:waf - 1sw, :waf + 1sw]
        );

        # DE 1242
        track(:first :station :cat:ac15 :pax,
                lh[:waf - 0.5sw - 1.1dl, :waf - 0.5sw - 1dl] << 0.5dt
            --  lh[:waf - 0.5sw, :waf + 1sw] << 1.5dt
        );

        marker(:left :de.bft :cat:ac15 :pax, lh[:waf] << 1.5dt);
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:waf + 1sw, :wan - 1sw]);
    }

    with link = "point.de.Hamburg-Wandsbek" {
        # DE 1120
        track(:first :double:station :cat:ac15 :pax,
                lh[:wan - 1sw, :wan + 1sw]
        );

        # DE 1242
        track(:first :station :cat:ac15 :pax,
                lh[:wan - 1sw, :wan + 1sw] << 1.5dt
        );

        marker(:right :de.bf :cat:ac15 :pax, lh[:wan] >> 0.5dt);
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:wan + 1sw, :has - 1sw]);
    }

    with link = "point.de.Hamburg-Hasselbrook" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:has - 1sw, :has + 1sw]
        );
        marker(:left :de.hp :cat:ac15 :pax, lh[:has] << 0.5dt);
    }

    with link = "line.de.1120" {
        track(:first :double:rightother :cat:ac15 :pax,
                lh[:has + 1sw, :btu - 0.5sw]
        );
    }

    with link = "point.de.Hamburg-Berliner-Tor-Üst" {
        track(:first :double:station :cat:ac15 :pax,
                lh[:btu - 0.5sw, :btu + 0.5sw]
        );
        marker(:left :de.uest :cat:ac15, lh[:btu] << 0.5dt);
    }

    with link = "line.de.1120" {
        track(:first :double:rightother:leftother :cat:ac15 :pax,
                lh[:btu - 0.1dl, :btu]
            ..  lh[:ham.yo, :ham.yo + 0.1dl] >> 1dt
        );
        track(:first :double:rightother:leftother :cat:ac15 :pax,
                lh[:ham.yo, :ham - 1sw] >> 1dt
        );
    }
}

