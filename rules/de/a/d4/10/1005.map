# DE 1005.  Flensburg - Flensburg Friedenswerg
#
let ff = path("d3.de.1005");

with detail = 4 {
    with railway = :first :cat:ac15 :pax {
        with link = "line.de.1005" {
            track(:lor, ff[:fle + 0.5sw, :fle.yk] >> 0.5mo);
            track(
                    ff[:fle.yk - 0.1dl, :fle.yk] >> 0.5mo
                ..  ff[:fls - 500m, :fls - 499m]
            );
            line_label(:left:w, ff[:fls - 500m] << 0.5mt, "1005");
            track(ff[:fls - 500m, :fls]);
        }

        with link = "point.de.Flensburg-Süd" {
            marker(:right :de.awanst, ff[:fls] >> 0.5mt);
            station(:right :left_align, ff[:fls] + (0.4sw, 1sh),
                "F. Süd", "1005: 1,69"
            );
        }

        with link = "line.de.1005" {
            track(ff[:fls, :fls + 1.2km]);
            line_label(:left:n, ff[:fls + 1.2km] << 0.5mt, "1005");
            track(:casing,
                    ff[:fls + 1.2km, :fri.yyf]
                ..  ff[:fri.yf, :fri.yf + 0.1dl] >> 1.5dt
            );
            track(:lor, ff[:fri.yf, :fri - 300m] >> 1.5dt);
        }
    }
}

