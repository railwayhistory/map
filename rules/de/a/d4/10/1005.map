# DE 1005.  Flensburg (ausschl) - Flensburg Friedensweg (ausschl)
#
let ff = path("d4.de.1005");

with detail = 4 {
    # point.de.Flensburg  de.1040

    with link = "line.de.1005" {
        track(:first :cat:ac15 :pax :flip, ff[:fle.f, :fls.a - 0.3sw]);

        line_box(:left:nw :cat:ac15 :pax, ff[:fls.a - 0.1km], (0dt, -1.5dt),
            vbox(:center:bottom,
                span(:bold, "1005"),
                hrule(),
                hbox(:center:top,
                    vbox(:right:top, " ∗ ", " ≲ "),
                    vbox(:left:top, "1927 DRG ", "1996 ")
                )
            )
        );
                
    }

    with link = "point.de.Flensburg-Süd" {
        track(:first:station :cat:ac15 :pax, ff[:fls.a - 0.3sw, :fls.f]);
        with layer = -4 track(:station :closed, ff[:fls.a, :fls.f] >> 1dt);
        with layer = -4 track(:station,
                ff[:fls + 0.9dl, :fls + 1dl]
            --  ff[:fls + 2dl, :fls + 2.1dl] >> 1dt
        );
        marker(:de.awanst :cat:ac15, ff[:fls] >> 1dt);
        label(:medium :cat:ac15, ff[:fls] + (0.2sw, -1.5sw),
            hbox(:right:base,
                span(:xsmall, "1,69 · "),
                "F. Süd"
            )
        );
    }

    with link = "line.de.1005" {
        with layer = 2 track(:first :cat:ac15 :pax,
                ff[:fls + 1.2km, :fls.f]
        );
        with layer = 2 track(:first :cat:ac15 :pax :flip,
                ff[:fls + 1.2km, :fri.aa]
            ..  ff[:ffle, :fri.a] >> 1.5dt
        );
        with layer = 1 casing(:first :cat:ac15 :pax :flip,
                ff[:fls + 2km, :fls + 3km]
        );
    }


    # point.de.Flensburg-Friedensweg  de.1000
}

