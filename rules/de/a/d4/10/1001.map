# DE 1001.  Flensburg Weiche - Lindholm
#
let fl = path("d3.de.1001");

with detail = 4 {
    with railway = :second :closed {
        with link = "line.de.1001" {
            track(fl[:flw.yyl, :han - 2.8km]);
            line_badge(fl[:han - 2.8km], "1001");
            track(fl[:han - 2.8km, :han - 0.5sw]);
        }

        with link = "point.de.Handewitt", railway = :station {
            track(fl[:han - 0.5sw, :han + 0.5sw]);
            marker(:left :de.hst, fl[:han] << 0.5st);
            marker(:left :de.exbf, fl[:han] << 0.5st);
            station(:bottom, fl[:han] << 1.7sh,
                "Handewitt",
                hbox(:center:base, "5,74 ", span(:former, "(172,74)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:han + 0.5sw, :una - 0.5sw]);
        }

        with link = "point.de.Unaften", railway = :station {
            track(fl[:una - 0.5sw, :una + 0.5sw]);
            marker(:right :de.hp, fl[:una] >> 0.5st);
            station(:top, fl[:una] >> 0.5dt >> 1.3sh,
                "Unaften",
                hbox(:center:base, "7,74 ", span(:former, "(174,74)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:una + 0.5sw, :wal - 0.5sw]);
        }

        with link = "point.de.Wallsbüll", railway = :station {
            track(fl[:wal - 0.5sw, :wal + 0.5sw]);
            marker(:left :de.bf, fl[:wal] << 0.5st);
            station(:bottom, fl[:wal] << 1.4sh + (8bp, 0bp),
                vbox(:center:top,
                    span(:former, "Meyn-Wallsbüll"),
                    "Wallsbüll"
                ),
                hbox(:center:base, "11,43 ", span(:former, "(178,44)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:wal + 0.5sw, :saf - 0.5sw]);
        }

        with link = "point.de.Schafflund", railway = :station {
            track(fl[:saf - 0.5sw, :saf + 0.5sw]);
            marker(:left :de.hst, fl[:saf] << 0.5st);
            marker(:left :de.exbf, fl[:saf] << 0.5st);
        }
        station(:bottom, fl[:saf] << 1.8sh,
            "Schafflund",
            hbox(:center:base, "15,56 ", span(:former, "(182,57)"))
        );

        with link = "line.de.1001" {
            track(fl[:saf + 0.5sw, :saf + 3km]);
            line_badge(fl[:saf + 3km], "1001");
            track(fl[:saf + 3km, :spr - 0.5sw]);
        }

        with link = "point.de.Sprakebüll", railway = :station {
            track(fl[:spr - 0.5sw, :spr + 0.5sw]);
            marker(:right :de.hst, fl[:spr] >> 0.5st);
            marker(:right :de.exbf, fl[:spr] >> 0.5st);
            station(:top, fl[:spr] >> 1.7sh,
                "Sprakebüll",
                hbox(:center:base, "21,89 ", span(:former, "(188,90)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:spr + 0.5sw, :ach - 0.5sw]);
        }

        with link = "point.de.Achtrup", railway = :station {
            track(fl[:ach - 0.5sw, :ach + 0.5sw]);
            marker(:left :de.hst, fl[:ach] << 0.5st);
            marker(:left :de.exbf, fl[:ach] << 0.5st);
            station(:bottom :removed, fl[:ach] << 1.7sh,
                "Achtrup",
                hbox(:center:base, "25,44 ", span(:former, "(192,44)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:ach + 0.5sw, :lec - 0.5sw]);
        }

        with link = "point.de.Leck", railway = :station {
            track(fl[:lec - 0.5sw, :lec + 0.5sw]);
            marker(:left :de.bf, fl[:lec] << 0.5st);
            station(:bottom, fl[:lec] << 1.3sh,
                "Leck",
                hbox(:center:base, "28,79 ", span(:former, "(195,79)"))
            );
        }

        with link = "line.de.1001" {
            track(fl[:lec + 0.5sw, :lec + 3.5km]);
            line_badge(fl[:lec + 3.5km], "1001");
            track(
                    fl[:lec + 3.5km, :lin.yyf - 1.5dt]
                ..  fl[:lin.yf, :lin.yf + 0.1dl] >> 1.5dt
            );
        }
    }
}

