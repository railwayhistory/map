# DE 1002.  Flensburg Weiche - Flensburg Hafen Ost
#
let fh = path("d3.de.1002");

with detail = 4 {
    with railway = :second :removed {
        with link = "line.de.1002" {
            with layer = -1 track(:ror, fh[:flw + 400m, :wil] << 1.5mo);
        }

        # point.de.Flensburg-Wilhelminental  de.1040

        with link = "line.de.1002" {
            track(
                    fh[:wil.ya - 0.1dl, :wil.ya] << 1.5mo
                ..  fh[:wil.yya, :fla - 0.6km]
            );
            line_label(:left:e, fh[:fla - 0.6km] << 0.5mt, (0dt, -0.15dt),
                "1002"
            );
            track(fh[:fla - 0.6km, :fla - 0.5sw]);
        }

        with link = "point.de.Flensburg-Alter-Bf", railway = :station {
            track(fh[:fla - 0.5sw, :fla + 0.5sw]);
            marker(:right :de.gbf, fh[:fla] >> 0.5mt);
            marker(:right :de.exbf, fh[:fla] >> 0.5mt);
            station(:right :left_align, fh[:fla - 0.3sw] >> 1.7sh,
                "F. Alter Bf",
                hbox(:left:base, "1002: 177,31 ", span(:former, "(171,79)"))
            );
        }
    }

    with railway = :side :nopax :removed {
        with link = "line.de.1002" {
            track(fh[:fla + 0.5sw, :f - 0.3km]);
            line_label(:right:w, fh[:f - 0.3km] >> 0.5lt, (0dt, 0.1dt), "1002");
            track(fh[:f - 0.3km, :f]);
        }
    }
}

