# DE 1010.  Schleswig - Schleswig Altstadt
#
let sl = path("d4.de.1010");

with detail = [4, 5] {
    # point.de.Schleswig  de.1040

    with link = "line.de.1010" {
        track(:second :removed, sl[:a, :sla.a]);

        guide(:linenum :removed,
                sl[:sla.a - 400m] >> 0.8dt
            --  sl[:sla.a - 400m] >> 3.0dt
        );
        label(:linenum :removed, sl[:sla.a - 400m] >> 3.0dt,
            hbox(:center:top, "1010")
        );
    }

    with link = "point.de.Gottorf" {
        track(:second :station :gone, sl[:got - 1sw, :got + 1sw]);
        marker(:de.zst :right :gone, sl[:got]);
        label(sl[:got] >> 1.2sh + (.5sw, 0sh),
            hbox(:center :top, span(:medium :gone, "Gottorf"))
        );
    }

    with link = "point.de.Schleihalle" {
        marker(:de.zst :left :gone, sl[:slh]);
        label(sl[:slh - .6sw] << 1sh - (1dt, -0.5dt),
            hbox(:right :base, span(:medium :gone, "Schleihalle"))
        );
    }

    with link = "point.de.Domziegelhof" {
        marker(:de.zst :left :gone, sl[:dom]);
        label(sl[:dom - 0.8sw] << 0.8sh,
            hbox(:right :bottom, span(:medium :gone, "Domziegelhof"))
        );
    }

    with link = "point.de.Schleswig-Altstadt" {
        # Gl. 1
        track(:station :removed,
                sl[:sla.a + 99m, :sla.a + 100m]
            --  sl[:sla.a + 100m + 1dl, :sla - .6sw] << 1dt
        );

        # Gl. 2
        track(:second:station :removed,
                sl[:sla.a, :sla.f]
        );
       
        # Gl. 3
        track(:station :removed,
                sl[:sla.a + 100m + 3.6dl, :sla.a + 100m + 3.7dl]
            ..  sl[:sla.a + 100m + 4.7dl, :sla.f] >> 1dt
        );

        # Gl. 5
        track(:station :removed,
                sl[:sla.a + 100m + 1.9dl, :sla.a + 100m + 2dl]
            ..  sl[:sla.a + 100m + 4dl, :sla.f] >> 2dt
        );

        marker(:de.bf :removed :left, sl[:sla]);
        station(:top :right_align :removed,
            sl[:sla] << 1.3sh + (.2sw, 0sw),
            span(:medium :bold :removed, "Schleswig Altstadt"),
            "1010: 136,02"
        );
    }

    with link = "line.de.1010" {
        label(:small :removed, sl[:got] + (-0.7km, -0.9km),
            hbox(:right:bottom :frame, vbox(:center:top,
                span(:bold, "1010"),
                hrule(),
                " ∗ 1880 AKE ",
                " ‡ 1950  † 1992 "
            ))
        );
    }
}

