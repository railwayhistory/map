# DE 1141.  Schwarzenbek - Bad Oldesloe
#
let so = path("d4.de.1141");

with detail = [4, 5] {
    # point.de.Schwarzenbek  de.6100


    with link = "line.de.1141" {
        with layer = -1 track(:second :removed,
                so[:swa.gg, :hav - 1sw]
        );
        with layer = 1 line_badge(:removed, so[:hav - 1.5km], "1141");
    }


    with link = "point.de.Havekost" {
        track(:second:station :removed, so[:hav - 1sw, :hav + 1sw]);
        marker(:de.hp :removed :left, so[:hav]);
        station(:left :removed, so[:hav - 0.3sw] << 1.6sh,
            "Havekost", "253,04"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:hav + 1sw, :moh - 1sw]);
    }


    with link = "point.de.Möhnsen" {
        track(:second:station :removed, so[:moh - 1sw, :moh + 1sw]);
        marker(:de.hst :removed :right, so[:moh]);
        with layer = -1 marker(:de.bf :gone :right, so[:moh]);
        station(:right :removed, so[:moh - 0.4sw] >> 1.6sh,
            "Möhnsen", "255,54"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:moh + 1sw, :dah - 1sw]);
        with layer = 1 line_badge(:removed, so[:moh + 1.9km], "1141");
    }


    with link = "point.de.Dahmker" {
        track(:second:station :removed, so[:dah - 1sw, :dah + 1sw]);
        marker(:de.hp :removed :left, so[:dah]);
        station(:left :removed, so[:dah - 0.3sw] << 1.8sh,
            "Dahmker", "259,28"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:dah + 1sw, :ham - 1sw]);
    }


    with link = "point.de.Hamfelde" {
        track(:second:station :removed, so[:ham - 1sw, :ham + 1sw]);
        marker(:de.hp :removed :left, so[:ham]);
        station(:left :removed, so[:ham - 0.3sw] << 1.6sh,
            "Hamfelde", "260,62"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:ham + 1sw, :vor - 1sw]);
    }


    with link = "point.de.Vorburg-Trittau" {
        track(:second:station :removed, so[:vor - 1sw, :vor + 1sw]);
        marker(:de.hp :removed :left, so[:vor]);
        station(:left :removed, so[:vor - 0.3sw] << 2.0sh,
            "Vorburg-Trittau", "261,91"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:vor + 1sw, :tri - 1sw]);
    }


    with link = "point.de.Trittau" {
        track(:second:station :removed, so[:tri - 1sw, :tri + 1sw]);
        marker(:de.bf :removed :left, so[:tri]);
        station(:right :left_align :removed, so[:tri - 0.3sw] >> 1.5dt,
            span(:bold, "Trittau"), " 1141: 263,69"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:tri + 1sw, :gro - 1sw]);
    }


    with link = "point.de.Grönwohld" {
        track(:second:station :removed, so[:gro - 1sw, :gro + 1sw]);
        marker(:de.hp :removed :left, so[:gro]);
        station(:left :removed, so[:gro - 0.4sw] << 1.5sh,
            "Gröhnwohld", "266,02"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:gro + 1sw, :dwe - 1sw]);
        with layer = 1 line_badge(:removed, so[:gro + 1.5km], "1141");
    }


    with link = "point.de.Dwerkathen" {
        track(:second:station :removed, so[:dwe - 1sw, :dwe + 1sw]);
        marker(:de.hst :removed :right, so[:dwe]);
        with layer = -1 marker(:de.bf :gone :right, so[:dwe]);
        station(:right :removed, so[:dwe - 0.6sw] >> 1.4sh,
            vbox(:center:bottom,
                span(:gone, "Lütjensee"),
                span(:removed, "Dwerkathen")
            ),
            "268,76"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:dwe + 1sw, :spr - 1sw]);
    }


    with link = "point.de.Sprenge" {
        track(:second:station :removed, so[:spr - 1sw, :spr + 1sw]);
        marker(:de.hp :removed :left, so[:spr]);
        station(:left :removed, so[:spr - 0.4sw] << 1.4sh,
            "Sprenge", "271,98"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:spr + 1sw, :mol - 1sw]);
    }


    with link = "point.de.Mollhagen" {
        track(:second:station :removed, so[:mol - 1sw, :mol + 1sw]);
        marker(:de.bf :removed :left, so[:mol]);
        station(:left :removed, so[:mol - 0.3sw] << 1.6sh,
            "Mollhagen", "273,69"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:mol + 1sw, :bar - 1sw]);
    }


    with link = "point.de.Barkhorst" {
        track(:second:station :removed, so[:bar - 1sw, :bar + 1sw]);
        marker(:de.hst :removed :left, so[:bar]);
        with layer = -1 marker(:de.bf :gone :left, so[:bar]);
        station(:left :removed, so[:bar - 0.3sw] << 1.6sh,
            "Barkhorst", "277,62"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed, so[:bar + 1sw, :roh - 1sw]);
        with layer = 1 line_badge(:removed, so[:bar + 1.35km], "1141");
    }


    with link = "point.de.Rohlfshagen" {
        track(:second:station :removed, so[:roh - 1sw, :roh + 1sw]);
        marker(:de.hst :removed :left, so[:roh]);
        with layer = -1 marker(:de.bf :gone :left, so[:roh]);
        station(:right :removed, so[:roh - 0.3sw] >> 1.5dt,
            "Rohlfshagen", "280,32"
        );
    }


    with link = "line.de.1141" {
        with layer = 2 track(:second :removed, so[:roh + 1sw, :rup - 1sw]);
        with layer = 1 casing(:second, so[:rup.x - 200m, :rup.x + 200m]);
    }


    with link = "point.de.Rümpel" {
        track(:second:station :removed, so[:rup - 1sw, :rup + 1sw]);
        marker(:de.hp :removed :left, so[:rup]);
        station(:left :removed, so[:rup - 0.3sw] << 1.5sh,
            "Rümpel", "282,14"
        );
    }


    with link = "line.de.1141" {
        track(:second :removed,
                so[:rup + 1sw, :old.ys - 500m]
            ..  so[:old.ys, :old.f] << 1.5dt
        );
    }
}

