with detail = 1 {
    with link = "line.de.1200" {
        let nw = path("d1.de.1200");

        track(:first :pax, nw[:nie, :kla]);
        track(:first:double :pax, nw[:kla, :mor]);
        track(:first :pax, nw[:mor, :wes]);
    }

    with link = "line.de.1201" {
        track(:second :pax, path("d1.de.1201")[:nie.yt, :sug]);
    }

    with link = "line.de.1204" {
        track(:second :pax, path("d1.de.1204")[:hor, :ton]);
    }

    with link = "line.de.1205" {
        track(:second :pax, path("d1.de.1205")[:ton, :peo]);
    }

    with link = "line.de.1206" {
        track(:second :pax, path("d1.de.1206")[:weh, :bus]);
    }

    with link = "line.de.1207" {
        track(:second :removed, path("d1.de.1207")[:wed.yk, :kar]);
    }

    with link = "line.de.1214" {
        track(:second, path("d1.de.1214")[:wil.yb, :bru]);
    }

    with link = "line.de.1215" {
        let sb = path("d1.de.1215");

        track(:second, sb[:smi.yb, :con]);
        track(:second :removed, sb[:con, :bru]);
    }

    with link = "line.de.1216" {
        track(:second :closed, path("d1.de.1216")[:smi.yb, :mar]);
    }

    with link = "line.de.1217" {
        track(:second :removed, path("d1.de.1217")[:maw, :frd]);
    }

    with link = "line.de.1218" {
        track(:station, path("d1.de.1218")[:als.y, :lag]);
    }

    with link = "line.de.1220" {
        let ak = path("d1.de.1220");
        
        with railway = :first :double :cat:ac15 :pax {
            track(ak[:alt, :kie]);

            with zoom = :high, layer = 1 {
                with link = "point.de.Neumünster" {
                    slabel(:right :xsmall, ak[:neu] + (2pt, 1.5pt),
                        "Neumünster"
                    );
                }

                with link = "point.de.Kiel-Hbf" {
                    slabel(:se :xsmall:bold,
                        ak[:kie.ks] + (-4.5km, -1km),
                        "Kiel"
                    );
                }
            }
        }
    }

    with link = "line.de.1221" {
        track(:second :removed, path("d1.de.1221")[:wri.yi, :itz.yw]);
    }

    with link = "line.de.1224" {
        track(:first :double :rail:rc12 :pax,
                path("d1.de.1224")[:alt.yb, :bla]
        );
    }

    with link = "line.de.1226" {
        let bw = path("d1.de.1226");

        track(:first :rail:rc12 :pax, bw[:bla.yw, :riu]);
        track(:first :double :rail:rc12 :pax, bw[:riu, :rou]);
        track(:first :rail:rc12 :pax, bw[:rou, :wed]);
    }

    with link = "line.de.1234" {
        let er = path("d1.de.1234");

        track(:first :cat:ac15, er[:eid.yr, :bar.yo]);
        track(:first :double :cat:ac15, er[:has.x, :rot.ye]);
    }

    with link = "line.de.1239" {
        track(:first :double :rail:rc12 :pax,
                path("d1.de.1239")[:ohl.ya, :air]
        );
    }

    with link = "line.de.1241" {
        track(:first :double :rail:rc12 :pax,
                path("d1.de.1241")[:has.x, :pop]
        );
    }

    with link = "line.de.1247" {
        track(:second :removed, path("d1.de.1247")[:ohl.ya, :och]);
    }

    with link = "line.de.1251" {
        track(:second :removed, path("d1.de.1251")[:ffin, :fin]);
    }

    with link = "line.de.1253" {
        let sd = path("d1.de.1253");

        track(:second :double :cat:ac15, sd[:sel.y, :kaw]);
        track(:second :cat:ac15, sd[:kaw, :hbm.yh]);
        track(:second :double :cat:ac15, sd[:hbm.yw, :dra]);
    }

    with link = "line.de.1255" {
        track(:first :double :cat:ac15, path("d1.de.1255")[:wik.ys, :sud]);
    }

    with link = "line.de.1260" {
        track(:second :tourist, path("d1.de.1260")[:hes.ys, :sta.yh]);
    }

    with link = "line.de.1270" {
        track(:first :double :rail:rc12 :pax,
                path("d1.de.1270")[:ham.yl, :alt]
        );
    }

    with link = "line.de.1280" {
        track(:first :double :cat:ac15, path("d1.de.1280")[:buc, :mas.yb]);
    }

    with link = "line.de.1290" {
        with layer = 2 track(:second, path("d1.de.1290")[:wik.yp, :peu]);
    }

    with link = "line.de.1296" {
        track(:second :double :cat:ac15, path("d1.de.1296")[:way, :muh]);
    }
}

