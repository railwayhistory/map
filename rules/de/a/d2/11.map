# DE 1100.  Lübeck Hbf – Puttgarden.
with detail = 2 {
    let lp = path("d2.de.1100");

    with link = "line.de.1100" {
        track(:first :double :cat:ac15 :pax, lp[:lub, :wal]);
        track(:first :double :pax, lp[:wal, :swr]);
    }

    with link = "point.de.Bad-Schwartau" {
        track(:first :double:station :pax, lp[:swr, :swr.ye]);
        statdot(:pax, lp[:swr]);
        slabel(:left :pax, lp[:swr] << 1.2dt,
            vbox(:center:bottom, "Bad ", "Schwartau")
        );
    }

    with link = "line.de.1100" {
        track(:first :pax, lp[:swr.ye, :neg.nn]);
        track(:first, lp[:neg.nn, :gbr]);

        line_label(:right:w :pax, lp[:swr + 12.5km], "1100");
        line_label(:right:w :pax, lp[:neg + 15km], "1100");
    }

    with link = "point.de.Großenbrode" {
        statdot(:open, lp[:gbr]);
        label(:open, lp[:gbr] >> 2.0dt,
            hbox(:left:middle :small, "Großenbrode")
        );
    }

    with link = "line.de.1100" {
        track(:first, lp[:gbr, :put]);
    }

    with link = "point.de.Burg-Fehmarn-West" {
        statdot(:open, lp[:buw]);
    }

    with link = "line.de.1100" {
        line_label(:right:w :pax, lp[:buw + 4.5km], "1100");
    }

    with link = "point.de.Puttgarden" {
        statdot(:open, lp[:put]);
        slabel(:top, lp[:put] - (0dt, 1.0dt), span(:bold, "Puttgarden"));
    }
}


# DE 1103.  Fehmarnsund - Orth (Fehmarn).
with detail = 2 {
    let fo = path("d2.de.1103");

    with link = "point.de.Fehmarnsund" {
        statdot(:removed, fo[:feh]);
        label(fo[:feh] - (2.2dt, 0.2dt),
            hbox(:right:middle :small :removed, "Fehmarnsund")
        );
    }

    with link = "line.de.1103" {
        with layer = -2 track(:third:removed, fo[:feh, :bur]);
        line_label(:right:nw :removed, fo[:bur - 2.05km], "1103");
    }

    with link = "point.de.Burg-Fehmarn" {
        statdot(:open, fo[:bur]);
        slabel(:right:open, fo[:bur] + (1.5dt, -0.5dt),
            hbox(:left:base, "Burg ", span(:light, "(Fehmarn)"))
        );
    }

    with link = "line.de.1103" {
        track(:second, fo[:bur, :buw.ys]);
        with layer = -2 track(:third:removed, fo[:buw.yo, :ort]);

        line_label(:right:s :removed, fo[:ort - 4.5km], "1103");
    }

    with link = "point.de.Orth-Fehmarn" {
        with layer = -1 marker(:statdot :removed, fo[:ort]);
        label(fo[:ort] + (-1.5dt, -0.2dt),
            hbox(:right:middle :small :removed,
                hbox(:left:base, "Orth ", span(:light, "(Fehmarn)"))
            )
        );
    }
}


# DE 1110.  Eutin – Lübeck Hbf.
with detail = 2 {
    let el = path("d2.de.1110");

    with link = "line.de.1110" {
        track(:first :pax, el[:eut, :pon]);
        line_label(:right:e :pax, el[:eut.y + 4.8km], "1110");
    }

    with link = "point.de.Pönitz-Holst" {
        track(:first :station :pax, el[:pon, :pon.y]);
        statdot(:pax, el[:pon]);
        label(:pax, el[:pon] - (1.5dt, 0.5dt),
            hbox(:right:bottom :small,
                hbox(:right:base, "Pönitz ", span(:light, "(Holst)"))
            )
        );
    }

    with link = "line.de.1110" {
        track(:first :pax, el[:pon.y, :swr.ye]);
        line_label(:right:e :pax, el[:swr - 9.0km], "1110");
    }
}


# DE 1111.  Pönitz (Holst) – Ahrensbök.
with detail = 2 {
    let po = path("d2.de.1111");

    with link = "line.de.1111" {
        track(:second :removed, po[:pon.y, :ahr]);
        line_label(:right:se :removed, po[:ahr - 2.2km], "1111");
    }

    with link = "point.de.Ahrensbök" {
        statdot(:removed, po[:ahr]);
        label(po[:ahr] - (1.5dt, 0.2dt),
            hbox(:right:middle :small :removed, "Ahrensbök")
        );
    }
}


# DE 1112.  Malente-Gremsmühlen – Lütjenburg
with detail = 2 {
    let ml = path("d2.de.1112");

    with link = "line.de.1112" {
        track(:second :closed, ml[:mal, :lut]);

        with layer = 1 line_badge(
            :closed, ml[:mal + 10km] @ -20 << 0.5dt, "1112"
        );
    }

    with link = "point.de.Lütjenburg" {
        with layer = 1 marker(:statdot :closed, ml[:lut]);
        slabel(:right :closed, ml[:lut] >> 1.5dt, "Lütjenburg");
    }
}


# DE 1113.  Schwartau-Waldhalle (Wr) – Lübeck-Travemünde Strand.
with detail = 2 {
    let wt = path("d2.de.1113");

    with link = "line.de.1113" {
        track(:first :double :cat:ac15 :pax, wt[:wal.y, :dan]);
    }

    with link = "point.de.Lübeck-Dänischburg" {
        track(:first :double :cat:ac15 :pax, wt[:dan, :dan.yh]);
        statdot(:cat:ac15 :pax, wt[:dan]);
    }

    with link = "line.de.1113" {
        track(:first :double :cat:ac15 :pax, wt[:dan.yh, :kuc]);
    }

    with link = "point.de.Lübeck-Kücknitz" {
        statdot(:cat:ac15, wt[:kuc]);
    }

    with link = "line.de.1113" {
        track(:first :cat:ac15 :pax, wt[:kuc, :trh]);
        line_label(:left:e :cat:ac15 :pax, wt[:trh - 2.5km], "1113");
    }

    with link = "point.de.Lübeck-Travemünde-Hafen" {
        track(:first :station :cat:ac15 :pax, wt[:trh, :trh.yn]);
        statdot(:cat:ac15 :pax, wt[:trh]);
    }

    with link = "line.de.1113" {
        track(:first :cat:ac15 :pax, wt[:trh.yn, :trs]);
    }

    with link = "point.de.Lübeck-Travemünde-Strand" {
        statdot(:cat:ac15 :pax, wt[:trs]);
        label(:cat:ac15 :pax, wt[:trs] + (1.8dt, -1.3dt),
            hbox(:left:top :small, "L.-Travemünde")
        );
    }
}


# DE 1114.  Lübeck-Travemünde Hafen – Niendorf (Ostsee).
with detail = 2 {
    let tn = path("d2.de.1114");

    with link = "line.de.1114" {
        track(:second :removed, tn[:trh.yn, :nie]);
        line_label(:right:w :removed, tn[:trh + 2.5km], "1114");
    }

    with link = "point.de.Niendorf-Ostsee" {
        with layer = 1 marker(:statdot :removed, tn[:nie]);
        slabel(:right :removed, tn[:nie] - (4dt, 1.5dt),
            hbox(:right:base, "Niendorf ", span(:light, "(Ostsee)"))
        );
    }
}


# DE 1115.  Lübeck-Dänischburg – Lübeck-Herrenwyk.
with detail = 2 {
    with link = "line.de.1115" {
        track(:station, path("d2.de.1115")[:dan.yh, :her]);
    }
}


# DE 1117.  Lübeck-Kücknitz – Lübeck Skandinavienkai
#
with detail = 2 {
    let ks = path("d2.de.1117");

    with link = "line.de.1117" {
        track(:second :cat:ac15, ks[:kua.y, :ska]);
    }

    with link = "point.de.Lübeck-Skandinavienkai" {
        statdot(:cat:ac15, ks[:ska]);
        with zoom = :high {
            slabel(:right :cat:ac15,
                ks[:ska] + (-1dt, 1dt),
                vbox(:left:top, "L.-Skandina-", "    vienkai")
            );
        }
    }
}


# DE 1120.  Lübeck Hbf – Hamburg Hbf.
with detail = 2 {
    let lh = path("d2.de.1120");

    with link = "point.de.Lübeck-Hbf" {
        statdot(:cat:ac15 :pax, lh[:lub]);
        label(:cat:ac15 :pax, lh[:lub + 2.8km] >> 2.5dt,
            hbox(:right:bottom :medium:bold, "Lübeck")
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:lub, :old.yn]);
        line_label(:right:s :double :cat:ac15 :pax, lh[:old - 10km], "1120");
    }

    with link = "point.de.Bad-Oldesloe" {
        track(:first :double:station :cat:ac15 :pax, lh[:old.yn, :old.ys]);
        statdot(:cat:ac15 :pax, lh[:old]);
        label(:cat:ac15 :pax, lh[:old] << 2.0dt,
            hbox(:left:middle :small:bold, "Bad Oldesloe")
        );
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:old.ys, :rah]);
        line_label(:left:w :double :cat:ac15 :pax, lh[:old + 15.0km], "1120");
    }

    with link = "point.de.Hamburg-Rahlstedt" {
        statdot(:cat:ac15 :pax, lh[:rah]);
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:rah, :wan]);
        line_label(:left:nw :double :cat:ac15 :pax, lh[:rah + 3km], "1120");
    }

    with link = "point.de.Hamburg-Wandsbek" {
        statdot(:cat:ac15 :pax, lh[:wan]);
    }

    with link = "line.de.1120" {
        track(:first :double :cat:ac15 :pax, lh[:rah, :ham.yo]);
    }
}


# DE 1121.  Lübeck Hbf - Büchen
with detail = 2 {
    let lb = path("d2.de.1121");

    with link = "line.de.1121" {
        track(:first :pax, lb[:lua.yb, :rat.yo]);

        with layer = 1 line_badge(:pax, lb[:rat - 11.0km], "1121");
        with layer = 1 line_badge(:pax, lb[:mol + 11.3km], "1121");
    }

    with link = "point.de.Ratzeburg" {
        track(:first :station :pax, lb[:rat.yo, :rat.yh]);
        statdot(:pax, lb[:rat]);
        label(:pax, lb[:rat] - (2.0dt, 0dt),
            hbox(:right:middle :small, "Ratzeburg")
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:rat.yh, :mol]);
    }

    with link = "point.de.Mölln-Lauenburg" {
        track(:first :station :pax, lb[:mol, :mol.yh]);
        statdot(:pax, lb[:mol]);
        label(:pax, lb[:mol] - (2.0dt, 0dt),
            hbox(:right:middle :small, "Mölln ", span(:light, "(Lauenb.)"))
        );
    }

    with link = "line.de.1121" {
        track(:first :pax, lb[:mol.yh, :buc.yl]);
    }
}


# DE 1122.  Lübeck Hbf – Strasburg (Uckerm).
with detail = 2 {
    let ls = path("d2.de.a.1122");

    with link = "line.de.1122" {
        track(:first :pax, ls[:lua.yk, :heg]);
    }
}


# DE 1131.  Lübeck Hgbf – Lübeck-Schlutup.
#
with detail = 2 {
    let ls = path("d2.de.1131");

    with link = "line.de.1131" {
        track(:second, ls[:stn.ys, :slu]);
        line_label(:right:n, ls[:slu - 2km], " 1131");
    }

    with link = "point.de.Lübeck-Schlutup" {
        statdot(:open, ls[:slu]);
        label(ls[:slu] + (1.8dt, 0dt),
            hbox(:left:middle :small, "L.-Schlutup")
        );
    }
}


# DE 1137.  Brandenbaum - Lübeck Konstinbahnhof.
with detail = 2 {
    let bk = path("d2.de.1137");

    with link = "line.de.1137" {
        track(:station, bk[:bra.yk, :kon]);
    }

    with link = "point.de.Lübeck-Konstinbahnhof" {
        statdot(:open, bk[:kon]);
    }
}


# DE 1141.  Schwarzenbek - Bad Oldesloe.
with detail = 2 {
    let so = path("d2.de.1141");

    with link = "line.de.1141" {
        track(:second :removed, so[:swa.yo, :tri]);
        line_label(:right:w :removed, so[:swa + 7.0km], "1141");
    }

    with link = "point.de.Trittau" {
        track(:second :station :removed, so[:tri, :tri.yb]);
        statdot(:removed, so[:tri]);
        slabel(:right :removed, so[:tri] + (1.5dt, 0.5dt), "Trittau");
    }

    with link = "line.de.1141" {
        track(:second :removed, so[:tri.yb, :old.ys]);
        line_label(:right:w :removed, so[:tri + 10km], "1141");
    }
}


# DE 1150.  Lüneburg - Büchen
#
with detail = 2 {
    let lb = path("d2.de.1150");

    with link = "line.de.1150" {
        track(:first :pax, lb[:lun.yb, :ech]);
        line_label(:left:se :pax, lb[:ech - 5.0km], "1150");
    }

    with link = "point.de.Echem" {
        statdot(:pax, lb[:ech]);
        slabel(:left :pax, lb[:ech - 1dt] << 1.2dt, "Echem");
    }

    with link = "line.de.1150" {
        track(:first :pax, lb[:ech, :buc]);
        line_label(:left:e :pax, lb[:buc - 6.0km], "1150");
    }
}


# DE 1151.  Wittenberge – Buchholz (Nordheide).
with detail = 2 {
    let wb = path("d2.de.a.1151");

    with link = "line.de.1151" {
        track(:first :removed, wb[:dog, :dan]);
        line_label(:right:s :removed, wb[:dog + 5.5km], "1151");
    }

    with link = "point.de.Dannenberg-Ost" {
        track(:second :station :pax, wb[:dan, :dan.yl]);
        statdot(:pax, wb[:dan]);
        label(:pax, wb[:dan + 1.5dt] << 1.5dt,
            hbox(:left:top :small, "Dannenberg")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:dan.yl, :dah]);
        line_label(:right:s :pax, wb[:dah - 12.5km], "1151");
    }

    with link = "point.de.Dahlenburg" {
        statdot(:pax, wb[:dah]);
        label(:pax, wb[:dah - 2dt] << 0.8dt,
            hbox(:right:top :small, "Dahlenburg")
        );
    }

    with link = "line.de.1151" {
        track(:first :pax, wb[:dah, :lun.yw]);
        line_label(:right:s :pax, wb[:dah + 10.0km], "1151");
    }

    with link = "line.de.1151" {
        track(:second :removed, wb[:lun.yj, :jes.yl]);
        line_label(:left:n :removed, wb[:wul - 7.0km], "1151");
    }
}

