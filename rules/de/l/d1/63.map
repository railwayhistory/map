with detail = 1 {
    with link = "line.de.6340" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.l.6340")[:hal.ym, :wei]
        );
    }

    with link = "line.de.6343" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.l.6343")[:hal.ya, :blt]
        );
    }

    with link = "line.de.6344" {
        let hv = path("d1.de.6344");

        track(:first :double :cat:ac15 :pax, hv[:hal.yt, :tro]);
        track(:first :pax, hv[:tro, :san.yk]);
        track(:first :pax, hv[:san.yg, :asc.yg]);
        track(:first :double :pax, hv[:asc.yg, :fro]);
        track(:first :pax, hv[:fro, :weg.yt]);
        track(:first :double :pax, hv[:weg.yt, :has]);
        track(:first :pax, hv[:has, :heu.yw]);
        track(:first :removed, hv[:heu.yw, :stg]);
    }

    with link = "line.de.6345" {
        let hg = path("d1.de.l.6345");

        track(:first :cat:ac15 :pax, hg[:hal.yp, :pei]);
        track(:first :double :cat:ac15 :pax, hg[:pei, :dob]);
    }

    with link = "line.de.6355" {
        let an = path("d1.de.6355");

        track(:first :cat:ac15 :pax, an[:awo, :zer]);
        track(:first :double :cat:ac15 :pax, an[:zer, :nie]);
    }

    with link = "line.de.6356" {
        let mn = path("d1.de.6356");

        track(:first :cat:ac15 :pax, mn[:mer.yb, :bun.ys]);
        track(:first :cat:ac15, mn[:bun.ys, :awo]);
    }

    with link = "line.de.6357" {
        track(:second :removed, path("d1.de.6357")[:eli.ym, :mil.y]);
    }

    with link = "line.de.6360" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6360") [:moc.yt, :eil.yl]
        );
    }

    with link = "line.de.6361" {
        let lc = path("d1.de.6361");

        track(:first :double :removed, lc[:lei.yc, :sto.ye]);
        track(:first :double :cat:ac15 :pax, lc[:sto.ye, :cox]);
    }

    with link = "line.de.6362" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.l.6362")[:cox, :leh]
        );
    }

    with link = "line.de.6363" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.l.6363")[:lei.yb, :osa]
        );
    }

    with link = "point.de.Leipzig-Hbf" {
        label(path("d1.de.l.6363")[:lei] + (9.5km, -2.2km),
            hbox(:left:bottom :small :bold :cat:ac15 :pax, "Leipzig")
        );
    }

    with link = "line.de.6366" {
        track(:first :pax, path("d1.de.6366")[:pau, :gei.yl]);
    }

    with link = "line.de.6367" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6367")[:lei.yb, :gko.yl]
        );
    }

    with link = "line.de.6371" {
        let lh = path("d1.de.6371");

        track(:first :removed, lh[:lee, :sto.ye]);
        track(:first :double :cat:ac15, lh[:sto.ye, :hei.ys]);
    }

    with link = "line.de.6377" {
        track(:first :double :cat:ac15 :pax, path("d1.de.6377")[:leb, :cox]);
    }

    with link = "line.de.6379" {
        track(:first :cat:ac15, path("d1.de.6379")[:pla.yg, :gas.yp]);
    }

    with link = "line.de.6380" {
        track(:first :double :cat:ac15, path("d1.de.6380")[:leu.yw, :wah.yr]);
    }

    with link = "line.de.6382" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6382")[:wah.yr, :goh.yw]
        );
    }

    with link = "line.de.6383" {
        let lp = path("d1.de.l.6383");

        track(:first :double :cat:ac15 :pax, lp[:leu.yp, :pla.yg]);
        track(:first :double :pax, lp[:pla.yg, :zei]);
        track(:first :pax, lp[:zei, :cro]);
    }

    with link = "line.de.6385" {
        let nc = path("d1.de.l.6385");

        track(:first :double :cat:ac15 :pax, nc[:nki.yg, :bor]);
        track(:first :cat:ac15 :pax, nc[:bor, :gei]);
        track(:first :double :pax, nc[:gei, :nar]);
    }


    with link = "line.de.6386" {
        track(:first :pax, path("d1.de.l.6386")[:bor.yd, :gri]);
    }

    with link = "line.de.6389" {
        track(:second :removed, path("d1.de.6389")[:lau.ya, :hol.yl]);
    }

    with link = "line.de.6393" {
        track(:first :pax, path("d1.de.6393")[:ils, :vie.a]);
    }

    with link = "line.de.6394" {
        track(:first :double :cat:ac15 :pax,
                path("d1.de.6394")[:pla.y, :amm.yp]
        );
    }

    with link = "line.de.6396" {
        track(:first :double :cat:ac15 :pax, path("d1.de.6396")[:leb, :lei]);
    }
}

