with detail = 1 {
    with link = "line.de.1500" {
        track(:first :double :cat:ac15 :pax, path("d1.de.g.1500")[:old, :des]);
    }

    with link = "line.de.1501" {
        with layer = -1 track(:second :removed,
            path("d1.de.1501")[:old, :bra.a]
        );
    }

    with link = "line.de.1502" {
        let ol = path("d1.de.1502");

        track(:first :double :pax, ol[:old, :ost]);
        track(:first :pax, ol[:ost, :bra]);
        track(:first :double :pax, ol[:bra, :ach]);
        track(:first :pax, ol[:ach, :eve]);
    }

    with link = "line.de.1503" {
        let hb = path("d1.de.1503");

        track(:first :cat:ac15 :pax, hb[:hud, :gol]);
        track(:first :double :cat:ac15 :pax, hb[:gol, :rod]);
        track(:first :cat:ac15 :pax, hb[:rod, :nor]);
        track(:first, hb[:nor, :noh]);
        with layer = -1 track(:first :removed, hb[:noh, :blx]);
    }

    with link = "line.de.1520" {
        track(:first :double :cat:ac15 :pax, path("d1.de.1520")[:old, :lee.f]);
        track(:first :cat:ac15 :pax, path("d1.de.1520")[:old.f, :lee.f]);
    }

    with link = "line.de.1521" {
        let co = path("d1.de.1521");

        track(:second, co[:clo.a, :fri]);
        with layer = -1 track(:second :removed, co[:fri, :sed]);
        track(:second, co[:sed, :och]);
    }

    with link = "line.de.1522" {
        track(:first :double :pax, path("d1.de.1522")[:old.f, :wil]);
    }

    with link = "line.de.1530" {
        with layer = -1 track(:second :removed,
            path("d1.de.1530")[:var.a, :rod.f]
        );
    }

    with link = "line.de.1532" {
        let vn = path("d1.de.1532");

        with layer = -1 track(:second :removed, vn[:var.f, :boc.f]);
        with layer = -1 track(:second :removed, vn[:boc.a, :nbu]);
    }

    with link = "line.de.1533" {
        with layer = -1 track(:second :removed,
            path("d1.de.1533")[:bor, :bra]
        );
    }

    with link = "line.de.1534" {
        let eo = path("d1.de.1534");

        with layer = -1 track(:second :removed, eo[:ell.a, :wes]);
        with layer = -1 track(:second :closed, eo[:wes, :och]);
    }

    with link = "line.de.1540" {
        track(:second :pax, path("d2.de.1540")[:san.f, :jev]);
    }

    with link = "line.de.1541" {
        with layer = -1 track(:second :removed,
            path("d1.de.1541")[:jev.a, :har]
        );
    }

    with link = "line.de.1542" {
        track(:second :narrow :pax, path("d1.de.1542")[:wan, :wes]);
    }

    with link = "line.de.1543" {
        track(:second :narrow :pax, path("d1.de.1543")[:sal.f, :wes]);
    }

    with link = "line.de.1545" {
        with layer = -1 track(:second :narrow :removed,
            path("d1.de.1545")[:wan, :ost]
        );
    }

    with link = "line.de.1552" {
        with layer = -2 track(:second, path("d1.de.1552")[:flo, :win]);
    }

    with link = "line.de.1553" {
        track(:third, path("d1.de.1553")[:oel, :mob]);
    }

    with link = "line.de.1554" {
        track(:second, path("d1.de.1554")[:oel.yj, :jwp]);
    }

    with link = "line.de.1560" {
        track(:second :pax, path("d1.de.1560")[:del.a, :hes.a]);
    }

    with link = "line.de.1561" {
        with layer = -1 track(:second :removed,
            path("d1.de.1561")[:ahl.f, :vec.a]
        );
    }

    with link = "line.de.1562" {
        with layer = -1 track(:second :removed,
            path("d1.de.1562")[:hol, :dam]
        );
    }

    with link = "line.de.1563" {
        with layer = -1 track(:second :removed,
            path("d1.de.1563")[:des.yl, :lem]
        );
    }

    with link = "line.de.1564" {
        with layer = -1 track(:second :removed,
            path("d1.de.1564")[:loh, :din]
        );
    }

    with link = "line.de.1570" {
        let ej = path("d1.de.1570");

        track(:first :cat:ac15 :pax, ej[:ems, :nor.f]);
        track(:second, ej[:nor.f, :dor]);
        with layer = -1 track(:second :removed, ej[:dor, :ese]);
        track(:second :pax, ej[:ese, :jev]);
    }

    with link = "line.de.1572" {
        track(:second :cat:ac15 :pax, path("d1.de.1572")[:emr.f, :aus]);
    }

    with link = "line.de.1573" {
        with layer = -2 track(:second, path("d1.de.1573")[:abe.f, :aur]);
    }

    with link = "line.de.1574" {
        track(:second :cat:ac15 :pax, path("d1.de.1574")[:nor.f, :nom]);
    }

    with link = "line.de.1575" {
        with layer = -2 track(:second, path("d1.de.1575")[:ihr.a, :weg]);
    }

    with link = "line.de.1576" {
        track(:second, path("d1.de.1576")[:emd.a, :evw]);
    }

    with link = "line.de.1577" {
        track(:station, path("d1.de.1577")[:ems, :sud]);
    }
}

