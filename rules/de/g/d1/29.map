with detail = 1 {
    with link = "line.de.2931" {
        let he = path("d1.de.g.2931");

        track(:first :double :cat:ac15 :pax, he[:rhe, :ems]);
    }

    with link = "line.de.2950" {
        with layer = -1 track(:second :pax,
            path("d1.de.g.2950")[:dis, :hrn.a]
        );
    }

    with link = "line.de.2981" {
        track(:first :cat:ac15 :pax, path("d2.de.2981")[:kir.b, :kir.a]);
    }

    with link = "line.de.2982" {
        let bb = path("d1.de.2982");

        with layer = -1 track(:second :pax, bb[:bun.f, :rah.f]);
        with layer = -4 track(:second :removed, bb[:rah.f, :bar]);
        with layer = -2 track(:second, bb[:bar, :sul]);
        with layer = -4 track(:second :removed, bb[:sul, :bas]);
    }

    with link = "line.de.2992" {
        let lr = path("d1.de.2992");

        track(:first :double :cat:ac15 :pax, lr[:loh.f, :osn]);
        track(:first :double :cat:ac15 :pax, lr[:osn, :rhe.a]);
    }
}

