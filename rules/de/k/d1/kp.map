with detail = 1 {
    with link = "line.de.KD0" {
        let de = path("d1.de.kd0");

        with layer = -4 track(:third :removed, de[:dis, :zul.x]);
        with layer = -4 track(:third :removed, de[:zul.y, :emb]);
    }

    with link = "line.de.KD1" {
        track(:third :removed, path("d1.de.kd1")[:dis, :gur]);
    }

    with link = "line.de.KE0" {
        track(:third :removed, path("d1.de.ke0")[:dur, :ind]);
    }

    with link = "line.de.KG0" {
        track(:third :removed, path("d1.de.kg0")[:als, :gei.a]);
    }

    with link = "line.de.KK1" {
        with layer = -4 track(:third :removed,
            path("d1.de.kk1")[:suc.a, :gre.y]
        );
    }

    with link = "line.de.KN0" {
        let kn = path("d1.de.kn0");

        with layer = -4 track(:third :removed, kn[:kem.ff, :str.x]);
        with layer = -4 track(:third :removed, kn[:str, :kev.a]);
    }

    with link = "line.de.KR0" {
        let dk = path("d1.de.kr0");

        with layer = -4 track(:third :double :removed, dk[:duh, :dhh]);
        track(:tram :double, dk[:dhh, :kre.y]);
    }

    with link = "line.de.KR1" {
        with layer = -2 track(:tram :double,
            path("d1.de.kr1")[:oka.f, :not]
        );
    }

    with link = "line.de.KR2" {
        with layer = -4 track(:third :removed,
            path("d1.de.kr2")[:for.f, :uer]
        );
    }

    with link = "line.de.KU0" {
        track(:third :removed, path("d1.de.ku0")[:erf, :euk]);
    }

    with link = "line.de.KU1" {
        let ma = path("d1.de.ku1");

        with layer = -4 track(:third :removed, ma[:mua, :zul.yy]);
        with layer = -4 track(:third :removed, ma[:zus.f, :arl.f]);
    }

    with link = "line.de.KV0" {
        let kf = path("d1.de.kv0");

        with layer = -4 track(:third :removed, kf[:kos, :gur]);
        with layer = -2 track(:tram :double, kf[:gur, :lin]);
    }
}

