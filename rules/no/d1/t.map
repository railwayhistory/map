with detail = 1 {
    with link = "line.no.TE" {
        with layer = -1 track(:second :removed, path("d1.no.te")[:jar, :eid]);
    }

    with link = "line.no.TH" {
        let th = path("d1.no.th");

        with layer = -4 track(:second :removed :cat:ac6k6 :narrow,
                th[:tha, :baa]
        );
        with layer = -1 track(:second :cat:ac6k6 :narrow, th[:baa, :lok]);
    }

    with link = "line.no.TN" {
        let tn = path("d1.no.tn");

        track(:second :cat:ac15, tn[:tin, :not]);
        track(:second :cat:ac15 :pax, tn[:not, :hju.x]);
    }

    with link = "line.no.TR" {
        let tr = path("d1.no.tr");

        track(:station, tr[:nel.y, :sim]);
        track(:second :removed, tr[:sim, :tre]);
    }
}

