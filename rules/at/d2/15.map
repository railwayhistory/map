# AT 150.  Wien Hbf - Staatsgrenze nächst Spielfeld-Straß
with detail = 2 {
    let ws = path("d2.at.150");

    with railway = :first :double :cat:ac15 :pax {
        with link = "point.at.Wien-Hbf" {
            statdot(ws[:wie]);
            slabel(:left :large:bold,
                ws[:wie] + (-4.5km, -4.6km) + (0dt, -1dt),
                "Wien"
            );
        }

        with link = "line.at.150" {
            track( ws[:wie, :mei]);
        }

        with link = "point.at.Wien-Meidling" {
            track(ws[:mei, :mei.yh]);
            statdot(ws[:mei]);
        }

        with link = "line.at.150" {
            track(ws[:mei.yh, :lie]);
            line_label(:right:e, ws[:lie - 1.5km], "150");
        }

        with link = "point.at.Wien-Liesing" {
            track(ws[:lie, :lie.yk]);
            statdot(ws[:lie.yk]);
        }

        with link = "line.at.150" {
            track(ws[:lie.yk, :mod]);
        }

        with link = "point.at.Mödling" {
            track(ws[:mod, :mod.yl]);
            statdot( ws[:mod]);
            slabel(:left, ws[:mod] + (-2.0dt, 1.0dt), "Mödling");
        }

        with link = "line.at.150" {
            track(ws[:mod.yl, :leo]);
            line_label(:right:se, ws[:mod.yl + 6km], "150");
        }

        with link = "point.at.Leobersdorf" {
            track(ws[:leo, :leo.yw]);
            statdot(ws[:leo]);
            slabel(:left, ws[:leo] + (-2.0dt, 1.0dt),
                vbox(:right:bottom, "Leobers- ", "dorf")
            );
        }

        with link = "line.at.150" {
            track(ws[:leo.yw, :fel.yb]);
        }

        with link = "point.at.Felixdorf" {
            track(ws[:fel.yb, :fel]);
            statdot(ws[:fel] << 0.3dt);
            slabel(:right, ws[:fel] + (0.6km, 0dt) + (1.5dt, 0.5dt),
                "Felixdorf"
            );
        }

        with link = "line.at.150" {
            track(ws[:fel, :wne.ye]);
        }

        with link = "point.at.Wiener-Neustadt-Hbf" {
            track(ws[:wne.ye, :wne.yp]);
            statdot(ws[:wne]);
            slabel(:right, ws[:wne] + (1.5dt, 0.8dt),
                hbox(:left:base, span(:bold, "Wiener Neustadt "), "Hbf")
            );
        }

        with link = "line.at.150" {
            track(ws[:wne.yp, :nki]);
            line_label(:left:nw, ws[:wne.yp + 6km], "150");
        }

        with link = "point.at.Neunkirchen-NÖ" {
            statdot(ws[:nki]);
            slabel(:left, ws[:nki] + (-0.5dt, -1.3dt),
                hbox(:right:base, "Neunkirchen ", span(:light, "N.Ö."))
            );
        }

        with link = "line.at.150" {
            track(ws[:nki, :glo]);
        }

        with link = "point.at.Gloggnitz" {
            statdot(ws[:glo]);
            slabel(:right, ws[:glo] + (-2dt, 0.8dt),
                hbox(:left:top, "Gloggnitz")
            );
        }

        with link = "line.at.150" {
            track(ws[:glo, :pay]);
        }

        with link = "point.at.Payerbach-Reichenau" {
            track(ws[:pay, :pay.yw]);
            statdot(ws[:pay]);
            slabel(:right, ws[:pay] + (-0.5dt, -0.5dt),
                vbox(:left:bottom, "Payerbach-", "Reichenau")
            );
        }

        with link = "line.at.150" {
            track(ws[:pay.yw, :mur]);
            line_label(:left:w, ws[:mur - 13km], "150");
        }

        with link = "point.at.Mürzzuschlag" {
            track(ws[:mur, :mur.yn]);
            statdot(ws[:mur]);
            slabel(:left, ws[:mur] + (-0.8km, 0dt) + (-1.3dt, 0.3dt),
                "Mürzzuschlag"
            );
        }

        with link = "line.at.150" {
            track(ws[:mur.yn, :kap]);
            line_label(:right:s, ws[:kap - 6km], (-0.8dt, 0dt), "150");
        }

        with link = "point.at.Kapfenberg" {
            track(ws[:kap, :kap.ya]);
            statdot(ws[:kap]);
            slabel(:right, ws[:kap] + (1.0dt, -0.3dt),
                hbox(:left:top, "Kapfenberg")
            );
        }

        with link = "line.at.150" {
            track(ws[:kap.ya, :bru]);
        }

        with link = "point.at.Bruck-Mur" {
            track(ws[:bru, :bru.ym]);
            statdot(ws[:bru]);
            slabel(:right, ws[:bru] + (1.5dt, 0dt),
                span(:bold, "Bruck an der Mur")
            );
        }

        with link = "line.at.150" {
            track(ws[:bru.ym, :ube.y]);
            track(ws[:ube.y, :mix.ye]);
            line_label(:left:w, ws[:ube.y + 2.8km], "150");
        }

        with link = "point.at.Mixnitz-Bärenschützklamm" {
            track(ws[:mix.ye, :mix]);
            statdot(ws[:mix]);
            slabel(:right, ws[:mix] + (1.5dt, 0.8dt),
                "Mixnitz-Bärenschützklamm"
            );
        }

        with link = "line.at.150" {
            track(ws[:mix, :peg]);
        }

        with link = "point.at.Peggau-Deutschfeistritz" {
            track(ws[:peg, :peg.yu]);
            statdot(ws[:peg]);
            slabel(:right, ws[:peg] + (1.5dt, 0dt),
                vbox(:left:middle, "Peggau-", "Deutschfeistritz")
            );
        }

        with link = "line.at.150" {
            track(ws[:peg.yu, :gra]);
            line_label(:left:sw, ws[:gra - 6.5km], "150");
        }

        with link = "point.at.Graz-Hbf" {
            track(ws[:gra, :gra.ys]);
            statdot(ws[:gra]);
            slabel(:right :medium :bold, ws[:gra] + (1.8dt, 1.8dt), "Graz");
        }

        with link = "point.at.Graz-Don-Bosco" {
            track(ws[:gra.ys, :gdb]);
            statdot(ws[:gdb]);
        }

        with link = "line.at.150" {
            track(ws[:gdb, :fel.yk]);
            track(ws[:fel.yk, :fel.yk + 5.5km]);
            line_label(:left:w, ws[:fel.yk + 5.5km], "150");
            track(ws[:fel.yk + 5.5km, :wer]);
        }

        with link = "point.at.Werndorf" {
            track(ws[:wer, :wer.yk]);
            statdot(ws[:wer]);
            slabel(:right, ws[:wer] + (1.5dt, 1dt), "Werndorf");
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.at.150" {
            track(
                    ws[:wer.yk, :wer.xk] << 0.5md >> 0.5mt
                ..  ws[:wer.zk, :leb]
            );
            line_label(:left:w, ws[:wer.yk + 5.5km], (0dt, -0.3dt), "150");

            track(:double, ws[:leb, :lei.yp]);
        }

        with link = "point.at.Leibnitz" {
            track(:double :cat:ac15 :pax, ws[:lei.yp, :lei]);
            statdot(ws[:lei]);
            slabel(:right, ws[:lei] + (1.5dt, 1.0dt), "Leibnitz");
        }

        with link = "line.at.150" {
            track(ws[:lei, :spi]);
            line_label(:left:w, ws[:spi - 6.3km], "150");
        }

        with link = "point.at.Spielfeld-Straß" {
            statdot(ws[:spi]);
            slabel(:left, ws[:spi] + (-1.8dt, 1.8dt),
                "Spielfeld-Straß"
            );
        }

        with link = "line.at.150" {
            track(ws[:spi, :spg]);
        }
    }
}


# AT 151.  Wien Liesing - Kaltenleutgraben
with detail = 2 {
    let lk = path("d2.at.151");

    with link = "line.at.151" {
        track(:second :museum, lk[:lie.yk, :wal]);
        line_label(:left:n :museum, lk[:wal - 1.5km], "151");
    }

    with link = "point.at.Waldmühle" {
        statdot(:museum, lk[:wal]);
        slabel(:left :museum, lk[:wal] + (0.5dt, -1.5dt), "Waldmühle");
    }

    with link = "line.at.151" {
        track(:second :removed, lk[:wal, :kal]);
    }

    with link = "point.at.Kaltenleutgeben" {
        statdot(:removed, lk[:kal]);
        slabel(:left :removed, lk[:kal] + (-1.5dt, 1.0dt), "Kaltenleutgeben");
    }
}


# AT 152.  Mödling - Laxenburg
with detail = 2 {
    let ml = path("d2.at.152");

    with link = "line.at.152" {
        track(:second :removed, ml[:mod.yl, :lax]);
        with zoom = :high {
            line_label(:left:s :removed, ml[:mod.yl + 2.5km], "152");
        }
    }

    with link = "point.at.Laxenburg" {
        statdot(:removed, ml[:lax]);
        with zoom = :high {
            slabel(:right :removed, ml[:lax] + (-2.0dt, 1.0dt),
                vbox(:left:top, "Laxen-", " burg")
            );
        }
    }
}


# AT 154.  Felixdorf - Tattendorf
with detail = 2 {
    let ft = path("d2.at.154");

    with link = "line.at.154" {
        track(:second :closed, ft[:fel.yb, :blu]);
        line_label(:right:nw :closed, ft[:blu - 1.4km], "154");
    }

    with link = "point.at.Blumau-Neurißhof" {
        statdot(:closed, ft[:blu]);
    }

    with link = "line.at.154" {
        track(:second :removed, ft[:blu, :tat.yb]);
    }
}


# AT 159.  Mürzzuschlag - Neuberg Ort
with detail = 2 {
    let mn = path("d2.at.159");

    with link = "line.at.159" {
        track(:second :removed, mn[:mur.yn, :neo]);
        line_label(:right:sw :removed, mn[:mur.yn + 5.5km], "159");
    }

    with link = "point.at.Neuberg-Ort" {
        statdot(:removed, mn[:neo]);
        slabel(:top :removed, mn[:neo] + (0dt, -0.8dt), "Neuberg Ort");
    }
}

