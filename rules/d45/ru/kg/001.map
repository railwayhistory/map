# RU KZD 1.  Калининград-Пассажирский - Мамоново
#
let kalmam = path("path.ru.kg.1");

with detail = [4, 5] {
    with link = "point.ru.Калининград-Пассажирский" {
        track(:first:station :removed, kalmam[:kal - 1sw, :kal + 1sw] >> 0.5dt);
        track(:first:station, kalmam[:kal - 1sw, :kal + 1sw] << 0.5dt);
        marker(:de.bf :right, kalmam[:kal] >> 0.5dt);
        station(:right, kalmam[:kal - 0.5sw] >> 0.5dt >> 1.2sw,
            vbox(:bottom:left,
                hbox(:base:left :gone,
                    span(:bold, "Königsberg "),
                    span(:regular, "(Pr) "),
                    span(:bold, "Hbf")
                ),
                span(:open :bold, "Калининград-Пассажирский")
            ),
            "??"
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :removed, kalmam[:kal + 1sw, :kie - 1sw] >> 0.5dt);
        track(:first, kalmam[:kal + 1sw, :kie - 1sw] << 0.5dt);
    }


    with link = "point.ru.Калининград-Киевская" {
        track(:first :removed, kalmam[:kie - 1sw, :kie + 1sw] >> 0.5dt);
        track(:first, kalmam[:kie - 1sw, :kie + 1sw] << 0.5dt);
        marker(:de.hp :left, kalmam[:kie] << 0.5dt);
        label(kalmam[:kie] << 0.5dt << 1.8sh,
            vbox(:medium :left:middle,
                span(:gone, "Königsberg-Ponarth"),
                span(:open, "Киевская")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :removed, kalmam[:kie + 1sw, :las - 1sw] >> 0.5dt);
        track(:first, kalmam[:kie + 1sw, :las - 1sw] << 0.5dt);
        with layer = 1 line_badge(:open, kalmam[:kie + 1.8km], "КГ 1");
    }


    with link = "point.ru.Ласкино" {
        track(:first :removed, kalmam[:las - 1sw, :las + 1sw] >> 0.5dt);
        track(:first, kalmam[:las - 1sw, :las + 1sw] << 0.5dt);
        with layer = -1 marker(:de.hp :removed :left, kalmam[:las] << 0.5dt);
        label(kalmam[:las] << 0.5dt << 1.8sh,
            vbox(:medium :left:middle,
                span(:gone, "Godrienen"),
                span(:removed, "Ласкино")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :removed, kalmam[:las + 1sw, :gol - 1sw] >> 0.5dt);
        track(:first, kalmam[:las + 1sw, :gol - 1sw] << 0.5dt);
    }


    with link = "point.ru.Голубево" {
        track(:first:station :double, kalmam[:gol - 1sw, :gol + 1sw]);
        marker(:de.bf :right, kalmam[:gol] >> 0.5dt);
        label(kalmam[:gol + 0.7sw] >> 0.5dt >> 1.2sh,
            vbox(:medium :right:bottom,
                span(:gone, "Seepothen"),
                span(:open, "Голубево")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:gol + 1sw, :op1298 - 1sw]);
    }


    with link = "point.ru.Оп-1298-км" {
        track(:first:station :double, kalmam[:op1298 - 1sw, :op1298 + 1sw]);
        marker(:de.hp :right, kalmam[:op1298] >> 0.5dt);
        station(:left, kalmam[:op1298 + 0.5sw] >> 0.5dt >> 1.3sw,
            "1298 км", ""
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:op1298 + 1sw, :swe - 1sw]);
        with layer = 1 line_badge(:open, kalmam[:op1298 + 1.8km], "КГ 1");
    }
        

    with link = "point.ru.Светлое" {
        track(:first:station :double, kalmam[:swe - 1sw, :swe + 1sw]);
        marker(:de.hp :left, kalmam[:swe] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, kalmam[:swe] << 0.5dt);
        label(kalmam[:swe + 0.3sw] >> 1.0dt,
            vbox(:medium :right:bottom,
                span(:gone, " Kobbelbude"),
                span(:open, "Светлое")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:swe + 1sw, :op1305 - 1sw]);
        with layer = 1 line_badge(:open, kalmam[:swe + 1.0km], "КГ 1");
    }


    with link = "point.ru.Оп-1305-км" {
        track(:first:station :double, kalmam[:op1305 - 1sw, :op1305 + 1sw]);
        marker(:de.hp :left, kalmam[:op1305] << 0.5dt);
        station(:right, kalmam[:op1305 + 0.5sw] << 0.5dt << 1.8sw,
            "1305 км", ""
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:op1305 + 1sw, :op1307 - 1sw]);
    }


    with link = "point.ru.Оп-1307-км" {
        track(:first:station :double, kalmam[:op1307 - 1sw, :op1307 + 1sw]);
        marker(:de.hp :left, kalmam[:op1307] << 0.5dt);
        station(:bottom, kalmam[:op1307] << 0.5dt << 1.2sw,
            "1307 км", ""
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:op1307 + 1sw, :op1312 - 1sw]);
        with layer = 1 line_badge(:open, kalmam[:op1307 + 2.5km], "КГ 1");
    }


    with link = "point.ru.Оп-1312-км" {
        track(:first:station :double, kalmam[:op1312 - 1sw, :op1312 + 1sw]);
        marker(:de.hp :right, kalmam[:op1312] >> 0.5dt);
        label(kalmam[:op1312 + 0.3sw] >> 0.5dt >> 1.2sh,
            vbox(:medium :left:bottom,
                span(:gone, "Pörschken"),
                span(:open, "1312 км")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:op1312 + 1sw, :lad - 1sw]);
    }


    with link = "point.ru.Ладушкин" {
        track(:first:station :double, kalmam[:lad - 1sw, :lad + 1sw]);
        marker(:de.bf :right, kalmam[:lad] >> 0.5dt);
        label(kalmam[:lad - 0.5sw] >> 0.5dt >> 1.2sh,
            vbox(:medium :right:bottom,
                span(:gone, "Ludwigsort"),
                span(:open, "Ладушкин")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:lad + 1sw, :sos - 1sw]);
    }


    with link = "point.ru.Сосновый-Бор" {
        track(:first:station :double, kalmam[:sos - 1sw, :sos + 1sw]);
        marker(:de.hp :right, kalmam[:sos] >> 0.5dt);
        station(:left, kalmam[:sos - 0.3sw] >> 0.5dt >> 1.2sw,
            "Сосновый Бор", ""
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:sos + 1sw, :pri - 1sw]);
        with layer = 1 line_badge(:open, kalmam[:sos + 2.0km], "КГ 1");
    }


    with link = "point.ru.Приморское-Новое" {
        track(:first:station :double, kalmam[:pri - 1sw, :pri + 1sw]);
        marker(:de.hp :left, kalmam[:pri] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, kalmam[:pri] << 0.5dt);
        label(kalmam[:pri + 0.5sw] >> 1.0dt,
            vbox(:medium :right:bottom,
                span(:gone, "Wolittnick"),
                span(:open, "Приморское Новое")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:pri + 1sw, :sna - 1sw]);
    }


    with link = "point.ru.Знаменка" {
        track(:first:station :double, kalmam[:sna - 1sw, :sna + 1sw]);
        marker(:de.hp :right, kalmam[:sna] >> 0.5dt);
        with layer = -1 marker(:de.bf :removed :right, kalmam[:sna] >> 0.5dt);
        label(kalmam[:sna + 0.5sw] >> 0.5dt >> 1.2sw,
            vbox(:medium :right:bottom,
                span(:gone, "Groß Hoppenbruch"),
                span(:open, "Знаменка")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:sna + 1sw, :op1333 - 1sw]);
    }


    with link = "point.ru.Оп-1333-км" {
        track(:first:station :double, kalmam[:op1333 - 1sw, :op1333 + 1sw]);
        marker(:de.hp :right, kalmam[:op1333] >> 0.5dt);
        station(:left, kalmam[:op1333 + 0.4sw] >> 0.5dt >> 1.2sw,
            "1333 км", ""
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:op1333 + 1sw, :mam - 1sw]);
    }


    with link = "point.ru.Мамоново" {
        track(:first:station :double, kalmam[:mam - 1sw, :mam + 1sw]);
        marker(:de.bf :left, kalmam[:mam] << 0.5dt);
        label(kalmam[:mam + 0.5sw] >> 1.5dt,
            vbox(:medium :right:bottom,
                span(:gone, "Heiligenbeil"),
                span(:open :bold, "Мамоново")
            )
        );
    }


    with link = "line.ru.kzd.1" {
        track(:first :double, kalmam[:mam + 1sw, :gr]);
        with layer = 1 line_badge(:open, kalmam[:mam + 2.5km], "КГ 1");
    }
}

