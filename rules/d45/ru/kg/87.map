# RU KG 87.  Михайловка - Неман Узкоколе́йка
#
let micnem = path("path.ru.kg.87");

with detail = [4, 5] {
    # point.ru.kg.Михайловка: ru.kg.86

    
    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:atja + 1sw, :ruc - 1sw]);
        with layer = 1 line_badge(:removed, micnem[:ruc - 0.65km], "КГ 87");
    }


    with link = "point.ru.kg.Rucken" {
        track(:third:station :narrower :removed,
                micnem[:ruc - 1sw, :ruc + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:ruc]);
        station(:left :removed, micnem[:ruc - 0.3sw] << 2.0dt,
            hbox(:right:base, "Rucken ", span(:light, "(Kr Ragnit)")),
            "??"
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:ruc + 1sw, :bar - 1sw]);
    }


    with link = "point.ru.kg.Krauleidszen-Barsden" {
        track(:third:station :narrower :removed,
                micnem[:bar - 1sw, :bar + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:bar]);
        label(micnem[:bar + 0.2sw] >> 1.3sw,
            vbox(:left:middle,
                span(:medium :former, "Krauleidszen-Barsden"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed, "Barden"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:bar + 1sw, :kra - 1sw]);
    }


    with link = "point.ru.kg.Krauleidszen" {
        track(:third:station :narrower :removed,
                micnem[:kra - 1sw, :kra + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:kra]);
        label(micnem[:kra + 0.1sw] << 2.0dt,
            vbox(:right:middle,
                span(:medium :former, "Krauleidszen"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed, "Erlenfeld"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kra + 1sw, :wis - 1sw]);
    }


    with link = "point.ru.kg.Wiswainen" {
        track(:third:station :narrower :removed,
                micnem[:wis - 1sw, :wis + 1sw]
        );
        marker(:de.kzst :removed :left, micnem[:wis]);
        station(:left :removed, micnem[:wis - 0.2sw] << 1.1sw,
            "Wiswainen", "??"
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:wis + 1sw, :kwa - 1sw]);
    }


    with link = "point.ru.kg.Klein-Wabbeln" {
        track(:third:station :narrower :removed,
                micnem[:kwa - 1sw, :kwa + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:kwa]);
        label(micnem[:kwa + 0.1sw] << 2.0dt,
            vbox(:right:middle,
                span(:medium :former, "Klein Wabbeln"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed, "Wabben"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kwa + 1sw, :gwa - 1sw]);
    }


    with link = "point.ru.kg.Groß-Wabbeln" {
        track(:third:station :narrower :removed,
                micnem[:gwa - 1sw, :gwa + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:gwa]);
        label(micnem[:gwa + 0.25sw] >> 1.3sw,
            vbox(:left:middle,
                span(:medium :former, " Groß Wabbeln"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed, "Winterlinden"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:gwa + 1sw, :and - 1sw]);
    }


    with link = "point.ru.kg.Андреево" {
        track(:third:station :narrower :removed,
                micnem[:and - 1sw, :and + 1sw]
        );
        marker(:de.kzst :removed :left, micnem[:and]);
        label(micnem[:and] - (1.3sw, 1.2sw),
            vbox(:right:middle,
                span(:medium :former, "Pallmohnen"),
                span(:medium :removed, "Burental"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Андреево"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:and + 1sw, :ble - 1sw]);
    }


    with link = "point.ru.kg.Blendienen" {
        track(:third:station :narrower :removed,
                micnem[:ble - 1sw, :ble + 1sw]
        );
        marker(:de.kzst :removed :left, micnem[:ble]);
        station(:right :removed, micnem[:ble - 0.3sw] >> 1.7dt,
            "Blendienen", "??"
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:ble + 1sw, :kui - 1sw]);
    }


    with link = "point.ru.kg.Куйбышево" {
        track(:third:station :narrower :removed,
                micnem[:kui - 1sw, :kui + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:kui]);
        label(micnem[:kui] + (1.3sw, -1.4sw),
            vbox(:left:middle,
                span(:medium :former, "Kullminnen"),
                span(:medium :removed, "Kulmen"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Куйбышево"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kui + 1sw, :kua - 1sw]);
    }


    with link = "point.ru.kg.Кullminnen-Abbau" {
        track(:third:station :narrower :removed,
                micnem[:kua - 1sw, :kua + 1sw]
        );
        marker(:de.kzst :removed :left, micnem[:kua]);
        label(micnem[:kua + 0.7sw] << 0.8sw,
            vbox(:right:top,
                span(:medium :former, "Kullminnen Abbau"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed, "Kulmen Abbau"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:kua + 1sw, :erm - 1sw]);
        with layer = 1 line_badge(:removed, micnem[:kua + 0.5km], "КГ 87");
    }


    with link = "point.ru.kg.Ермаково" {
        track(:third:station :narrower :removed,
                micnem[:erm - 1sw, :erm + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:erm]);
        label(micnem[:erm + 0.25sw] >> 1.3sw,
            vbox(:left:middle,
                span(:medium :removed, "Karlshof"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Ермаково"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:erm + 1sw, :wee - 1sw]);
    }


    with link = "point.ru.kg.Weedern" {
        track(:third:station :narrower :removed,
                micnem[:wee - 1sw, :wee + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:wee]);
        station(:left :removed, micnem[:wee - 0.4sw] << 1.5dt,
            "Weedern", "??"
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:wee + 1sw, :blu - 1sw]);
    }


    with link = "point.ru.kg.Bludischken" {
        track(:third:station :narrower :removed,
                micnem[:blu - 1sw, :blu + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:blu]);
        station(:right :removed, micnem[:blu - 0.3sw] >> 1.4sw,
            "Bludischken", "??"
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:blu + 1sw, :bal - 1sw]);
    }


    with link = "point.ru.kg.Вальцово" {
        track(:third:station :narrower :removed,
                micnem[:bal - 1sw, :bal + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:bal]);
        label(micnem[:bal + 0.8sw] >> 1.3sw,
            vbox(:left:middle,
                span(:medium :former, "Sobersken"),
                span(:medium :removed, "Bersken"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Вальцово"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:bal + 1sw, :iwo - 1sw]);
    }


    with link = "point.ru.kg.Ивовое" {
        track(:third:station :narrower :removed,
                micnem[:iwo - 1sw, :iwo + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:iwo]);
        label(micnem[:iwo] + (1.4sw, -1.2sw),
            vbox(:left:middle,
                span(:medium :former, "Pötischken"),
                span(:medium :removed, "Flachdorf"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Ивовое"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:iwo + 1sw, :sta - 1sw]);
    }


    with link = "point.ru.kg.Стальское" {
        track(:third:station :narrower :removed,
                micnem[:sta - 1sw, :sta + 1sw]
        );
        marker(:de.kzst :removed :left, micnem[:sta]);
        label(micnem[:sta] + (-1.4sw, 0sw),
            vbox(:right:top,
                span(:medium :former, "Gudgallen"),
                span(:medium :removed, "Großfelde"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Стальское"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:sta + 1sw, :nej - 1sw]);
        with layer = 1 line_badge(:removed, micnem[:sta + 1.8km], "КГ 87");
    }


    with link = "point.ru.kg.Неман-Южный" {
        track(:third:station :narrower :removed,
                micnem[:nej - 1sw, :nej + 1sw]
        );
        marker(:de.kzst :removed :right, micnem[:nej]);
        label(micnem[:nej - 0.8sw] >> 1.5dt,
            vbox(:left:top,
                span(:medium :removed, "Ragnit Vorstadt"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium :removed :designation, "Неман Южный"),
                        span(:xsmall :removed, "??")
                    )
                )
            )
        );
    }


    with link = "line.ru.kg.87" {
        track(:third :narrower :removed, micnem[:nej + 1sw, :nem.aa]);
    }


    with link = "point.ru.kg.Неман-Узкоколейка" {
        let sownes = path("path.ru.kg.29");

        with layer = -1 track(:third:station :narrower :removed,
                micnem[:nem.aa, :nem.aa + 1m]
            ..  sownes[:aulj, :nem] >> 1.5dt
        );
        with layer = -1 marker(:de.kbf :left :removed, sownes[:neu] << 1.5dt);
        label(sownes[:neu - 1.5sw] >> 1.0dt,
            vbox(:right:top,
                span(:medium :removed :bold, "Ragnit Kleinb"),
                hbox(:right:top,
                    vbox(:center:top,
                        span(:medium :removed :bold :designation,
                            "Неман Узкоколейка"
                        ),
                        hbox(:center:top :xsmall :removed,
                            vbox(:right:top, "КГ 87:", "КГ 89:"),
                            vbox(:right:top, "??", "??")
                        )
                    )
                )
            )
        );
    }
}

