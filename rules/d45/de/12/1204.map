# DE 1204.  Abzw Hörn - Tönning
#
let horton = path("path.de.1204");

with detail = [4, 5] {
    with link = "line.de.1204" {
        track(:second,
                path("path.de.1210")[:hor - 60m, :hor - 61m] >> 1.5dt
            ..  horton[:aa + 250m, :pla - 1sw]
        );
    }


    with link = "point.de.Platenhörn" {
        track(:second:station, horton[:pla - 1sw, :pla + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, horton[:pla]);
        station(:left :removed,
            path("path.de.A15")[:pla + 0.4sw] >> 1dt,
            "Platenhörn",
            "5,62 (176,02)"
        );
    }


    with link = "line.de.1204" {
        track(:second, horton[:pla + 1sw, :but - 1sw]);
        with layer = 1 line_badge(:open, horton[:pla + 2.0km], "1204");
    }


    with link = "point.de.Büttel" {
        track(:second:station, horton[:but - 1sw, :but + 1sw]);
        with layer = -1 marker(:de.hst :removed :left, horton[:but]);
        with layer = -2 marker(:de.bf :gone :left, horton[:but]);
        station(:right :left_align :removed, horton[:but + 0.3sw] << 1.7sw,
            "Büttel", "9,86 (180,25)"
        );
    }


    with link = "line.de.1204" {
        track(:second, horton[:but + 1sw, :wit - 1sw]);
    }


    with link = "point.de.Witzwort" {
        track(:second:station, horton[:wit - 1sw, :wit + 1sw]);
        marker(:de.hp :left, horton[:wit]);
        station(:right, horton[:wit + 0.3sw] << 1.7sw,
            "Witzwort",
            hbox(:center:base,
                span(:open, "11,83 "),
                span(:removed, "(182,16)")
            )
        );
    }


    with link = "line.de.1204" {
        track(:second, horton[:wit + 1sw, :har - 1sw]);
    }


    with link = "point.de.Harblek" {
        track(:second:station, horton[:har - 1sw, :har + 1sw]);
        marker(:de.hp :right, horton[:har]);
        with layer = -1 marker(:de.bf :removed :right, horton[:har]);
        station(:right :left_align, horton[:har + 0.3sw] << 2.5dt,
            "Harblek",
            hbox(:left:base,
                span(:open, "15,35 "),
                span(:removed, "(185,73)")
            )
        );
    }


    with link = "line.de.1204" {
        track(:second,
                horton[:har + 1sw, :ton.aa]
            ..  path("path.de.1205")[:ahus + 61m, :ahus + 60m] << 1dt
        );
        with layer = 1 line_badge(:open, horton[:har + 4.0km], "1204");
    }


    # point.de.Tönning de.1205


    with link = "line.de.1205" {
        with layer = -1 track(:station :removed,
                horton[:ton.f, :ton.f + 1m] >> 1dt
            ..  horton[:ton.ff, :toh - 1sw]
        );
        with detail = 5 {
            with layer = 0 line_badge(:removed, horton[:ton.f + 400m], "1204");
        }
    }


    with link = "point.de.Tönning-Hafen" {
        track(:station :removed, horton[:toh - 1sw, :f]);
        with detail = 5 {
            slabel(:top :removed, horton[:toh + 140m] << 1.5dt,
                span(:italic, "Tönning Hafen")
            );
        }
    }
}

