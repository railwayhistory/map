# DE 1222.  Hamburg-Altona Kai - Hamburg-Altona (Tu)
#
let altkie = path("path.de.1220");
let kaialt = path("path.de.1222");

with detail = [4, 5] {
    with link = "point.de.Hamburg-Altona-Kai" {
        track(:second:station :removed, kaialt[:a, :r]);
        marker(:de.ldst :removed :right, kaialt[:kai]);
    }

    with link = "point.de.Hamburg-Altona-Aho" {
        track(:second:station :removed, kaialt[:r, :tsfa]);
    }


    with link = "line.de.1222" {
        with layer = -2 track(:second :removed :tight,
                kaialt[:tsfa, :ff]
            ..  altkie[:fkai, :alt.af - 100m] >> 1.5dt
        );
    }


    with link = "point.de.Hamburg-Altona-Tu" {
        track(:second:station,
                altkie[:alt.af - 100m, :alt.af - 1dl] >> 1.5dt
            --  altkie[:alt.af, :alt.af + 1m] >> 0.5dt
        );
        with layer = -1 track(:second:station :removed,
                altkie[:alt.af - 1dl, :atu + 0.5sw] >> 1.5dt
        );
        with layer = -2 marker(:de.bft :removed :right, altkie[:atu] >> 1.5dt);
    }
}

