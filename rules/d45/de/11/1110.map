# DE 1110.  Eutin - Bad Schwartau Abzw (ausschl.)
#
let eutlub = path("path.de.1110");

with detail = [4, 5] {
    with link = "line.de.1110" {
        track(:first,
                path("path.de.1023")[:eut.f, :alub] >> 0.5dt
            ..  eutlub[:a, :boc - 1sw]
        );
        with layer = 1 line_badge(:open, eutlub[:boc - 1.9km], "1110");
    }


    with link = "point.de.Bockholt" {
        track(:first:station, eutlub[:boc - 1sw, :boc + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, eutlub[:boc]);
        station(:left :removed, eutlub[:boc + 0.3sw] >> 1.5sh,
            "Bockholt", "4,84"
        );
    }


    with link = "line.de.1110" {
        track(:first, eutlub[:boc + 1sw, :ott - 1sw]);
        with detail = 5, layer = 1 {
            line_badge(:open, eutlub[:boc + 2.0km], "1110");
        }
    }


    with link = "point.de.Ottendorf-Holst" {
        track(:first:station, eutlub[:ott - 1sw, :ott + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, eutlub[:ott]);
        station(:left :removed, eutlub[:ott + 0.35sw] >> 1.3sh,
            hbox(:right:base,
                span(:regular, "Ottendorf "),
                span(:light, "(Holst)")
            ),
            "8,72"
        );
    }


    with link = "line.de.1110" {
        track(:first, eutlub[:ott + 1sw, :pon.a]);
        with layer = 1 line_badge(:open, eutlub[:ott + 1.7km], "1110");
    }


    with link = "point.de.PÃ¶nitz-Holst" {
        # Gl. 1
        track(:first, eutlub[:pon.a, :pon.f]);

        # Gl. 2 (<< 1dt)
        track(:station,
                eutlub[:pon.a + 59m, :pon.a + 60m]
            --  eutlub[:pon.a + 120m, :pon.f - 120m] << 1dt
            --  eutlub[:pon.f - 60m, :pon.f - 59m]
        );

        track(:second:station :removed,
                eutlub[:pon + 0.6sw, :aahr] >> 1dt
            ..  path("path.de.1111")[:pon.f - 10m, :pon.f]
        );

        marker(:de.bf :right, eutlub[:pon]);
        label(eutlub[:pon] << 2.5dt,
            vbox(:left:middle,
                span(:medium:bold:removed, "Bahnhof Gleschendorf"),
                hbox(:left:top,
                    vbox(:center:top,
                        hbox(:medium :center:base,
                            span(:bold, "Ponitz "),
                            span(:regular, "(Holst)")
                        ),
                        hbox(:xsmall :center:top,
                            vbox(:right:top,
                                span(:open, "1110: "),
                                span(:removed, "1111: ")
                            ),
                            vbox(:right:top,
                                span(:open, "11,"),
                                span(:removed, "0,")
                            ),
                            vbox(:left:top,
                                span(:open, "54"),
                                span(:removed, "00")
                            )
                        )
                    )
                )
            )
       );
    }


    with link = "line.de.1110" {
        track(:first, eutlub[:pon.f, :gle - 1sw]);
        with layer = 1 line_badge(:open, eutlub[:pon + 1.3km], "1110");
    }


    with link = "point.de.Gleschendorf" {
        track(:first:station, eutlub[:gle - 1sw, :gle + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, eutlub[:gle]);
        station(:right :removed, eutlub[:gle + 0.4sw] << 1dt,
            "Gleschendorf", "13,80"
        );
    }


    with link = "line.de.1110" {
        track(:first, eutlub[:gle + 1sw, :pan.a]);
        with detail = 5, layer = 1 {
            line_badge(:open, eutlub[:gle + 3.0km], "1110");
        }
    }

    with link = "point.de.Pansdorf" {
        # Gl. 1
        track(:station,
                eutlub[:pan.a + 59m, :pan.a + 60m]
            --  eutlub[:pan.a + 120m, :pan.f - 120m] << 1dt
            --  eutlub[:pan.f - 60m, :pan.f - 59m]
        );

        # Gl. 2
        track(:first:station, eutlub[:pan.a, :pan.f]);

        marker(:de.bf :left, eutlub[:pan] << 1dt);
        station(:right, eutlub[:pan + 0.4sw] << 1dt << 1.4sh,
            "Pansdorf", "19,25"
        );
    }

    with link = "line.de.1110" {
        let lubput = path("path.de.1100");
        with detail = 4 {
            track(:first,
                    eutlub[:pan.f, :f]
                ..  lubput[:aeut, :swa + 0.5sw + 3dl] >> 0.5dt
            );
            with layer = 1 line_badge(:open, eutlub[:pan + 2.7km], "1110");
        }
        with detail = 5 {
            track(:first,
                    eutlub[:pan.f, :f]
                ..  lubput[:aeut, :swr.sn + 450m] >> 0.5dt
            );
            with layer = 1 line_badge(:open, eutlub[:swa - 1.85km], "1110");
        }
    }
}

