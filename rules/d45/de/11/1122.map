# DE 1122.  Lübeck Hgbf Abzw (ausschl.) - Strasburg (Meckl)
#
let lubstr = path("path.de.1122");

with detail = [4, 5] {
    with link = "line.de.1122" {
        let lubham = path("path.de.1120");

        track(:first,
                lubham[:lua + 1sw, :akle] << 2.5dt
            ..  lubstr[:aa, :stn - 0.5sw]
        );
    }


    with link = "point.de.Strecknitz" {
        track(:first:station, lubstr[:stn - 0.5sw, :stn + 0.5sw]);
        with layer = -1 track(:second:station :removed,
                lubstr[:stn - 0.5sw, :stn] << 1dt);
        track(:second:station,
                lubstr[:stn - 1.1dl, :stn - 1dl]
            --  lubstr[:stn, :stn + 0.5sw] << 1dt
        );
        marker(:de.abzw :left, lubstr[:stn] << 1dt);
        station(:top, lubstr[:stn] << 1dt << 1.2sh,
            span(:bold, "Strecknitz"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "1131: ")
                ),
                vbox(:right:top,
                    span(:open, "6,"),
                    span(:open, "4,")
                ),
                vbox(:left:top,
                    span(:open, "02"),
                    span(:open, "35")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:stn + 0.5sw, :sju - 1sw]);
    }


    with link = "point.de.Lübeck-St-Jürgen" {
        track(:first:station, lubstr[:sju - 1sw, :sju + 1sw]);
        marker(:de.hp :right, lubstr[:sju]);
        station(:bottom, lubstr[:sju] >> 1.2sh,
            "Lübeck St Jürgen", "6,44"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:sju + 1sw, :heg - 0.5sw]);
    }


    with link = "point.de.Herrnburg-LGr" {
        track(:first, lubstr[:heg - 0.5sw, :heg + 0.5sw]);
        with layer = -1 {
            marker(:de.dirgr :removed :right, lubstr[:heg]);
            marker(:de.dirgr :removed :left, lubstr[:heg]);
        }
        label(lubstr[:heg] << 4dt,
            vbox(:center:bottom,
                span(:xsmall :removed, "DB|DR"),
                span(:xsmall :removed, "9,517 = 6,903")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:heg + 0.5sw, :her - 1sw]);
    }


    with link = "point.de.Herrnburg" {
        track(:first:station, lubstr[:her - 1sw, :her + 1sw]);
        marker(:de.bf :right, lubstr[:her]);
        station(:bottom, lubstr[:her] >> 1.2sh,
            "Herrnburg",
            hbox(:center:base,
                span(:open, "10,20 "),
                span(:removed, "(7,53)")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:her + 1sw, :hex - 0.5sw]);
        with layer = 1 line_badge(:open, lubstr[:her + 1.5km], "1122");
    }


    with link = "point.de.Herrnburg-Fehlstelle" {
        track(:first:station, lubstr[:hex - 0.5sw, :hex + 0.5sw]);
        marker(:statdt :right, lubstr[:hex]);
        marker(:statdt :left, lubstr[:hex]);
        slabel(:right, lubstr[:hex] << 2dt - (4pt, 0pt),
            span(:xsmall, "10,80+2705 = 10,90")
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:hex + 0.5sw, :lud - 1sw]);
    }


    with link = "point.de.Lüdersdorf-Meckl" {
        track(:first:station, lubstr[:lud - 1sw, :lud + 1sw]);
        marker(:de.hp :right, lubstr[:lud]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:lud]);
        station(:bottom, lubstr[:lud] >> 1.4sh,
            hbox(:center:base,
                span(:regular, "Lüdersdorf "),
                span(:light, "(Meckl)")
            ),
            "11,28"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:lud + 1sw, :son - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:son - 2.0km], "1122");
    }


    with link = "point.de.Schönberg-Meckl" {
        track(:first:station, lubstr[:son - 1sw, :snn + 1sw]);
        with layer = -1 track(:second:station :removed,
                lubstr[:son - 0.6sw - 1.1dl, :son - 0.6sw - 1dl]
            --  lubstr[:son - 0.6sw, :snn + 1sw] << 1dt
        );
        with layer = -1 marker(:de.bf :removed :right, lubstr[:son]);
        marker(:de.hp :right, lubstr[:snn]);
        station(:top, lubstr[:son] << 2dt,
            hbox(:center:base,
                span(:bold, "Schönberg "),
                span(:regular, "(Meckl)")
            ),
            hbox(:center:bottom,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:removed, "8995: ")
                ),
                vbox(:right:center,
                    span(:removed, "19,35 "),
                    span(:removed, "??")
                ),
                vbox(:left:top,
                    span(:removed, "→ "),
                    span(:removed, "")
                ),
                vbox(:left:top,
                    span(:open, "19,40"),
                    span(:removed, "")
                )
           )
       );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:snn + 1sw, :men - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:son + 2.0km], "1122");
    }


    with link = "point.de.Menzendorf" {
        track(:first:station, lubstr[:men - 1sw, :mnn + 1sw]);
        marker(:de.bf :right, lubstr[:men]);
        station(:bottom, lubstr[:men] >> 1.2sh,
            "Menzendorf",
            hbox(:center:base,
                span(:removed, "22,25 → "),
                span(:open, "22,34")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:men + 1sw, :gri - 1sw]);
    }


    with link = "point.de.Grieben-Meckl" {
        track(:first:station, lubstr[:gri - 1sw, :gri + 1sw]);
        marker(:de.bf :left, lubstr[:gri]);
        station(:top, lubstr[:gri] << 1.4sh,
            hbox(:center:base,
                span(:regular, "Grieben "),
                span(:light, "(Meckl)")
            ),
            hbox(:center:base,
                span(:removed, "29,02 → "),
                span(:open, "29,04")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:gri + 1sw, :bor - 1sw]);
    }


    with link = "point.de.Börzow" {
        track(:first:station, lubstr[:bor - 1sw, :bor + 1sw]);
        with layer = -1  marker(:de.bf :removed :left, lubstr[:bor]);
        station(:top :removed, lubstr[:bor] << 1.2sh,
            "Börzow", "??"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:bor + 1sw, :gre - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:gre - 2.5km], "1122");
    }


    with link = "point.de.Grevesmühlen" {
        track(:first:station, lubstr[:gre - 1sw, :gre + 1sw]);
        with layer = -1 track(:second:station :removed,
                lubstr[:gre - 1sw, :gre + 0.6sw] << 1dt
            --  lubstr[:gre + 0.6sw + 1dl, :gre + 0.6sw + 1.1dl]
        );
        marker(:de.bf :left, lubstr[:gre] << 1dt);
        station(:top, lubstr[:gre] << 1dt << 1.2sh,
            span(:bold, "Grevesmühlen"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:removed, "6931: ")
                ),
                vbox(:right:top,
                    span(:open, "36,"),
                    span(:removed, "0,")
                ),
                vbox(:left:top,
                    span(:open, "70"),
                    span(:removed, "00")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:gre + 1sw, :plu - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:gre + 3.4km], "1122");
    }


    with link = "point.de.Plüschow" {
        track(:first:station, lubstr[:plu - 1sw, :pln + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:plu]);
        marker(:de.hp :left, lubstr[:pln]);
        station(:top, lubstr[:pln] << 1.2sh,
            "Plüschow",
            hbox(:center:base,
                span(:removed, "43,97 → "),
                span(:open, "44,15")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:pln + 1sw, :bob - 1sw]);
    }


    with link = "point.de.Bobitz" {
        track(:first:station, lubstr[:bob - 1sw, :bob + 1sw]);
        marker(:de.bf :right, lubstr[:bob]);
        station(:bottom, lubstr[:bob - 0.3sw] >> 1.8sh,
            "Bobitz", "50,57"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:bob + 1sw, :ram - 0.5sw]);
    }


    with link = "point.de.Rambow" {
        track(:first:station, lubstr[:ram - 0.5sw, :ram + 0.5sw]);
        with layer = -1 marker(:de.bk :removed :left, lubstr[:ram]);
        station(:left :removed, lubstr[:ram + 0.3sw] >> 2dt,
            hbox(:center:base,
                span(:gone, "Wendisch "),
                span(:removed, "Rambow")
            ),
            "55,17"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:ram + 0.5sw, :kle.a]);
        with layer = 1 line_badge(:open, lubstr[:ram + 2.4km], "1122");
    }


    with link = "point.de.Bad-Kleinen" {
        # Str. 1122
        track(:first:station,
                lubstr[:kle.a, :kle.a + 60m]
            ..  lubstr[:fswe, :fswe + 70m] << 0.5dt
            ..  lubstr[:kle - 70m, :kle + 450m] >> 2.5dt
            ..  lubstr[:kle.f - 450m, :kle.f] >> 1.5dt
        );
        track(:first:station,
                lubstr[:kle.a + 59m, :kle.a + 60m]
            ..  lubstr[:fswe, :fswe + 60m] >> 0.5dt
            ..  lubstr[:kle - 80m, :kle + 450m] >> 3.5dt
            ..  lubstr[:kle.f - 450m, :kle.f] >> 2.5dt
        );

        # Str. 6441
        track(:first:station :cat, lubstr[:fswe, :kle.f] << 0.5dt);
        track(:first:station :cat, lubstr[:fswe, :kle.f] >> 0.5dt);

        marker(:de.inbf, lubstr[:kle] >> 0.5dt);
        station(:bottom, lubstr[:kle] >> 5.5dt,
            span(:bold, "Bad Kleinen"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6441: ")
                ),
                vbox(:right:top,
                    span(:open, "59,"),
                    span(:open, "82,")
                ),
                vbox(:left:top,
                    span(:open, "32"),
                    span(:open, "80")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat,
                lubstr[:kle.f, :awis] >> 2dt
            ..  lubstr[:kle.ff, :hvi - 0.5sw]
        );
    }


    with link = "point.de.Hohen-Viechteln" {
        track(:first:station :double :cat, lubstr[:hvi - 0.5sw, :hvi + 0.5sw]);
        with layer = -1 marker(:de.bk :removed :left, lubstr[:hvi] << 0.5dt);
        station(:right, lubstr[:hvi - 0.3sw] >> 1dt >> 6pt,
            "Hohen Viechteln",
            "63,8"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:hvi + 0.5sw, :ven - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:hvi + 1.7km], "1122");
    }


    with link = "point.de.Ventschow" {
        track(:first:station :double :cat, lubstr[:ven - 1sw, :ven + 1sw]);
        marker(:de.hp :right, lubstr[:ven] >> 0.5dt);
        marker(:de.uest :right, lubstr[:ven] >> 0.5dt);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:ven] >> 0.5dt);
        station(:bottom, lubstr[:ven] >> 0.5dt >> 1.2sh,
            "Ventschow", "67,60"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:ven + 1sw, :bib - 0.5sw]);
    }


    with link = "point.de.Bibow" {
        track(:first:station :double :cat, lubstr[:bib - 0.5sw, :bib + 0.5sw]);
        with layer = -1 marker(:de.bk :removed :right, lubstr[:bib] >> 0.5dt);
        station(:bottom :removed, lubstr[:bib] >> 0.5dt >> 1.2sh,
            "Bibow",
            "73,0"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:bib + 0.5sw, :bla.a]);
        with layer = 1 line_badge(:open, lubstr[:bib + 1.2km], "1122");
    }


    with link = "point.de.Blankenberg-Meckl" {
        track(:first:station :double :cat, lubstr[:bla.a, :bla.f]);
        with layer = -1 track(:second:station :closed,
                lubstr[:bla - 1sw, :bla - 0.5sw] >> 3.5dt
        );
        track(:second:station, lubstr[:bla - 0.5sw, :bla + 1sw] >> 3.5dt);
        marker(:de.bf :right, lubstr[:bla] >> 0.5dt);
        station(:left, lubstr[:bla + 1sw] >> 4.5dt >> 6pt,
            hbox(:center:base,
                span(:bold, "Blankenburg "),
                span(:regular, "(Meckl)")
            ),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6936: ")
                ),
                vbox(:right:top,
                    span(:open, "76,"),
                    span(:open, "22,")
                ),
                vbox(:left:top,
                    span(:open, "80"),
                    span(:open, "09")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:bla.f, :fri - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:bla + 2.2km], "1122");
    }


    with link = "point.de.Friedrichswalde-Meckl" {
        track(:first:station :double :cat, lubstr[:fri - 1sw, :fri + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, lubstr[:fri] >> 0.5dt);
        with layer = -2 marker(:de.bf :gone :right, lubstr[:fri] >> 0.5dt);
        station(:left:removed, lubstr[:fri + 1sw] >> 0.5dt >> 2.2sh,
            hbox(:center:base,
                span(:regular, "Friedrichswalde "),
                span(:light, "(Meckl)")
            ),
            "81,2"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:fri + 1sw, :frb - 0.5sw]);
    }


    with link = "point.de.Friedrichswalde-Meckl-Bk" {
        track(:first:station :double :cat, lubstr[:frb - 0.5sw, :frb + 0.5sw]);
        marker(:de.bk :right, lubstr[:frb] >> 0.5dt);
        station(:right, lubstr[:frb - 1sw] >> 0.5dt >> 2.0sh,
            hbox(:center:base,
                span(:regular, "Friedrichswalde "),
                span(:light, "(Meckl)")
            ),
            "??"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:frb + 0.5sw, :eic - 0.5sw]);
    }


    with link = "point.de.Eickelberg" {
        track(:first:station :double :cat, lubstr[:eic - 0.5sw, :eic + 0.5sw]);
        marker(:de.bk :removed :left, lubstr[:eic] << 0.5dt);
        station(:left :removed, lubstr[:eic - 0.5sw] << 0.5dt << 1.2sh,
            "Eickelberg", "85,6"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:eic + 0.5sw, :war - 1sw]);
    }


    with link = "point.de.Warnow-Meckl" {
        track(:first:station :double :cat, lubstr[:war - 1sw, :war + 1sw]);
        marker(:de.bf :left, lubstr[:war] << 0.5dt);
        station(:top, lubstr[:war] << 0.5dt << 1.2sh,
            hbox(:center:base,
                span(:regular, "Warnow "),
                span(:light, "(Meckl)")
            ),
            "89,66"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:war + 1sw, :zer - 1sw]);
    }


    with link = "point.de.Zernin" {
        track(:first:station :double :cat, lubstr[:zer - 1sw, :zer + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, lubstr[:zer] >> 0.5dt);
        station(:right :removed, lubstr[:zer - 1sw] >> 0.5dt >> 2.0sh,
            "Zernin", "93,3"
        );
    }


    with link = "line.de.1122" {
        track(:first :double :cat, lubstr[:zer + 1sw, :but.a]);
        with layer = 1 line_badge(:open, lubstr[:but - 3.0km], "1122");
    }


    with link = "point.de.Bützow" {
        track(:first:station :double :cat, lubstr[:but.a, :aros]);
        track(:first:station :cat,
                lubstr[:but.a + 180m, :aros] >> 1.5dt
        );
        track(:first:station :cat,
                lubstr[:but.a + 59m, :but.a + 60m] << 0.5dt
            --  lubstr[:but.a + 240m, :aros - 200m] >> 2.5dt
            --  lubstr[:aros - 80m, :aros - 79m] >> 0.5dt
        );
        with layer = -1 track(:first:station :removed,
                lubstr[:aros - 200m, :aros] >> 2.5dt
        );

        marker(:de.bf :left, lubstr[:but] << 0.5dt);
        station(:left, lubstr[:but - 0.4sw] << 0.5dt << 2.2sh,
            span(:bold, "Bützow"),
            hbox(:right:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6446: ")
                ),
                vbox(:right:top,
                    span(:removed, "99,"),
                    span(:removed, "0,")
                ),
                vbox(:left:top,
                    span(:removed, "79 "),
                    span(:removed, "00 ")
                ),
                vbox(:left:top,
                    span(:removed, "→ "),
                    span(:removed, "→ ")
                ),
                vbox(:right:top,
                    span(:open, "99,"),
                    span(:open, "−0,")
                ),
                vbox(:left:top,
                    span(:open, "87"),
                    span(:open, "25")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip, lubstr[:aros, :swi - 1sw] << 0.5dt);
        track(:first :removed, lubstr[:aros, :swi - 1sw] >> 0.5dt);
        with layer = 1 line_badge(:open, lubstr[:aros + 2.0km], "1122");
    }


    with link = "point.de.Schwiesower-Forst" {
        track(:first:station :cat,
                lubstr[:swi - 1sw, :swi.x - 120m] << 0.5dt
            ..  lubstr[:swi.x - 60m, :swi.x] >> 0.5dt
        );
        with layer = -1 {
            track(:first:station :removed,
                    lubstr[:swi - 1sw, :swi.x - 60m] >> 0.5dt
            );
            track(:first:station :removed,
                    lubstr[:swi.x - 120m, :swi.x] << 0.5dt
            );
            marker(:de.bbf :removed :left, lubstr[:swi] << 0.5dt);
        }
        station(:top :removed, lubstr[:swi] << 0.5dt << 1.2sh,
            "Schwiesower Forst", "106,68"
        );
    }


    with link = "line.de.1122" {
        track(:first :removed, lubstr[:swi.x, :gus.a] << 0.5dt);
        track(:first :cat, lubstr[:swi.x, :gus.a] >> 0.5dt);
        with layer = 1 line_badge(:open, lubstr[:gus - 3.0km], "1122");
    }


    with link = "point.de.Güstrow-Gbf" {
        track(:first:station :cat, lubstr[:gus.a, :gus.r] << 1.5dt);
        with layer = -1 track(:first:station :removed,
                lubstr[:gus.a, :gus.r] << 0.5dt
        );
        track(:first:station :cat, lubstr[:gus.a, :gus.r] >> 0.5dt);
        marker(:de.bft :right, lubstr[:gug] >> 0.5dt);
        station(:left, lubstr[:gug - 0.8sw] >> 0.5dt >> 1.4sh,
            "Güstrow Gbf",
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6445: ")
                ),
                vbox(:center:top,
                    span(:open, "112,50"),
                    span(:open, "??")
                )
            )
        );
    }

    with link = "point.de.Güstrow" {
        # Gl. 56
        track(:first:station :cat,
                lubstr[:gus.r, :gus.f] << 1.5dt
        );
        
        # Gl. 15
        with layer = -1 track(:first:station :removed,
                lubstr[:gus.r, :gus.r + 60m] << 0.5dt
        );
        track(:first:station,
                lubstr[:gus.r + 60m, :gus + 220m] << 0.5dt
        );
        with layer = -1 track(:first:station :removed,
                lubstr[:gus + 220m, :gus.f] << 0.5dt
        );

        # Gl. 44
        track(:first:station :cat,
                lubstr[:gus.r, :gus.f] >> 0.5dt
        );

        marker(:de.bf :right, lubstr[:gus] >> 0.5dt);
        station(:bottom, lubstr[:gus - 0.5sw] >> 0.5dt >> 2.2sh,
            span(:bold, "Güstrow"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6445: "),
                    span(:open, "6939: ")
                ),
                vbox(:right:top,
                    span(:open, "113,"),
                    span(:open, "0,"),
                    span(:open, "59,")
                ),
                vbox(:left:top,
                    span(:open, "26"),
                    span(:open, "00"),
                    span(:open, "8")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip, lubstr[:gus.f, :pri.a] << 1.5dt);
        track(:first :removed, lubstr[:gus.f, :pri.a] << 0.5dt);
    }


    with link = "point.de.Priemerburg" {
        track(:first:station, lubstr[:pri.a, :pri.f] << 1.5dt);
        with layer = -1 track(:first:station :removed,
                lubstr[:pri.a, :pri.f] << 0.5dt
        );
        track(:second:station, lubstr[:pri.a, :pri.f] >> 0.5dt);
        track(:second:station,
                lubstr[:pri.a + 279m, :pri.a + 280m] >> 0.5dt
            ..  lubstr[:pri.a + 340m, :aprn] >> 1.5dt
        );
        
        marker(:de.bf :right, lubstr[:pri] >> 1.5dt);
        station(:top, lubstr[:pri] << 2.5dt,
            vbox(:center:top,
                span(:bold :removed, "Priemerburg"),
                span(:bold, "Priemerburg – NUP Güstrow")
            ),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6929: "),
                    span(:open, "6939: ")
                ),
                vbox(:right:top,
                    span(:open, "116,"),
                    span(:open, "0,"),
                    span(:open, "56,")
                ),
                vbox(:left:top,
                    span(:open, "74"),
                    span(:open, "00"),
                    span(:open, "32")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip, lubstr[:pri.f, :fprn] << 1.5dt);
        track(:first :removed, lubstr[:pri.f, :fprn] << 0.5dt);
    }


    with link = "point.de.Priemerwald-Süd" {
        track(:first:station :cat :flip, lubstr[:fprn, :akar] << 1.5dt);
        track(:first:station :removed, lubstr[:fprn, :akar] << 0.5dt);
        track(:second:station, lubstr[:fprn, :akar] >> 0.5dt);
        with layer = -1 marker(:de.abzw :closed :left, lubstr[:prs] << 1.5dt);
        station(:right :closed, lubstr[:prs + 0.4sw] << 1.5dt << 1.4sh,
            span(:bold, "Priemerwald Süd"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6927: "),
                    span(:open, "6939: ")
                ),
                vbox(:right:top,
                    span(:open, "118,"),
                    span(:open, "?"),
                    span(:open, "54,")
                ),
                vbox(:left:top,
                    span(:open, "47"),
                    span(:open, "?"),
                    span(:open, "66")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip,
                lubstr[:akar, :prs.ff] << 1.5dt
            ..  lubstr[:prs.fff, :dev - 0.5sw] << 0.5dt
        );
        track(:first :removed,
                lubstr[:akar, :prs.ff] << 0.5dt
            ..  lubstr[:prs.fff, :dev - 0.5sw] >> 0.5dt
        );
        with layer = 1 line_badge(:open, lubstr[:prs + 0.8km] << 1dt, "1122");
    }


    with link = "point.de.Devwinkel" {
        track(:first:station, lubstr[:dev - 0.5sw, :dev + 0.5sw] << 0.5dt);
        track(:first:station :removed,
                lubstr[:dev - 0.5sw, :dev + 0.5sw] >> 0.5dt
        );
        with layer = -1 marker(:de.bk :closed :right, lubstr[:dev] >> 0.5dt);
        station(:bottom :closed, lubstr[:dev] >> 0.5dt >> 1.2sh,
            "Devwinkel", "121,9"
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip, lubstr[:dev + 0.5sw, :nie - 1sw] << 0.5dt);
        track(:first :removed, lubstr[:dev + 0.5sw, :nie - 1sw] >> 0.5dt);
    }


    with link = "point.de.Nienhagen-Lalendorf" {
        track(:first:station, lubstr[:nie - 1sw, :nie + 1sw] << 0.5dt);
        track(:first:station :removed,
                lubstr[:nie - 1sw, :nie + 1sw] >> 0.5dt
        );
        with layer = -1 marker(:de.hp :removed :right, lubstr[:nie] >> 0.5dt);
        station(:bottom :closed, lubstr[:nie] >> 0.5dt >> 1.2sh,
            "Nienhagen", "??"
        );
    }


    with link = "line.de.1122" {
        track(:first :cat :flip, lubstr[:nie + 1sw, :lal.a] << 0.5dt);
        track(:first :removed, lubstr[:nie + 1sw, :lal.a] >> 0.5dt);
        with layer = 1 line_badge(:open, lubstr[:lal - 2.0km], "1122");
    }


    with link = "point.de.Lalendorf" {
        track(:first:station, lubstr[:lal.a, :awar] << 0.5dt);

        with layer = -1 track(:first:station :removed,
                lubstr[:lal.a, :lal.a + 320m] >> 0.5dt
        );
        track(:first:station,
                lubstr[:lal.a + 259m, :lal.a + 260m] << 0.5dt
            ..  lubstr[:lal.a + 320m, :awar] >> 0.5dt
        );

        marker(:de.bf :left, lubstr[:lal] << 0.5dt);
        station(:bottom, lubstr[:lal] >> 2.5dt,
            span(:bold, "Lalendorf"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6447: ")
                ),
                vbox(:right:top,
                    span(:open, "129,"),
                    span(:open, "2,")
                ),
                vbox(:left:top,
                    span(:open, "03"),
                    span(:open, "02")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:awar, :nwo - 1sw] << 0.5dt);
        track(:first :removed, lubstr[:awar, :nwo - 1sw] >> 0.5dt);
        with layer = 1 line_badge(:open, lubstr[:lal + 3.0km], "1122");
    }


    with link = "point.de.Neu-Wokern" {
        track(:first:station, lubstr[:nwo - 1sw, :nwo + 1sw] << 0.5dt);
        with layer = -1 track(:first:station :removed,
                lubstr[:nwo - 1sw, :nwo + 1sw] >> 0.5dt
        );
        marker(:de.hp :right, lubstr[:nwo] >> 0.5dt);
        marker(:de.hpext :right, lubstr[:nwo] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:nwo] >> 0.5dt);
        station(:bottom, lubstr[:nwo] >> 0.5dt >> 1.2sh,
            "Neu Wokern", "136,60"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:nwo + 1sw, :tet.a] << 0.5dt);
        track(:first :removed, lubstr[:nwo + 1sw, :tet.a] >> 0.5dt);
        with layer = 1 line_badge(:open, lubstr[:tet - 1.4km], "1122");
    }


    with link = "point.de.Teterow" {
        track(:second:station,
                lubstr[:tet.a + 99m, :tet.a + 100m] << 0.5dt
            ..  lubstr[:tet.a + 160m, :agno] << 1.5dt
        );

        track(:first:station, lubstr[:tet.a, :tet.f] << 0.5dt);

        track(:first:station :removed, lubstr[:tet.a, :tet.a + 120m] >> 0.5dt);
        track(:first:station,
                lubstr[:tet.a + 59m, :tet.a + 60m] << 0.5dt
            ..  lubstr[:tet.a + 120m, :tet.f - 120m] >> 0.5dt
            ..  lubstr[:tet.f - 60m, :tet.f - 59m] << 0.5dt
        );
        marker(:de.bf :left, lubstr[:tet] << 1.5dt);
        station(:top, lubstr[:tet - 0.5sw] << 1.5dt << 1.8sh,
            span(:bold, "Teterow"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:removed, "6937: ")
                ),
                vbox(:right:top,
                    span(:open, "142,"),
                    span(:removed, "0,")
                ),
                vbox(:left:top,
                    span(:open, "29"),
                    span(:removed, "00")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first,
                lubstr[:tet.f, :tet.f + 1m] << 0.5dt
            ..  lubstr[:tet.ff, :hmi - 1sw]
        );
        with layer = 1 line_badge(:open, lubstr[:hmi - 3.2km], "1122");
    }


    with link = "point.de.Hohen-Mistorf" {
        track(:first, lubstr[:hmi - 1sw, :hmi + 1sw]);
        with layer = -1 marker(:de.bf :closed :left, lubstr[:hmi]);
        station(:right :closed, lubstr[:hmi + 0.5sw] << 1.2sh,
            "Hohen Mistorf", "148,78"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:hmi + 1sw, :reb - 1sw]);
    }


    with link = "point.de.Remplin" {
        track(:first, lubstr[:reb - 1sw, :rem + 1sw]);
        marker(:de.bk :righ, lubstr[:reb]);
        with layer = -1 marker(:de.bf :removed :left, lubstr[:rem]);
        station(:bottom, lubstr[:reb] >> 1.2sh,
            "Remplin",
            hbox(:center:base,
                span(:open, "152,03 "),
                span(:removed, "← 152,07")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:rem + 1sw, :mag - 0.5sw]);
    }


    with link = "point.de.Malchin-Gr" {
        track(:first, lubstr[:mag - 0.5sw, :mag + 0.5sw]);
        with layer = -1 {
            marker(:de.dirgr :closed :right, lubstr[:mag]);
            marker(:de.dirgr :closed :left, lubstr[:mag]);
        }
        label(lubstr[:mag] << 4dt,
            vbox(:center:bottom :xsmall :closed,
                span(:regular, "Sch | Gwd"),
                span(:regular, "153,1")
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:mag + 0.5sw, :mal.a]);
        with layer = 1 line_badge(:open, lubstr[:mal - 1.8km], "1122");
    }


    with link = "point.de.Malchin" {
        track(:second:station,
                lubstr[:mal.a, :mal.f - 220m] << 1dt
            ..  lubstr[:mal.f - 160m, :mal.f - 159m]
        );
        track(:first:station, lubstr[:mal.a, :mal.f]);
        marker(:de.bf :right, lubstr[:mal]);
        station(:bottom, lubstr[:mal] >> 1.4sh,
            span(:bold, "Malchin"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:removed, "6782: "),
                    span(:removed, "6783: ")
                ),
                vbox(:right:top,
                    span(:open, "156,"),
                    span(:removed, "27,"),
                    span(:removed, "0,")
                ),
                vbox(:left:top,
                    span(:open, "31"),
                    span(:removed, "60"),
                    span(:removed, "00")
                )
            )
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:mal.f, :leu - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:mal + 1.7km], "1122");
    }


    with link = "point.de.Leuschentin" {
        track(:first:station, lubstr[:leu - 1sw, :leu + 1sw]);
        with layer = -1 marker(:de.bk :closed :left, lubstr[:leu]);
        with layer = -2 marker(:de.bf :gone :left, lubstr[:leu]);
        station(:right :closed, lubstr[:leu + 0.4sw] << 1.4sh,
            "Leutschentin", "158,95"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:leu + 1sw, :sar - 1sw]);
    }


    with link = "point.de.Scharpzow" {
        track(:first:station, lubstr[:sar - 1sw, :sar + 1sw]);
        with layer = -1 marker(:de.bbf :closed :left, lubstr[:sar]);
        station(:top :closed, lubstr[:sar] << 1.2sh,
            "Scharpzow", "162,30"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:sar + 1sw, :sta - 1sw]);
    }


    with link = "point.de.Reuterstadt-Stavenhagen" {
        track(:first:station, lubstr[:sta - 1sw, :sta + 1sw]);
        marker(:de.bf :right, lubstr[:sta]);
        station(:left, lubstr[:sta + 1sw] >> 1.8sh,
            "Reuterstadt Stavenhagen", "167,51"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:sta + 1sw, :grw - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:sta + 3.1km], "1122");
    }


    with link = "point.de.Grischow-Meckl" {
        track(:first:station, lubstr[:grw - 1sw, :grw + 1sw]);
        marker(:de.bf :right, lubstr[:grw]);
        station(:left, lubstr[:grw + 1.5sw] >> 1.8sh,
            hbox(:center:base,
                span(:regular, "Grischow "),
                span(:light, "(Meckl)")
            ),
            "173,74"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:grw + 1sw, :kas - 1sw]);
    }


    with link = "point.de.Kastorf-Meckl" {
        track(:first:station, lubstr[:kas - 1sw, :kas + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:kas]);
        station(:left :removed, lubstr[:kas + 0.4sw] >> 1.4sh,
            hbox(:center:base,
                span(:regular, "Kastorf "),
                span(:light, "(Meckl)")
            ),
            "178,98"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:kas + 1sw, :kee - 1sw]);
    }


    with link = "point.de.Kleeth" {
        track(:first:station, lubstr[:kee - 1sw, :kee + 1sw]);
        marker(:de.bf :right, lubstr[:kee]);
        station(:left, lubstr[:kee + 0.4sw] >> 1.6sh,
            "Kleeth", "178,98"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:kee + 1sw, :mol - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:kee + 1.8km], "1122");
    }


    with link = "point.de.Mölln-Meckl" {
        track(:first:station, lubstr[:mol - 1sw, :mol + 1sw]);
        marker(:de.hp :right, lubstr[:mol]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:mol]);
        station(:left, lubstr[:mol + 0.3sw] >> 1.8sh,
            hbox(:center:base,
                span(:regular, "Mölln "),
                span(:light, "(Meckl)")
            ),
            "186,95"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:mol + 1sw, :blh - 1sw]);
    }


    with link = "point.de.Blankenhof" {
        track(:first:station, lubstr[:blh - 1sw, :blh + 1sw]);
        marker(:de.bf :right, lubstr[:blh]);
        station(:bottom, lubstr[:blh] >> 1.4sh,
            "Blankenhof", "191,03"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:blh + 1sw, :wei - 1sw]);
    }


    with link = "point.de.Weitin" {
        track(:first:station, lubstr[:wei - 1sw, :wei + 1sw]);
        with layer = -1 marker(:de.bbf :closed :left, lubstr[:wei]);
        station(:top :closed, lubstr[:wei] << 1.6sh,
            "Weitin", "196,8"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:wei + 1sw, :nbr.a]);
        with layer = 1 line_badge(:open, lubstr[:wei + 1.6km], "1122");
    }


    with link = "point.de.Neubrandenburg" {
        track(:first:station, lubstr[:nbr.a, :nbr.b1]);
        track(:first:station, lubstr[:nbr.b2, :nbr.b1] >> 1dt);
        track(:second:station, lubstr[:nbr.b2, :nbr - 0.5sw] >> 2dt);
        marker(:de.bf :right, lubstr[:nbr] >> 1dt);
        station(:bottom, lubstr[:nbr] >> 1dt >> 1.2sh,
            span(:bold, "Neubrandenburg"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6088: "),
                    span(:closed, "6756: ")
                ),
                vbox(:right:top,
                    span(:open, "200,"),
                    span(:open, "133,"),
                    span(:closed, "0,")
                ),
                vbox(:left:top,
                    span(:open, "94"),
                    span(:open, "69"),
                    span(:closed, "00")
                )
            )
        );
    }

    with link = "point.de.Neubrandenburg-Gbf" {
        track(:first:station, lubstr[:nbr.b1, :nbr.f]);
        track(:first:station, lubstr[:nbr.b1, :anst] >> 1dt);
        marker(:de.bft :left, lubstr[:nbg]);
        station(:top, lubstr[:nbg] << 1.2sh,
            "Neubrandenburg Gbf",
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6088: ")
                ),
                vbox(:center:top,
                    span(:open, "201,63"),
                    span(:open, "??")
                )
            )
        );

    }


    with link = "line.de.1122" {
        track(:first, lubstr[:nbr.f, :kus - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:kus - 1.4km], "1122");
    }


    with link = "point.de.Küssow" {
        track(:first:station, lubstr[:kus - 1sw, :kus + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:kus]);
        station(:bottom :removed, lubstr[:kus] >> 1.6sh,
            "Küssow", "??"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:kus + 1sw, :spo - 1sw]);
    }


    with link = "point.de.Sponholz" {
        track(:first:station, lubstr[:spo - 1sw, :spo + 1sw]);
        marker(:de.bf :right, lubstr[:spo]);
        station(:bottom, lubstr[:spo] >> 1.2sh,
            "Sponholz", "208,05"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:kus + 1sw, :spo - 1sw]);
    }


    with link = "point.de.Sponholz" {
        track(:first:station, lubstr[:spo - 1sw, :spo + 1sw]);
        marker(:de.bf :right, lubstr[:spo]);
        station(:bottom, lubstr[:spo] >> 1.2sh,
            "Sponholz", "208,05"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:spo + 1sw, :ruh - 1sw]);
    }


    with link = "point.de.Rühlow" {
        track(:first:station, lubstr[:ruh - 1sw, :ruh + 1sw]);
        with layer = -1 marker(:de.hp :closed :left, lubstr[:ruh]);
        with layer = -2 marker(:de.bf :gone :left, lubstr[:ruh]);
        station(:top :closed, lubstr[:ruh] << 1.6sh,
            "Rühlow", "214,62"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:ruh + 1sw, :nee - 1sw]);
    }


    with link = "point.de.Neetzka" {
        track(:first:station, lubstr[:nee - 1sw, :nee + 1sw]);
        marker(:de.hp :right, lubstr[:nee]);
        with layer = -1 marker(:de.bf :removed :right, lubstr[:nee]);
        station(:bottom, lubstr[:nee] >> 1.6sh,
            "Neetzka", "217,87"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:nee + 1sw, :oer - 1sw]);
        with layer = 1 line_badge(:open, lubstr[:nee + 2.5km], "1122");
    }


    with link = "point.de.Oertzenhof" {
        track(:first:station, lubstr[:oer - 1sw, :oer + 1sw]);
        marker(:de.bf :right, lubstr[:oer]);
        station(:bottom, lubstr[:oer] >> 1.6sh,
            "Oertzenhof", "222,97"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:oer + 1sw, :kre - 1sw]);
    }


    with link = "point.de.Kreckow" {
        track(:first:station, lubstr[:kre - 1sw, :kre + 1sw]);
        with layer = -1 marker(:de.bbf :closed :left, lubstr[:kre]);
        station(:top :closed, lubstr[:kre] << 1.4sh,
            "Kreckow", "227,29"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:kre + 1sw, :gda - 1sw]);
    }


    with link = "point.de.Groß-Daberkow-Hp" {
        track(:first:station, lubstr[:gda - 1sw, :gda + 1sw]);
        marker(:de.hp :right, lubstr[:gda]);
        station(:bottom, lubstr[:gda] >> 1.4sh,
            "Groß Daberkow", "228,35"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:gda + 1sw, :lau - 1sw]);
    }


    with link = "point.de.Lauenhagen" {
        track(:first:station, lubstr[:lau - 1sw, :lau + 1sw]);
        with layer = -1 marker(:de.bbf :closed :left, lubstr[:lau]);
        station(:top :closed, lubstr[:lau] << 1.6sh,
            "Lauenhagen", "230,97"
        );
    }


    with link = "line.de.1122" {
        track(:first, lubstr[:lau + 1sw, :stw - 0.5sw]);
        with layer = 1 line_badge(:open, lubstr[:lau + 1.8km], "1122");
    }


    with link = "point.de.Strasburg-Uckerm-Strw" {
        track(:first:station, lubstr[:stw - 0.5sw, :stw + 0.5sw]);
        marker(:statdt :right, lubstr[:stw]);
        marker(:statdt :left, lubstr[:stw]);
        label(lubstr[:stw] >> 2dt,
            hbox(:center:top :xsmall,
                vbox(:right:top,
                    span(:open, "1122: "),
                    span(:open, "6327: ")
                ),
                vbox(:right:top,
                    span(:open, "234,"),
                    span(:open, "61,")
                ),
                vbox(:left:top,
                    span(:open, "148"),
                    span(:open, "109")
                )
            )
        );
    }
}

