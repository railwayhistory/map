# DE 1115.  Lübeck-Dänischburg (ausschl.) - Lübeck Herrenwyk
#
let danher = path("path.de.1115");
let waltra = path("path.de.1113");

with detail = [4, 5] {
    with link = "point.de.Lübeck-Dänischburg-Gbf" {
        track(:second:station, waltra[:daa + 1sw, :aher] >> 1.5dt);
        marker(:de.bft :right, waltra[:dag] >> 1.5dt);

        with detail = 4 {
            station(:right, waltra[:dag - 1sw] >> 1.5dt >> 2.2sh,
                "L.-D. Gbf", "1115: ??"
            );
        }
        with detail = 5 {
            station(:bottom, waltra[:dag] >> 1.5dt >> 1.2sh,
                "L.-D. Gbf", "1115: ??"
            );
        }
    }


    with link = "line.de.1115" {
        track(:private,
                waltra[:aher, :aher + 1m] >> 1.5dt
            ..  danher[:a + 200m, :fle - 0.5sw]
        );
        with layer = 1 line_badge(:open, danher[:a + 1.5km], "1115");
    }


    with link = "point.de.Lübeck-Herrenwyk-Flenderwerke" {
        track(:private:station, danher[:fle - 0.5sw, :fle + 0.5sw]);
        track(:private:station,
                danher[:fle - 1m, :fle]
            --  danher[:fle + 60m, :fle + 120m] >> 1dt
        );
        marker(:statdt :right, danher[:fle]);
        marker(:statdt :left, danher[:fle]);
        label(danher[:fle] >> 1.5dt,
            hbox(:right:top :xsmall,
                vbox(:right:top,
                    span(:open, "1115: 3,17"),
                    span(:open, "1116: 3,17")
                )
            )
        );
    }


    with link = "line.de.1115" {
        track(:private, danher[:fle + 0.5sw, :her - 1sw]);
        with layer = 1 line_badge(:open, danher[:fle + 1.4km], "1115");
    }


    with link = "point.de.Lübeck-Herrenwyk" {
        track(:private:station, danher[:her - 1sw, :her + 1sw]);
        marker(:de.anst :open :right, danher[:her]);
        station(:right :open, danher[:her - 0.5sw] << 1dt,
            "Lübeck-Herrenwyk", "5,50"
        );
    }


    with link = "line.de.1115" {
        track(:private, danher[:her + 1sw, :f]);
    }
}

