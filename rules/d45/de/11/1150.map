# DE 1150.  Lüneburg (ausschl.) - Büchen (ausschl.)
#
let lunbuc = path("path.de.1150");

with detail = [4, 5] {
    with link = "line.de.1150" {
        track(:first, lunbuc[:aa, :jag - 1sw]);
        with layer = 1 line_badge(:open, lunbuc[:jag - 1.0km], "1150");
    }


    with link = "point.de.Jäger" {
        track(:first:station, lunbuc[:jag - 1sw, :jag + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, lunbuc[:jag]);
        with layer = -1 marker(:de.anst :removed :left, lunbuc[:jag]);
        station(:right :removed, lunbuc[:jag - 0.2sw] >> 2dt,
            "Jäger", "134,44"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:jag + 1sw, :ade - 1sw]);
    }


    with link = "point.de.Adendorf" {
        track(:first:station, lunbuc[:ade - 1sw, :ade + 1sw]);
        marker(:de.bf :left, lunbuc[:ade]);
        station(:left, lunbuc[:ade - 0.4sw] << 1.3sh,
            "Adendorf", "135,93"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:ade + 1sw, :ech - 1sw]);
    }


    with link = "point.de.Echem" {
        track(:first:station, lunbuc[:ech - 1sw, :ech + 1sw]);
        with layer = -1 track(:second:station :removed,
	            lunbuc[:ech - 0.5sw - 1.1dl, :ech - 0.5sw - 1dl]
            --  lunbuc[:ech - 0.5sw, :ech + 1sw] >> 1dt
        );

        marker(:de.hp :left, lunbuc[:ech]);
        with layer = -1 marker(:de.bf :removed :left, lunbuc[:ech]);
        station(:left :right_align, lunbuc[:ech - 0.4sw] << 1.5sh,
            span(:bold, "Echem"), "1150: 135,93 "
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:ech + 1sw, :hoh - 1sw]);
        with layer = 1 line_badge(:open, lunbuc[:hoh - 1.3km], "1150");
    }


    with link = "point.de.Hohnstorf" {
        track(:first:station, lunbuc[:hoh - 1sw, :hoh + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, lunbuc[:hoh]);
        station(:left :removed, lunbuc[:hoh - 0.4sw] << 1.5sh,
            "Hohnstorf", "147,85"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:hoh + 1sw, :lag - 0.5sw]);
    }


    with link = "point.de.Lauenburg-Elbe-LGr" {
        track(:first:station, lunbuc[:lag - 0.5sw, :lag + 0.5sw]);
        marker(:de.lgr :right, lunbuc[:lag]);
        marker(:de.lgr :left, lunbuc[:lag]);
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:lag + 0.5sw, :lau - 1sw]);
    }


    with link = "point.de.Lauenburg-Elbe" {
        track(:first:station, lunbuc[:lau - 1sw, :lau + 1sw]);
        marker(:de.bf :left, lunbuc[:lau]);
        station(:top, lunbuc[:lau] << 1.5sh,
            hbox(:center:base,
                span(:regular, "Lauenburg "),
                span(:light, "(Elbe)")
            ),
            "148,54"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:lau + 1sw, :dak - 0.5sw]);
    }


    with link = "point.de.Dalldorf-Kreuz" {
        track(:first:station, lunbuc[:dak - 0.5sw, :dak + 0.5sw]);
        with layer = -1 marker(:de.bk :removed :left, lunbuc[:dak]);
        station(:left :removed, lunbuc[:dak - 0.4sw] << 1.3sh,
            "Dalldorf Kreuz",
            "155,19"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:dak + 0.5sw, :dan - 1sw]);
    }


    with link = "point.de.Dalldorf" {
        track(:first:station, lunbuc[:dan - 1sw, :dal + 1sw]);
        marker(:de.bf :right, lunbuc[:dan]);
        station(:right :left_align, lunbuc[:dan - 0.3sw] >> 1.5sh,
            "Dalldorf",
            hbox(:left:base,
                span(:open, "155,90 "),
                span(:removed, "← 156,66")
            )
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:dal + 1sw, :wit - 1sw]);
    }


    with link = "point.de.Witzeeze" {
        track(:first:station, lunbuc[:wit - 1sw, :wit + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, lunbuc[:wit]);
        station(:left :removed, lunbuc[:wit - 0.4sw] << 1dt,
            "Witzeeze", "158,75"
        );
    }


    with link = "line.de.1150" {
        track(:first, lunbuc[:wit + 1sw, :buc.a]);
        with layer = 1 line_badge(:open, lunbuc[:wit + 1.3km], "1150");
    }
}

