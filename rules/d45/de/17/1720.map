# DE 1720.  Lehrte - Cuxhaven
#
let lehcux = path("path.de.1720");

with detail = [4, 5] {
    # point.de.Lehrte: de.1730

    
    with link = "point.de.Lehrte-Nord" {
        # Gl. 43
        track(:station :cat,
                lehcux[:leh.lnf - 100m - 1.1dl, :leh.lnf - 100m - 1dl] << 0.5dt
            --  lehcux[:leh.lnf - 100m, :leh.lnf] << 1.5dt
        );

        # Gl. 150
        track(:station,
                lehcux[:len - 251m, :len - 250m] << 0.5dt
            --  lehcux[:len - 250m + 1dl, :len + 80m] << 1.5dt
        );
            
        # Gl. 151/153
        track(:first:station :double :cat, lehcux[:leh + 400m, :leh.f]);

        # Gl. 217
        track(:station :cat,
                lehcux[:leh.lnf + 100m - 1.1dl, :leh.lnf + 100m - 1dl] << 1.5dt
            --  lehcux[:leh.lnf + 100m + 1dl, :leh.f - 100m - 7dl] << 3.5dt
            --  lehcux[:leh.f - 100m - 6dl, :leh.f - 100m - 5.9dl] << 2.5dt
        );

        # Gl. 219
        track(:station :cat,
                lehcux[:leh.lnf + 100m, :leh.f - 100m - 4dl] << 2.5dt
            --  lehcux[:leh.f - 100m - 2dl, :leh.f - 100m - 1.9dl] << 0.5dt
        );

        # Gl. 220
        track(:station :cat,
                lehcux[:leh.lnf + 100m + 0.9dl, :leh.lnf + 100m + 1dl] << 2.5dt
            --  lehcux[:leh.lnf + 100m + 2dl, :leh.f - 100m - 6dl] << 1.5dt
            --  lehcux[:leh.f - 100m - 5dl, :leh.f - 100m - 4.9dl] << 2.5dt
        );



        # Gl. 291
        track(:first:station :cat,
                lehcux[:leh.lnf - 4dl, :leh.lnf - 2dl] << 3.5dt
            --  lehcux[:leh.lnf, :leh.lnf + 100m] << 1.5dt
            --  lehcux[:leh.lnf + 100m + 1dl, :leh.lnf + 100m + 1.1dl] << 0.5dt
        );

        # Gl. 292
        track(:first:station :cat,
                lehcux[:leh.lnf - 4dl, :leh.lnf - 3dl] << 2.5dt
            --  lehcux[:leh.lnf - 1dl, :leh.lnf - 0.9dl] << 0.5dt
        );

        # W239 - W240
        track(:first:station :cat,
                lehcux[:leh.lnf + 100m - 1dl] << 0.5dt
            --  lehcux[:leh.lnf + 100m] >> 0.5dt
        );

        # W258 - W259
        track(:station :cat,
                lehcux[:leh.f - 100m - 1dl] << 0.5dt
            --  lehcux[:leh.f - 100m] >> 0.5dt
        );

        marker(:de.bft :right, lehcux[:len] >> 0.5dt);
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:leh.f, :ali - 1sw]);
    }


    with link = "point.de.Aligse" {
        track(:first:station :double :cat, lehcux[:ali - 1sw, :ali + 1sw]);
        marker(:de.hp :left, lehcux[:ali] << 0.5dt);
        with layer = -1 marker(
            :de.bf :removed :left, lehcux[:ali - 85m] << 0.5dt
        );
        station(:left :right_align, lehcux[:ali - 0.4sw] << 0.5dt << 1.4sw,
            "Aligse",
            hbox(:right:base, "19,19 ", span(:removed, "(19,10) "))
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ali + 1sw, :bur - 300m]);
        with layer = 1 line_badge(:open, lehcux[:ali + 2.5km], "1720");
    }


    with link = "point.de.Burgdorf-Han" {
        track(:first:station :double :cat, lehcux[:bur - 300m, :bur.f]);
        
        track(:station :cat,
                lehcux[:bur + 300m - 2dl] << 0.5dt
            --  lehcux[:bur + 300m - 1dl] >> 0.5dt
        );
        track(:station :cat,
                lehcux[:bur + 299m, :bur + 300m] >> 0.5dt
            --  lehcux[:bur + 300m + 1dl, :bur.f - 100m - 3dl] >> 1.5dt
            --  lehcux[:bur.f - 100m - 2dl, :bur.f - 100m - 1.9dl] >> 0.5dt
        );
        track(:station :cat,
                lehcux[:bur.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:bur.f - 100m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:bur] >> 0.5dt);
        station(:left, lehcux[:bur - 0.4sw] << 2.0dt,
            hbox(:right:base, span(:bold, "Burgdorf "), "(Han)"),
            "1720: 24,50"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bur.f, :otz - 1sw]);
        with layer = 1 line_badge(:open, lehcux[:otz - 1.8km], "1720");
    }


    with link = "point.de.Otze" {
        track(:first:station :double :cat, lehcux[:otz - 1sw, :otz + 1sw]);
        marker(:de.hp :left, lehcux[:otz] << 0.5dt);
        with layer = -1 marker(
            :de.bf :removed :left, lehcux[:otz + 40m] << 0.5dt
        );
        station(:left :right_align, lehcux[:otz - 0.4sw] << 0.5dt << 1.4sw,
            "Otze",
            hbox(:right:base, "28,89 ", span(:removed, "(28,93) "))
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:otz + 1sw, :ehl - 280m]);
    }


    with link = "point.de.Ehlershausen" {
        # Gl. 1/2
        track(:first:station :double :cat, lehcux[:ehl - 280m, :ehl.f]);

        # Gl. 4
        track(:station :cat, lehcux[:ehl + 160m, :ehl.f] >> 1.5dt);

        # Gl. 8
        track(:station :cat,
                lehcux[:ehl + 300m + 0.9dl, :ehl + 300m + 1dl] >> 1.5dt
            --  lehcux[:ehl + 300m + 2dl, :ehl.f - 100m - 5dl] >> 2.5dt
            --  lehcux[:ehl.f - 100m - 4dl, :ehl.f - 100m - 3.9dl] >> 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:ehl - 40m - 1dl] << 0.5dt
            --  lehcux[:ehl - 40m] >> 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:ehl + 300m - 1dl] >> 0.5dt
            --  lehcux[:ehl + 300m] >> 1.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:ehl.f - 100m - 3dl] >> 1.5dt
            --  lehcux[:ehl.f - 100m - 2dl] >> 0.5dt
        );

        # W15 - W16
        track(:station :cat,
                lehcux[:ehl.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:ehl.f - 100m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:ehl] >> 0.5dt);
        station(:right, lehcux[:ehl - 0.4sw] >> 0.5dt >> 1.5sw,
            "Ehlershausen",
            hbox(:center:base, "32,99 ", span(:removed, "(33,01)"))
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ehl.f, :cel.a]);
        with layer = 1 line_badge(:open, lehcux[:cel.a - 2.0km], "1720");
    }


    with link = "point.de.Celle-Gbf" {
        let cela = path("path.de.1720.cel.a");

        # Gl. 12
        track(:station :cat,
                cela[:cel.a + 300m + 4.9dl, :cel.a + 300m + 5dl] >> 4.5dt
            --  cela[:cel.a + 300m + 7dl, :cel.a + 300m + 10dl] >> 6.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m - 1dl] >> 7.5dt
            --  lehcux[:ceg + 250m + 4dl, :ceg + 250m + 4.1dl] >> 2.5dt
        );

        # Gl. 14
        track(:station :cat,
                cela[:cel.a + 300m + 7.9dl, :cel.a + 300m + 8dl] >> 6.5dt
            --  cela[:cel.a + 300m + 9dl, :cel.a + 300m + 10dl] >> 5.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m] >> 6.5dt
        );

        # Gl. 17
        track(:station :cat,
                cela[:cel.a + 300m, :cel.a + 300m + 10dl] >> 4.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m + 1dl] >> 5.5dt
        );

        # Gl. 20
        track(:station :cat,
                cela[:cel.a + 300m + 7.9dl, :cel.a + 300m + 8dl] >> 2.5dt
            --  cela[:cel.a + 300m + 9dl, :cel.a + 300m + 10dl] >> 3.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m + 2dl] >> 4.5dt
        );

        # Gl. 23
        track(:station :cat,
                cela[:cel.a + 150m, :cel.a + 600m] >> 2.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m + 3dl] >> 3.5dt
        );

        # Gl. 24 (Str. 1720 R)
        track(:first:station :cat,
                cela[:cel.a, :cel.a + 0.1dl] >> 0.5dt
            ..  cela[:cel.a + 300m, :cel.a + 600m] >> 1.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m + 2dl] >> 2.5dt
        );

        # Gl. 25
        track(:station :cat,
                cela[:cel.a + 300m + 2dl, :cel.a + 600m] >> 0.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m + 2dl] >> 1.5dt
        );

        # Gl. 26
        track(:first:station :cat,
                cela[:cel.a, :cel.a + 600m] << 1.5dt
            ..  lehcux[:ceg - 250m, :ceg + 450m] >> 0.5dt
        );

        # Gl. 27
        track(:first:station :cat,
                cela[:cel.a, :cel.a + 600m] << 2.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m] << 0.5dt
        );

        # Gl. 28
        track(:station :cat,
                cela[:cel.a + 300m + 6.9dl, :cel.a + 300m + 7dl] << 2.5dt
            --  cela[:cel.a + 300m + 8dl, :cel.a + 300m + 9dl] << 3.5dt
            ..  lehcux[:ceg - 250m, :ceg + 250m] << 2.5dt
        );

        # Str. 1720 L
        track(:first:station :cat,
                cela[:cel.a, :cel.a + 300m + 4dl] << 0.5dt
            --  cela[:cel.a + 300m + 6dl, :cel.a + 300m + 6.1dl] << 2.5dt
        );

        # W1 - W2
        track(:station :cat,
                cela[:cel.a + 300m - 3dl] << 2.5dt
            --  cela[:cel.a + 300m - 2dl] << 1.5dt
        );

        # W3 - W4
        track(:station :cat,
                cela[:cel.a + 300m - 1dl] << 1.5dt
            --  cela[:cel.a + 300m] << 0.5dt
        );

        # W5 - W7
        track(:station :cat,
                cela[:cel.a + 300m + 1dl] << 0.5dt
            --  cela[:cel.a + 300m + 3dl] >> 1.5dt
        );

        # W10 - W11
        track(:station :cat,
                cela[:cel.a + 300m + 4dl] >> 1.5dt
            --  cela[:cel.a + 300m + 5dl] >> 2.5dt
        );

        # W16 - W80
        track(:station :cat,
                cela[:cel.a + 300m + 6dl] >> 2.5dt
            --  cela[:cel.a + 300m + 8dl] >> 4.5dt
        );

        # W108 - W103
        track(:station :cat,
                lehcux[:ceg + 250m] >> 1.5dt
            --  lehcux[:ceg + 250m + 1dl] >> 0.5dt
        );

        marker(:de.bft :right, lehcux[:ceg] >> 7.5dt);
        station(:right, lehcux[:ceg - 0.2sw] >> 7.5dt >> 1.4sw,
            "Celle Gbf", "??"
        );
    }


    with link = "point.de.Celle" {
        # Gl. 1
        track(:station :cat,
                lehcux[:ceg + 250m + 1dl, :cel + 0.6sw] >> 4.5dt
            --  lehcux[:cel + 0.6sw + 2dl, :cel + 0.6sw + 2.1dl] >> 2.5dt
        );

        # Gl. 2
        track(:station :cat,
                lehcux[:ceg + 250m + 3dl, :cel + 0.4sw] >> 3.5dt
        );

        # Gl. 3
        track(:station :cat,
                lehcux[:ceg + 250m + 4dl, :cel + 0.6sw + 2dl] >> 2.5dt
            --  lehcux[:cel + 0.6sw + 3dl, :cel + 0.6sw + 3.1dl] >> 1.5dt
        );

        # Gl. 4
        track(:first:station :cat,
                lehcux[:ceg + 250m + 1.9dl, :ceg + 250m + 2dl] >> 2.5dt
            --  lehcux[:ceg + 250m + 3dl, :cel] >> 1.5dt
        );
        track(:second:station :cat,
                lehcux[:cel, :cel + 350m] >> 1.5dt
        );

        # Gl. 5
        track(:first:station :cat,
                lehcux[:ceg + 450m, :cel.f] >> 0.5dt
        );

        # Gl. 6
        track(:first:station :cat,
                lehcux[:ceg + 250m, :cel.f] << 0.5dt
        );

        # Gl. 7
        track(:station :cat,
                lehcux[:ceg + 250m - 0.1dl, :ceg + 250m] << 2.5dt
            --  lehcux[:ceg + 250m + 1dl, :cel + 0.6sw + 3dl] << 1.5dt
        );

        # Gl. 8
        track(:station :cat,
                lehcux[:ceg + 250m, :cel + 0.6sw] << 2.5dt
            --  lehcux[:cel + 0.6sw + 2dl, :cel + 0.6sw + 2.1dl] << 0.5dt
        );

        # W102 - W107
        track(:station :cat,
                lehcux[:ceg + 250m + 3dl] >> 1.5dt
            --  lehcux[:ceg + 250m + 4dl] >> 0.5dt
        );

        # W104 - W105
        track(:station :cat,
                lehcux[:ceg + 250m + 2dl] >> 0.5dt
            --  lehcux[:ceg + 250m + 3dl] << 0.5dt
        );

        # W110 - W114
        track(:station :cat,
                lehcux[:ceg + 250m + 4dl] << 0.5dt
            --  lehcux[:ceg + 250m + 5dl] << 1.5dt
        );

        # W151 - W153
        track(:station :cat,
                lehcux[:ceg + 250m + 5dl] >> 2.5dt
            --  lehcux[:ceg + 250m + 6dl] >> 1.5dt
        );

        # W152 - W155
        track(:station :cat,
                lehcux[:ceg + 250m + 6dl] >> 2.5dt
            --  lehcux[:ceg + 250m + 7dl] >> 3.5dt
        );

        # W203 - W208
        track(:second:station :cat,
                lehcux[:cel + 350m - 2dl] >> 1.5dt
            --  lehcux[:cel + 350m - 1dl] >> 0.5dt
        );

        # W211 - W212
        track(:station :cat,
                lehcux[:cel.f - 100m - 3dl] << 0.5dt
            --  lehcux[:cel.f - 100m - 2dl] >> 0.5dt
        );

        # W213 - W214
        track(:station :cat,
                lehcux[:cel.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:cel.f - 100m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:cel] >> 4.5dt);
        label(lehcux[:cel] >> 4.5dt >> 1.4sw,
            hbox(:left:middle,
                span(:medium:bold, "Celle  "),
                hbox(:left:middle :xsmall,
                    vbox(:right:top,
                        "1710: ", "1720: ",
                        span(:removed, "1721: "),
                        span(:removed, "1724: ")
                    ),
                    vbox(:right:top,
                        "41,", "44,",
                        span(:removed, "0,"), span(:removed, "43,")
                    ),
                    vbox(:left:top,
                        "22", "05",
                        span(:removed, "00"), span(:removed, "38")
                    )
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:cel.f, :gar.a]);
        with layer = 1 line_badge(:open, lehcux[:cel.f + 2.0km], "1720");
    }


    with link = "point.de.Garßen" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:gar.a, :gar.f] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:gar.a, :gar.f] >> 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:gar.a + 100m + 2dl, :gar.f - 100m - 1dl] >> 1.5dt
        );

        # Gl. 4
        track(:station :cat,
                lehcux[:gar.a + 100m + 1dl, :gar.f - 100m - 2dl] << 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:gar.a + 100m] >> 0.5dt
            --  lehcux[:gar.a + 100m + 1dl] << 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:gar.a + 100m + 2dl] << 0.5dt
            --  lehcux[:gar.a + 100m + 3dl] << 1.5dt
        );

        # W9 - W10
        track(:station :cat,
                lehcux[:gar.a + 100m + 3dl] >> 0.5dt
            --  lehcux[:gar.a + 100m + 4dl] >> 1.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:gar.f - 100m - 4dl] << 1.5dt
            --  lehcux[:gar.f - 100m - 3dl] << 0.5dt
        );

        # W17 - W18
        track(:station :cat,
                lehcux[:gar.f - 100m - 3dl] >> 1.5dt
            --  lehcux[:gar.f - 100m - 2dl] >> 0.5dt
        );

        # W15 - W16
        track(:station :cat,
                lehcux[:gar.f - 100m - 1dl] << 0.5dt
            --  lehcux[:gar.f - 100m] >> 0.5dt
        );

        marker(:de.bf :left, lehcux[:gar] << 1.5dt);
        station(:right, lehcux[:gar - 0.4sw] >> 4.0dt,
            "Garßen", "50,86"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:gar.f, :ese.a]);
    }


    with link = "point.de.Eschede" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:ese.a, :ese.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :car, lehcux[:ese.a, :ese.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:ese.a + 100m + 3dl, :ese + 1dl] << 1.5dt
        );

        # Gl. 4
        track(:station :cat,
                lehcux[:ese.a + 100m + 1dl, :ese - 2dl] >> 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:ese.a + 100m] << 0.5dt
            --  lehcux[:ese.a + 100m + 1dl] >> 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:ese.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:ese.a + 100m + 3dl] >> 1.5dt
        );

        # W5 - W6
        track(:station :cat,
                lehcux[:ese.a + 100m + 4dl] << 0.5dt
            --  lehcux[:ese.a + 100m + 5dl] << 1.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:ese - 4dl] >> 1.5dt
            --  lehcux[:ese - 3dl] >> 0.5dt
        );

        # W15 - W16
        track(:station :cat,
                lehcux[:ese - 1dl] << 1.5dt
            --  lehcux[:ese] << 0.5dt
        );

        # W17 - W18
        track(:station :cat,
                lehcux[:ese - 2dl] >> 0.5dt
            --  lehcux[:ese - 1dl] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:ese + 1dl] >> 0.5dt);
        station(:right, lehcux[:ese - 0.1sw] >> 0.5dt >> 1.8sw,
            "Eschede", "67,71"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ese.f, :ulu.a]);
        with layer = 1 line_badge(:open, lehcux[:ese + 6.0km], "1720");
    }


    with link = "point.de.Unterlüß" {
        # Gl. 5
        track(:station :cat,
                lehcux[:ulu.a + 100m + 4.9dl, :ulu.a + 100m + 5dl] << 1.5dt
            --  lehcux[:ulu.a + 100m + 6dl, :ulu + 0.5sw] << 2.5dt
            ..  lehcux[:ulu + 550m, :ulu + 720m - 1dl] << 3.5dt
            --  lehcux[:ulu + 720m, :ulu + 721m] << 2.5dt
        );

        # Gl. 6
        track(:station :cat,
                lehcux[:ulu.a + 100m + 2dl, :ulu + 0.5sw] << 1.5dt
            --  lehcux[:ulu + 550m, :ulu + 721m] << 2.5dt
            ..  lehcux[:ulu.f - 100m - 4dl, :ulu.f - 100m - 1dl] << 1.5dt
        );

        # Gl. 7 (Str. 1720 L)
        track(:first:station :cat, lehcux[:ulu.a, :ulu.f] << 0.5dt);

        # Gl. 8 (Str. 1720 R)
        track(:first:station :cat, lehcux[:ulu.a, :ulu.f] >> 0.5dt);

        # Gl. 9
        track(:station :cat,
                lehcux[:ulu.a + 100m + 1dl, :ulu.f - 100m] >> 1.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:ulu.a + 100m] >> 0.5dt
            --  lehcux[:ulu.a + 100m + 1dl] << 0.5dt
        );

        # W5 - W6
        track(:station :cat,
                lehcux[:ulu.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:ulu.a + 100m + 3dl] >> 1.5dt
        );

        # W7 - W8
        track(:station :cat,
                lehcux[:ulu.a + 100m + 3dl] << 0.5dt
            --  lehcux[:ulu.a + 100m + 4dl] << 1.5dt
        );

        # W29 - W30
        track(:station :cat,
                lehcux[:ulu.f - 100m - 3dl] << 1.5dt
            --  lehcux[:ulu.f - 100m - 2dl] << 0.5dt
        );

        # W31 - W32
        track(:station :cat,
                lehcux[:ulu.f - 100m - 2dl] >> 1.5dt
            --  lehcux[:ulu.f - 100m - 1dl] >> 0.5dt
        );

        # W33 - W34
        track(:station :cat,
                lehcux[:ulu.f - 100m - 1dl] << 0.5dt
            --  lehcux[:ulu.f - 100m] >> 0.5dt
        );

        marker(:de.bf :left, lehcux[:ulu] << 2.5dt);
        with layer = -1 marker(:de.bf :removed, lehcux[:ulu + 55m] >> 1.5dt);
        station(:left, lehcux[:ulu - 0.4sw] << 2.5dt << 1.4sw,
            "Unterlüß",
            hbox(:center:base,
                "73,20 ", span(:removed, "(73,26)")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ulu.f, :sud.a]);
    }


    with link = "point.de.Suderburg" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:sud.a, :sud.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:sud.a, :sud.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:sud.a + 100m + 1dl, :sud.f - 100m - 1dl] << 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:sud.a + 100m] >> 0.5dt
            --  lehcux[:sud.a + 100m + 1dl] << 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:sud.a + 100m + 2dl] << 0.5dt
            --  lehcux[:sud.a + 100m + 3dl] << 1.5dt
        );

        # W21 - W22
        track(:station :cat,
                lehcux[:sud.f - 100m - 3dl] << 1.5dt
            --  lehcux[:sud.f - 100m - 2dl] << 0.5dt
        );

        # W23 - W24
        track(:station :cat,
                lehcux[:sud.f - 100m - 1dl] << 0.5dt
            --  lehcux[:sud.f - 100m] >> 0.5dt
        );

        marker(:de.bf :right, lehcux[:sud] >> 0.5dt);
        station(:right, lehcux[:sud - 0.3sw] >> 0.5dt >> 1.7sw,
            "Suderburg", "85,49"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:sud.f, :ksu.a]);
    }


    with link = "point.de.Klein-Süstedt" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:ksu.a, :ksu.f] << 0.5dt);

        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:ksu.a, :ksu.f] >> 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:ksu.a + 100m + 3dl, :ksu.f - 100m - 1dl] >> 1.5dt
        );

        # Gl. 4
        track(:station :cat,
                lehcux[:ksu.a + 100m + 1dl, :ksu.f - 100m + 1dl] << 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:ksu.a + 100m] << 0.5dt
            --  lehcux[:ksu.a + 100m + 1dl] >> 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:ksu.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:ksu.a + 100m + 3dl] << 0.5dt
        );

        # W5 - W6
        track(:station :cat,
                lehcux[:ksu.a + 100m + 4dl] >> 0.5dt
            --  lehcux[:ksu.a + 100m + 5dl] >> 1.5dt
        );

        # W7 - W8
        track(:station :cat,
                lehcux[:ksu.a + 100m + 4dl] << 0.5dt
            --  lehcux[:ksu.a + 100m + 5dl] << 1.5dt
        );

        # W10 - W11
        track(:station :cat,
                lehcux[:ksu.f - 100m - 3dl] >> 1.5dt
            --  lehcux[:ksu.f - 100m - 2dl] >> 0.5dt
        );

        # W12 - W13
        track(:station :cat,
                lehcux[:ksu.f - 100m - 1dl] << 1.5dt
            --  lehcux[:ksu.f - 100m] << 0.5dt
        );

        marker(:de.bbf :left, lehcux[:ksu] << 1.5dt);
        with layer = -1 marker(:de.bf :removed :left,
            lehcux[:ksu - 520m] << 1.5dt
        );
        station(:left, lehcux[:ksu - 0.3sw] << 1.5dt << 1.6sw,
            "Klein Süstedt",
            hbox(:center:base,
                "90,76 ", span(:removed, "(90,24)")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ksu.f, :uel.a]);
        with layer = -1 casing(:first :double :cat,
                lehcux[:uel.a - 600m, :uel.a]
        );

        with layer = 1 line_badge(:open, lehcux[:ksu + 2.0km], "1720");
    }


    with link = "point.de.Uelzen-Gbf" {
        let steuel = path("path.de.6899");

        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:uel.a, :uel - 220m] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:uel.a, :uel - 220m] >> 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:uel.a + 100m + 4.9dl, :uel.a + 100m + 5dl] >> 0.5dt
            --  lehcux[:uel.a + 100m + 6dl, :uel - 220m] >> 1.5dt
        );

        # Gl. 4 (Str. 6899 R)
        track(:first:station :cat,
                lehcux[:uel.a, :uel.a + 100m + 2dl] >> 1.5dt
            --  lehcux[:uel.a + 100m + 5dl, :ueg - 0.3sw - 1dl] >> 2.5dt
            --  lehcux[:ueg - 0.3sw, :ueg - 0.29sw] >> 1.5dt
        );

        # Gl. 5
        track(:station :cat,
                lehcux[:uel.a + 100m + 1dl, :uel - 260m] << 1.5dt
        );

        # Gl. 7
        track(:station :cat,
                lehcux[:uel.a + 100m + 3.9dl, :uel.a + 100m + 4dl] << 1.5dt
            --  lehcux[:uel.a + 100m + 5dl, :uel - 260m] << 2.5dt
        );

        # Gl. 8
        with layer = -1 track(:station :removed,
                steuel[:uel.a, :uel.a + 100m + 1dl] << 3.5dt
        );
        track(:station :cat,
                steuel[:uel.a + 99m, :uel.a + 100m] << 4.5dt
            --  steuel[:uel.a + 100m + 1dl, :uel - 260m] << 3.5dt
        );

        # Gl. 201
        track(:first:station :cat,
                steuel[:uel.a, :uel - 220m] << 4.5dt
        );

        # Gl. 202
        track(:station :cat,
                steuel[:uel.a + 100m + 2dl, :uel - 220m] << 5.5dt
        );

        # Gl. 203
        track(:station :cat,
                steuel[:uel.a + 100m + 1dl, :uel - 220m] << 6.5dt
        );

        # Gl. 204
        track(:station :cat,
                steuel[:uel.a + 100m + 3.9dl, :uel.a + 100m + 4dl] << 6.5dt
            --  steuel[:uel.a + 100m + 5dl, :uel - 220m] << 7.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:uel.a + 100m] >> 0.5dt
            --  lehcux[:uel.a + 100m + 1dl] << 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:uel.a + 100m + 2dl] << 0.5dt
            --  lehcux[:uel.a + 100m + 3dl] << 1.5dt
        );

        # W22 - W23
        track(:station :cat,
                lehcux[:uel.a + 100m + 1dl] >> 1.5dt
            --  lehcux[:uel.a + 100m + 2dl] >> 0.5dt
        );

        # W32 - W34
        track(:station :cat,
                steuel[:uel.a + 100m + 1dl] << 4.5dt
            --  steuel[:uel.a + 100m + 3dl] << 6.5dt
        );

        # W90 - W92
        track(:station :cat,
                lehcux[:ueg - 3dl] << 2.5dt
            --  lehcux[:ueg - 2dl] << 3.5dt
        );

        # W91 - W97
        track(:station :cat,
                lehcux[:ueg - 2dl] << 2.5dt
            --  lehcux[:ueg - 1dl] << 1.5dt
        );

        # W98 - W115
        track(:station :cat,
                lehcux[:ueg] << 1.5dt
            --  lehcux[:ueg + 1dl] << 0.5dt
        );

        # W116 - W117
        track(:station :cat,
                lehcux[:ueg + 2dl] << 0.5dt
            --  lehcux[:ueg + 3dl] >> 0.5dt
        );

        # W118 - W123
        track(:station :cat,
                lehcux[:ueg + 4dl] >> 0.5dt
            --  lehcux[:ueg + 5dl] >> 1.5dt
        );

        # W122 - W114
        track(:station :cat,
                lehcux[:ueg + 1dl] >> 1.5dt
            --  lehcux[:ueg + 2dl] >> 0.5dt
        );

        # W150 - W151
        track(:staion :cat,
                lehcux[:ueg - 1dl] << 3.5dt
            --  lehcux[:ueg] << 4.5dt
        );

        # W152 - W153
        track(:station :cat,
                lehcux[:ueg + 1dl] << 4.5dt
            --  lehcux[:ueg + 2dl] << 5.5dt
        );

        # W154 - W156
        track(:station :cat,
                lehcux[:ueg + 5dl] << 5.5dt
            --  lehcux[:ueg + 6dl] << 6.5dt
        );

        # W162 - W155
        track(:station :cat,
                lehcux[:ueg + 3dl] << 7.5dt
            --  lehcux[:ueg + 4dl] << 6.5dt
        );

        marker(:de.bft :right, lehcux[:ueg] >> 1.5dt);
        station(:right, lehcux[:ueg] >> 1.5dt >> 1.6sw,
            "Uelzen Gbf", "??"
        );
    }


    with link = "point.de.Uelzen" {
        let uellan = path("path.de.1960");

        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:uel - 220m, :uel.f] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:uel - 220m, :uel.f] >> 0.5dt);

        # Gl. 3
        track(:station :cat, lehcux[:uel - 220m, :uel.f + 250m] >> 1.5dt);

        # Gl. 104
        track(:station :cat,
                lehcux[:uel - 200m + 1dl, :uel + 180m] >> 2.5dt
            --  lehcux[:uel + 180m + 1dl, :uel + 180m + 1.1dl] >> 1.5dt
        );

        # Gl. 105
        track(:station :cat,
                lehcux[:uel - 200m - 0.1dl, :uel - 200m] >> 1.5dt
            --  lehcux[:uel - 200m + 2dl, :uel + 180m + 1dl] >> 3.5dt
            --  lehcux[:uel + 180m + 3dl, :uel + 180m + 3.1dl] >> 1.5dt
        );

        # Gl. 201
        track(:first:station :cat,
                lehcux[:uel - 220m, :uel + 150m] << 4.5dt
            ..  lehcux[:asol - 2.5dl, :asol] << 2.5dt
            ..  uellan[:aa + 4dl, :uel.f] >> 0.5dt
        );

        # Gl. 202
        track(:station :cat,
                lehcux[:uel - 220m, :uel + 150m + 0.5dl] << 5.5dt
            ..  lehcux[:asol - 2dl, :asol] << 3.5dt
            ..  uellan[:aa + 4dl, :uel.f - 100m - 1dl] << 0.5dt
            --  uellan[:uel.f - 100m, :uel.f - 99m] >> 0.5dt
        );
        with layer = -1 track(:first :removed,
                uellan[:uel.f - 100m - 1dl, :uel.f] << 0.5dt
        );

        # Gl. 203
        track(:station :cat,
                lehcux[:uel - 220m, :uel + 150m - 1dl] << 6.5dt
        );

        # Gl. 204
        track(:station :cat,
                lehcux[:uel - 220m, :uel + 150m - 2dl] << 7.5dt
            --  lehcux[:uel + 150m, :uel + 150m + 0.1dl] << 5.5dt
        );

        # W233 - W234
        track(:station :cat,
                lehcux[:asol + 250m - 1dl] >> 0.5dt
            --  lehcux[:asol + 250m] >> 1.5dt
        );

        # W238 - W239
        track(:station :cat,
                lehcux[:asol + 250m + 3dl] >> 1.5dt
            --  lehcux[:asol + 250m + 4dl] >> 0.5dt
        );

        # W240 - W241
        track(:station :cat,
                lehcux[:asol + 250m + 5dl] >> 0.5dt
            --  lehcux[:asol + 250m + 6dl] << 0.5dt
        );

        # W244 - W243
        track(:station :cat,
                lehcux[:asol + 250m + 1dl] << 0.5dt
            --  lehcux[:asol + 250m + 2dl] >> 0.5dt
        );

        # W246 - W247
        track(:station :cat,
                lehcux[:asol + 250m + 7dl] >> 0.5dt
            --  lehcux[:asol + 250m + 8dl] >> 1.5dt
        );

        # W320 - W321
        track(:station :cat,
                lehcux[:asol - 2dl] << 3.5dt
            --  lehcux[:asol - 1dl] << 2.5dt
        );

        # W322 - W245
        track(:station :cat,
                lehcux[:asol] << 2.5dt
            --  lehcux[:asol + 250m] << 0.5dt
        );

        marker(:de.inbf :left, lehcux[:uel] << 0.5dt);
        marker(:de.inbf :right, lehcux[:uel] << 4.5dt);
        label(lehcux[:uel - 0.5sw] << 9.0dt,
            hbox(:right:bottom,
                vbox(:right:bottom,
                    hbox(:right:bottom :xsmall,
                        vbox(:right:bottom,
                            "1720: ", "1960: ",
                            span(:removed, "1963: "), "6899: "
                        ),
                        vbox(:right:bottom,
                            "96,", "0,", span(:removed, "0,"), "107,"
                        ),
                        vbox(:left:bottom,
                            "44", "00", span(:removed, "00"), "47"
                        )
                    ),
                    span(:bold :medium, "Uelzen")
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:uel.f, :emm - 1sw]);
        with layer = 1 line_badge(:open, lehcux[:emm - 1.5km], "1720");
    }


    with link = "point.de.Emmendorf" {
        track(:first:station :double :cat, lehcux[:emm - 1sw, :emm + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, lehcux[:emm] >> 0.5dt);
        station(:right :removed, lehcux[:emm - 0.3sw] >> 0.5dt >> 1.5sw,
            "Emmendorf", "102,75"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:emm + 1sw, :gbevi - 0.5sw]);
    }


    with link = "point.de.Bad-Bevensen-DGr-I" {
        track(:first:station :double :cat,
                lehcux[:gbevi - 0.5sw, :gbevi + 0.5sw]
        );
        with layer = -1 {
            marker(:de.dirgr :removed :right, lehcux[:gbevi] >> 0.5dt);
            marker(:de.dirgr :removed :left, lehcux[:gbevi] << 0.5dt);
        }
        label(lehcux[:gbevi - 0.3sw] << 5.0dt,
            hbox(:right:base :removed,
                span(:small, "Han/Hmb "),
                span(:xsmall, "104,30 (104,45)")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:gbevi + 0.5sw, :bev.a]);
    }


    with link = "point.de.Bad-Bevensen" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:bev.a, :bev.f] >> 0.5dt);
    
        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:bev.a, :bev.f] << 0.5dt);

        # Gl. 5
        track(:station :cat,
                lehcux[:bev.a + 100m - 1dl, :bev - 180m - 1dl] >> 1.5dt
        );

        # Gl. 6
        track(:station :cat,
                lehcux[:bev.a + 100m - 1dl, :bev - 80m] << 1.5dt
        );

        # Gl. 7?
        track(:station,
                lehcux[:bev - 400m, :bev - 180m - 2dl] << 2.5dt
            --  lehcux[:bev - 180m - 1dl, :bev - 180m - 0.9dl] << 1.5dt
        );

        # W1 - W4
        track(:station :cat,
                lehcux[:bev.a + 100m] >> 0.5dt
            --  lehcux[:bev.a + 100m + 1dl] >> 1.5dt
        );

        # W2 - W3
        track(:station :cat,
                lehcux[:bev.a + 100m] << 0.5dt
            --  lehcux[:bev.a + 100m + 1dl] << 1.5dt
        );

        # W8 - W9
        track(:station :cat,
                lehcux[:bev - 180m - 3dl] >> 1.5dt
            --  lehcux[:bev - 180m - 2dl] >> 0.5dt
        );

        # W10 - W11
        track(:station :cat,
                lehcux[:bev - 180m - 3dl] << 1.5dt
            --  lehcux[:bev - 180m - 2dl] << 0.5dt
        );

        # W14 - W15
        track(:station :cat,
                lehcux[:bev - 180m - 1dl] >> 0.5dt
            --  lehcux[:bev - 180m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:bev] >> 0.5dt);
        station(:right, lehcux[:bev - 0.5sw] >> 0.5dt >> 1.4sw,
            "Bad Bevensen", "109,21"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bev.a, :bie.a]);
    }


    with link = "point.de.Bruchtorf" {
        with layer = -1 marker(:de.bk :removed, lehcux[:bru] >> 0.5dt);
        station(:right :removed, lehcux[:bru - 0.4sw] >> 0.5dt >> 1.2sw,
            "Bruchtorf", "113,35"
        );
    }


    with link = "point.de.Bienenbüttel" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:bie.a, :bie.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:bie.a, :bie.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:bie.a + 100m + 1dl, :bie.f - 100m - 1dl] << 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:bie.a + 100m] >> 0.5dt
            --  lehcux[:bie.a + 100m + 1dl] << 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:bie.a + 100m + 2dl] << 0.5dt
            --  lehcux[:bie.a + 100m + 3dl] << 1.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:bie.f - 100m - 3dl] << 1.5dt
            --  lehcux[:bie.f - 100m - 2dl] << 0.5dt
        );

        # W15 - W16
        track(:station :cat,
                lehcux[:bie.f - 100m - 1dl] << 0.5dt
            --  lehcux[:bie.f - 100m] >> 0.5dt
        );

        marker(:de.bf :right, lehcux[:bie] >> 0.5dt);
        station(:right, lehcux[:bie - 0.4sw] >> 0.5dt >> 1.4sw,
            "Bienenbüttel",
            hbox(:center:base,
                "118,61 ", span(:removed, "(118,63)")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bie.f, :deu.a]);
    }


    with link = "point.de.Hohenbostel" {
        with layer = -1 marker(:de.bk :removed :right, lehcux[:hbo] >> 0.5dt);
        station(:right :removed, lehcux[:hbo - 0.5sw] >> 0.5dt >> 1.3sw,
            "Hohenbostel", "122,20"
        );
    }


    with link = "point.de.Deutsch-Evern" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:deu.a, :deu.f] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:deu.a, :deu.f] >> 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:deu.a + 100m + 1dl, :deu.f - 100m - 1dl] >> 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:deu.a + 100m] << 0.5dt
            --  lehcux[:deu.a + 100m + 1dl] >> 0.5dt
        );

        # W4 - W5
        track(:station :cat,
                lehcux[:deu.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:deu.a + 100m + 3dl] >> 1.5dt
        );

        # W6 - W7
        track(:station :cat,
                lehcux[:deu.f - 100m - 3dl] >> 1.5dt
            --  lehcux[:deu.f - 100m - 2dl] >> 0.5dt
        );

        # W8 - W9
        track(:station :cat,
                lehcux[:deu.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:deu.f - 100m] << 0.5dt
        );

        marker(:de.bbf :left, lehcux[:deu] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:deu] << 0.5dt);
        station(:right, lehcux[:deu - 0.4sw] >> 3.0dt,
            "Deutsch Evern", "125,91"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:deu.f, :lun.a]);
        with layer = 1 line_badge(:open, lehcux[:deu + 2.0km], "1720");
    }


    with link = "point.de.Lüneburg-Gbf" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:lun.a, :lun.r] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:lun.a, :lun.r] >> 0.5dt);

        # Gl. 20
        track(:station :cat, lehcux[:lun.a + 100m + 2dl, :lun.r] >> 1.5dt);

        # Gl. 31
        track(:station :cat, lehcux[:lun.a + 100m + 3dl, :lun.r] << 1.5dt);

        # Gl. 33
        track(:station :cat,
                lehcux[:lun.a + 100m + 7dl, :lun.r + 150m] << 2.5dt
        );

        # Gl. 38
        track(:station :cat,
                lehcux[:lun.a + 100m + 8dl, :lun.r - 4dl] << 3.5dt
            --  lehcux[:lun.r - 1dl, :lun.r - 0.9dl] << 0.5dt
        );

        # Gl. 39
        track(:station :cat,
                lehcux[:lun.a + 100m + 5.9dl, :lun.a + 100m + 6dl] << 1.5dt
            --  lehcux[:lun.a + 100m + 9dl, :lug] << 4.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:lun.a + 100m] << 0.5dt
            --  lehcux[:lun.a + 100m + 1dl] >> 0.5dt
        );

        # W7 - W12
        track(:station :cat,
                lehcux[:lun.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:lun.a + 100m + 3dl] << 0.5dt
        );

        # W10 - W15
        track(:station :cat,
                lehcux[:lun.a + 100m + 3dl] >> 0.5dt
            --  lehcux[:lun.a + 100m + 4dl] >> 1.5dt
        );

        # W13 - W17
        track(:station :cat,
                lehcux[:lun.a + 100m + 4dl] << 0.5dt
            --  lehcux[:lun.a + 100m + 5dl] << 1.5dt
        );

        # W67 - W68
        track(:station :cat,
                lehcux[:lun.r - 6dl] >> 1.5dt
            --  lehcux[:lun.r - 5dl] >> 0.5dt
        );

        # W69 - W70
        track(:station :cat,
                lehcux[:lun.r - 4dl] >> 0.5dt
            --  lehcux[:lun.r - 3dl] << 0.5dt
        );

        marker(:de.bft :right, lehcux[:lug] >> 1.5dt);
        station(:right, lehcux[:lug - 0.3sw] >> 1.5dt >> 1.2sw,
            "Lüneburg Gbf", "??"
        );
    }

    with link = "point.de.Lüneburg" {
        # Gl. 1 (Str. 1720 L)
        track(:first:station :cat, lehcux[:lun.r, :fluw] << 0.5dt);

        # Gl. 2 (Str. 1720 R)
        track(:first:station :cat, lehcux[:lun.r, :fluw] >> 0.5dt);

        # Gl. 3 (Str. 1150)
        track(:station,
                lehcux[:lun.r, :lun.r + 4dl] >> 1.5dt
        );
        track(:first:station,
                lehcux[:lun.r + 2.9dl, :lun.r + 3dl] >> 0.5dt
            --  lehcux[:lun.r + 4dl, :abuc] >> 1.5dt
            ..  path("path.de.1150")[:aa - 1m, :aa]
        );

        # Gl. 4 (Str. 9110)
        track(:station,
                lehcux[:lun.r + 5dl, :abuc] >> 2.5dt
        );

        # Gl. 5
        track(:station,
                lehcux[:lun.r + 3.9dl, :lun.r + 4dl] >> 1.5dt
            --  lehcux[:lun.r + 6dl, :abuc - 4dl] >> 3.5dt
            --  lehcux[:abuc - 3dl, :abuc - 2.9dl] >> 2.5dt
        );

        # W93 - W97
        track(:station :cat,
                lehcux[:lun.r + 1dl] << 0.5dt
            --  lehcux[:lun.r + 2dl] >> 0.5dt
        );

        # W165 - W170
        track(:station :cat,
                lehcux[:abuc - 1dl] >> 1.5dt
            --  lehcux[:abuc] >> 0.5dt
        );

        # W168 - W169
        track(:station :cat,
                lehcux[:abuc] >> 2.5dt
            --  lehcux[:abuc + 1dl] >> 1.5dt
        );

        # W171 - W172
        track(:station :cat,
                lehcux[:abuc + 1dl] >> 0.5dt
            --  lehcux[:abuc + 2dl] << 0.5dt
        );

        marker(:de.bf :left, lehcux[:lun] << 0.5dt);
        with layer = -1 marker(:de.bf.casing :left, lehcux[:lun] << 0.5dt);
        station(:right, lehcux[:lun - 0.4sw] >> 5dt,
            span(:bold, "Lüneburg"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1150: "),
                    span(:open, "1720: ")
                ),
                vbox(:right:top,
                    span(:open, "131,57"),
                    span(:open, "131,57")
                )
            )
        );
    }

    with link = "point.de.Lüneburg-Nordkopf" {
        # Str. 1720
        track(:first:station :double :cat, lehcux[:fluw, :lun.f]);

        # Str. 1153
        track(:first:station :cat, lehcux[:fluw, :lun.f] << 1.5dt);

        # Str. 1151
        with layer = -1 track(:second:station :removed,
                lehcux[:ajes - 1m, :ajes] << 1.5dt
            ..  path("path.de.1151")[:ste - 1.1sw, :ste - 1sw]
        );

        # W201 - W203
        track(:station,
                lehcux[:fluw] << 1.5dt
            --  lehcux[:fluw + 1dl] << 0.5dt
        );

        # W206 - W207
        track(:station :cat,
                lehcux[:lkn + 1dl] << 0.5dt
            --  lehcux[:lkn + 2dl] >> 0.5dt
        );

        # W208 - W209
        track(:station :cat,
                lehcux[:lkn + 3dl] << 0.5dt
            --  lehcux[:lkn + 4dl] << 1.5dt
        );

        marker(:de.bft :right, lehcux[:lkn] >> 0.5dt);
        station(:left, lehcux[:lkn - 0.3sw] << 3.5dt,
            "Lüneburg Nordkopf",
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1151: "),
                    span(:open, "1153: "),
                    span(:open, "1720: ")
                ),
                vbox(:right:top,
                    span(:open, "??"),
                    span(:open, "??"),
                    span(:open, "??")
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:lun.f, :bar.a]);
        with layer = 1 line_badge(:open, lehcux[:bar - 1.8km] >> 0.5dt, "1720");
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:lun.f, :bah - 1sw] << 1.5dt);
        with layer = 1 line_badge(:open, lehcux[:bar - 1.8km] << 2.0dt, "1153");
    }


    with link = "point.de.Goseburg" {
    	with layer = -1 marker(:de.bk :removed :right, lehcux[:gos] >> 0.5dt);
        station(:right :removed, lehcux[:gos - 0.4sw] >> 1.2sw,
            "Goseburg", "134,16"
        );
    }


    with link = "point.de.Bardowick" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:bar.a, :bar.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:bar.a, :bar.f] << 0.5dt);

        # Gl. 4
        track(:station :cat,
                lehcux[:bar + 0.6sw, :bar.f - 100m + 1dl] >> 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:bar.a + 100m] >> 0.5dt
            --  lehcux[:bar.a + 100m + 1dl] << 0.5dt
        );

        # W5 - W6
        track(:station :cat,
                lehcux[:bar + 0.6sw + 1dl] >> 0.5dt
            --  lehcux[:bar + 0.6sw + 2dl] >> 1.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:bar.f - 100m - 3dl] << 0.5dt
            --  lehcux[:bar.f - 100m - 2dl] >> 0.5dt
        );

        # W16 - W15
        track(:station :cat,
                lehcux[:bar.f - 100m - 1dl] >> 1.5dt
            --  lehcux[:bar.f - 100m] >> 0.5dt
        );

        marker(:de.bf :right, lehcux[:bar] >> 0.5dt);
        station(:top, lehcux[:bar - 0.1sw] >> 0.5dt >> 1.6sh,
            "Bardowick", "1720: 137,41"
        );
    }

    with link = "point.de.Bardowick-Hp" {
        track(:first:station :cat, lehcux[:bah - 1sw, :bah + 1sw] << 1.5dt);
        marker(:de.hp :left, lehcux[:bah] << 1.5dt);
        station(:left, lehcux[:bah - 1.5sw] << 1.5dt << 1.7sh,
            "Bardowick Hp", "1153: 137,49"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bar.f, :rad - 1sw]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:bah + 1sw, :rad - 1sw] << 1.5dt);
    }


    with link = "point.de.Radbruch" {
        track(:first:station :double :cat, lehcux[:rad - 1sw, :rad + 1sw]);
        track(:first:station :cat, lehcux[:rad - 1sw, :rad + 1sw] << 1.5dt);

        marker(:de.hp :left, lehcux[:rad] << 1.5dt);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:rad] << 1.5dt);
        station(:bottom, lehcux[:rad] << 1.5dt << 1.4sh,
            "Radbruch",
            hbox(:center:base,
                span(:removed, "143,62 → "),
                span(:open, "143,59")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:rad + 1sw, :win.a]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:rad + 1sw, :win.a] << 1.5dt);
    }


    with link = "point.de.Borstel" {
    	with layer = -1 marker(:de.bk :removed :right, lehcux[:bor] >> 0.5dt);
        station(:top :removed, lehcux[:bor] >> 0.5dt >> 1.2sw,
            "Borstel", "147,49"
        );
    }


    with link = "point.de.Winsen-Luhe" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:win.a, :win.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:win.a, :win.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:win - 480m - 3dl, :win + 3dl] << 1.5dt
        );

        # Gl.4 (Str. 1153)
        track(:first:station :cat,
                lehcux[:win.a, :win - 480m - 5dl] << 1.5dt
            --  lehcux[:win - 480m - 4dl, :win + 4dl] << 2.5dt
            --  lehcux[:win + 5dl, :win.f] << 1.5dt
        );

        # Gl. 5
        track(:station :cat,
                lehcux[:win.a + 100m + 1dl, :win - 0.6sw] >> 1.5dt
        );

        # Gl. 6
        track(:station,
                lehcux[:win.a + 299m, :win.a + 300m] >> 1.5dt
            --  lehcux[:win.a + 300m + 1dl, :fnie - 1dl] >> 2.5dt
            --  lehcux[:fnie, :fnie + 0.1dl] >> 3.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:win.a + 100m] >> 0.5dt
            --  lehcux[:win.a + 100m + 1dl] << 0.5dt
        );

        # W3 - W4
        track(:station :cat,
                lehcux[:win.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:win.a + 100m + 3dl] >> 1.5dt
        );

        # W14 - W17
        track(:station :cat,
                lehcux[:win - 480m - 1dl] << 0.5dt
            --  lehcux[:win - 480m] << 1.5dt
        );

        # W15 - W16
        track(:station :cat,
                lehcux[:win - 480m - 2dl] << 2.5dt
            --  lehcux[:win - 480m - 1dl] << 1.5dt
        );

        # W27 - W30
        track(:station :cat,
                lehcux[:win - 0.6sw - 2dl] >> 1.5dt
            --  lehcux[:win - 0.6sw - 1dl] >> 0.5dt
        );

        # W39 - W40
        track(:station :cat,
                lehcux[:win] << 1.5dt
            --  lehcux[:win + 1dl] << 0.5dt
        );

        # W41 - W42
        track(:station :cat,
                lehcux[:win + 1dl] << 1.5dt
            --  lehcux[:win + 2dl] << 2.5dt
        );

        # W43 - W44
        track(:station :cat,
                lehcux[:win + 2dl] << 0.5dt
            --  lehcux[:win + 3dl] >> 0.5dt
        );

        
        marker(:de.bf :right, lehcux[:win] >> 0.5dt);
        with layer = -1 marker(:statcase :right, lehcux[:win] >> 0.5dt);
        station(:left, lehcux[:win - 0.3sw] << 2.5dt << 8pt,
            hbox(:center:base,
                span(:bold, "Winsen "),
                span(:regular, "(Luhe)")
            ),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "1153: "),
                    span(:open, "1720: ")
                ),
                vbox(:right:top,
                    span(:open, "150,"),
                    span(:open, "150,")
                ),
                vbox(:left:top,
                    span(:open, "56"),
                    span(:open, "55")
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:win.f, :asa - 1sw]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:win.f, :ash - 130m - 1sw] << 1.5dt);
    }


    with link = "point.de.Ashausen-Abzw" {
        # Str. 1281
        track(:first:station :cat,
                lehcux[:asa - 1.1dl, :asa - 1dl] >> 0.5dt
            --  lehcux[:asa, :asa + 0.5sw] >> 1.5dt
        );

        # Str. 1720 L
        track(:first:station :cat, lehcux[:asa - 1sw, :asa + 0.5sw] << 0.5dt);

        # Str. 1720 R
        track(:first:station :cat, lehcux[:asa - 1sw, :asa + 0.5sw] >> 0.5dt);

        marker(:de.abzw :right, lehcux[:asa] >> 1.5dt);
        station(:right, lehcux[:asa + 0.3sw] >> 1.5dt >> 1.4sw,
            span(:bold, "Ashausen Abzw"),
            hbox(:center:top,
                vbox(:right:top, "1281: ", "1720: "),
                vbox(:right:top, "154,", "154,"),
                vbox(:left:top, "76", "76")
            )
        );
    }


    with link = "point.de.Ashausen" {
        # Str. 1153
        track(:first:station :cat,
                lehcux[:ash - 130m - 1sw, :ash + 1sw] << 1.5dt
        );

        # Str. 1281
        track(:first:station :cat, lehcux[:asa + 0.5sw, :ash + 1sw] >> 1.5dt);

        marker(:de.hp :left, lehcux[:ash] << 1.5dt);
        with layer = -1 marker(:de.bf :removed :left,
                lehcux[:ash - 130m] << 1.5dt
        );
        station(:bottom, lehcux[:ash] << 1.5dt << 1.5sh,
            "Ashausen",
            hbox(:center:top,
                vbox(:right:top,
                    "1281: ", span(:removed, "1720: "), "1153: "
                ),
                vbox(:right:top,
                    "154,", span(:removed, "154,"), "154,"
                ),
                vbox(:left:top,
                    "98", span(:removed, "85"), "96"
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:asa + 0.5sw, :ste.a]);
    }
    with link = "line.de.1153" {
        track(:first :cat, lehcux[:ash + 1sw, :ste.a] << 1.5dt);
    }
    with link = "line.de.1281" {
        track(:first :cat :flip, lehcux[:ash + 1sw, :ste.a] >> 1.5dt);
    }


    with link = "point.de.Stelle" {
        # Gl. 1 (Str. 1153 - Str. 1284 L)
        track(:first:station :cat,
                lehcux[:ste.a, :ste.f - 400m] << 1.5dt
        );

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:ste.a, :ste.f] << 0.5dt);

        # Gl. 3 (Str. 1720 R)
        track(:first:station :cat, lehcux[:ste.a, :ste.f] >> 0.5dt);

        # Gl. 4
        track(:station :cat,
                lehcux[:ste.a + 100m + 6dl, :ste.f - 400m - 1dl] >> 1.5dt
        );

        # Gl. 5 (Str. 1281)
        track(:first:station :cat,
                lehcux[:ste.a, :ste.a + 100m + 6dl] >> 1.5dt
            --  lehcux[:ste.a + 100m + 8dl, :ste.f - 400m] >> 3.5dt
        );

        # W1 - W3
        track(:station :cat,
                lehcux[:ste.a + 100m + 2dl] << 0.5dt
            --  lehcux[:ste.a + 100m + 3dl] >> 0.5dt
        );

        # W2 - W5
        track(:station :cat,
                lehcux[:ste.a + 100m + 3dl] << 0.5dt
            --  lehcux[:ste.a + 100m + 4dl] << 1.5dt
        );

        # W4 - W6
        track(:station :cat,
                lehcux[:ste.a + 100m + 4dl] >> 0.5dt
            --  lehcux[:ste.a + 100m + 5dl] >> 1.5dt
        );

        # W8 - W9
        track(:station :cat,
                lehcux[:ste.a + 100m] << 1.5dt
            --  lehcux[:ste.a + 100m + 1dl] << 0.5dt
        );

        # W10 - W11
        track(:station :cat,
                lehcux[:ste.a + 100m + 7dl] >> 0.5dt
            --  lehcux[:ste.a + 100m + 8dl] >> 1.5dt
        );

        # W20 - W22
        track(:station :cat,
                lehcux[:ste.f - 400m - 3dl] >> 1.5dt
            --  lehcux[:ste.f - 400m - 2dl] >> 0.5dt
        );

        # W21 - W24
        track(:station :cat,
                lehcux[:ste.f - 400m - 3dl] << 1.5dt
            --  lehcux[:ste.f - 400m - 2dl] << 0.5dt
        );

        # W23 - W25
        track(:station :cat,
                lehcux[:ste.f - 400m - 1dl] >> 0.5dt
            --  lehcux[:ste.f - 400m] << 0.5dt
        );

        marker(:de.bf :left, lehcux[:ste] << 1.5dt);
        station(:bottom, lehcux[:ste + 0.5sw] << 1.5dt << 1.8sw,
            span(:bold, "Stelle"),
            hbox(:center:top,
                vbox(:right:top,
                    "1281: ", "1720: ", "1153: ", "1284: "
                ),
                vbox(:right:top,
                    "158,", "158,", "158,", "18,"
                ),
                vbox(:left:top,
                    "17", "17", "17", "15"
                )
            )
        );
    }

    # ...


    with link = "point.de.Hamburg-Hausbruch-Pbf" {
        track(:first:station :double :cat, lehcux[:haa.f, :hau + 1sw]);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:hau] << 0.5dt);
        with layer = -2 marker(:de.bf.casing :left, lehcux[:hau] << 0.5dt);
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:hau + 1sw, :ngr.a]);
    }


    with link = "point.de.Hamburg-Neugraben" {
        # Gl. 4 (Str. 1720 L)
        track(:first:station :cat, lehcux[:ngr.a, :ngr.f] << 0.5dt);

        # Gl. 5 (Str. 1720 5)
        track(:first:station :cat, lehcux[:ngr.a, :ngr.f] >> 0.5dt);

        # W21 - W22
        track(:station :cat,
                lehcux[:ngr.a + 100m] >> 0.5dt
            --  lehcux[:ngr.a + 100m + 1dl] << 0.5dt
        );

        # W28 - W29
        track(:station :cat,
                lehcux[:ngr.f - 100m - 3dl] << 0.5dt
            --  lehcux[:ngr.f - 100m - 2dl] >> 0.5dt
        );

        marker(:de.bf :right, lehcux[:ngr] >> 0.5dt);
        station(:top, lehcux[:ngr] >> 0.5dt >> 1.2sw,
            span(:bold, "Hamburg-Neugraben"),
            "1720: 179,33"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:ngr.f, :fis - 1sw]);
    }


    with link = "point.de.Fischbek" {
        track(:first:station :double :cat, lehcux[:fis - 1sw, :fis + 1sw]);
        marker(:de.hp :right, lehcux[:fis] >> 0.5dt);
        station(:top, lehcux[:fis] >> 0.5dt >> 1.2sw,
            "Fischbek", "181,49"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:fis + 1sw, :nwu - 1sw]);
    }


    with link = "point.de.Neu-Wulmstorf" {
        track(:first:station :double :cat, lehcux[:nwu - 1sw, :nwu + 1sw]);
        marker(:de.hp :left, lehcux[:nwu] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:nwu] << 0.5dt);
        station(:bottom, lehcux[:nwu] << 0.5dt << 1.2sw,
            vbox(:center:top,
                span(:removed, "Daerstorf"),
                "Neu Wulmstorf"
            ),
            "183,49"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:nwu + 1sw, :bux.a]);
        with layer = 1 line_badge(:open, lehcux[:nwu + 3.0km], "1720");
    }


    with link = "point.de.Buxtehude" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:bux.a, :bux.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:bux.a, :bux.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:bux - 180m - 1.1dl, :bux - 180m - 1dl] << 0.5dt
            --  lehcux[:bux - 180m, :bux + 70m] << 1.5dt
        );

        # Gl. 4
        track(:station,
                lehcux[:bux + 100m, :bux + 240m + 1dl] << 1.5dt
            --  lehcux[:bux + 240m + 2dl, :bux + 750m] << 2.5dt
        );

        # Gl. 5
        track(:station,
                lehcux[:bux + 240m + 2.9dl, :bux + 240m + 3dl] << 2.5dt
            --  lehcux[:bux + 240m + 4dl, :bux + 600m] << 1.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:bux - 180m - 5dl] >> 0.5dt
            --  lehcux[:bux - 180m - 4dl] << 0.5dt
        );

        # W12 - W11
        track(:station :cat,
                lehcux[:bux - 180m - 3dl] << 0.5dt
            --  lehcux[:bux - 180m - 2dl] >> 0.5dt
        );

        # W13 - W14
        track(:station :cat,
                lehcux[:bux + 240m] << 0.5dt
            --  lehcux[:bux + 240m + 1dl] << 1.5dt
        );

        # W21 - W22
        track(:station :cat,
                lehcux[:bux.f - 100m - 3dl] >> 0.5dt
            --  lehcux[:bux.f - 100m - 2dl] << 0.5dt
        );

        # W30 - W31
        track(:station :cat,
                lehcux[:bux.f - 100m - 1dl] << 0.5dt
            --  lehcux[:bux.f - 100m] >> 0.5dt
        );

        marker(:de.bf :right, lehcux[:bux] >> 0.5dt);
        station(:top, lehcux[:bux] >> 0.5dt >> 1.4sw,
            span(:bold, "Buxtehude"),
            hbox(:center:top,
                vbox(:right:top, "1720: ", "1261: ", "1269: "),
                vbox(:right:top, "190,", "??", "??"),
                vbox(:left:top, "25", "", "")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:bux.f, :nkl - 1sw]);
    }


    with link = "point.de.Neukloster-Stade" {
        track(:first:station :double :cat, lehcux[:nkl - 1sw, :nkl + 1sw]);
        marker(:de.hp :right, lehcux[:nkl] >> 0.5dt);
        with layer = -1 marker(:de.bf :gone :right, lehcux[:nkl] >> 0.5dt);
        station(:right, lehcux[:nkl - 0.5sw] >> 0.5dt >> 1.2sw,
            vbox(:left:bottom,
                hbox(:left:base :removed,
                    "Neukloster ", span(:light, "(Han)")
                ),
                hbox(:left:base,
                    "Neukloster ", span(:light, "(Kr Stade)")
                )
            ),
            "193,81"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:nkl + 1sw, :hor.a]);
        with layer = 1 line_badge(:open, lehcux[:nkl + 2.5km], "1720");
    }


    with link = "point.de.Horneburg" {
        # Gl. 2 (Str. 1720) R
        track(:first:station :cat, lehcux[:hor.a, :hor.f] >> 0.5dt);

        # Gl. 3 (Str. 1720) L
        track(:first:station :cat, lehcux[:hor.a, :hor.f] << 0.5dt);

        # W11 - W12
        track(:station :cat,
                lehcux[:hor.a + 100m] << 0.5dt
            --  lehcux[:hor.a + 100m + 1dl] >> 0.5dt
        );

        # W20 - W21
        track(:station :cat,
                lehcux[:hor.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:hor.f - 100m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:hor] >> 0.5dt);
        station(:right, lehcux[:hor - 0.4sw] >> 0.5dt >> 1.4sw,
            "Horneburg", "198,96"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:hor.f, :dol - 1sw]);
    }


    with link = "point.de.Dollern" {
        track(:first:station :double :cat, lehcux[:dol - 1sw, :dol + 1sw]);
        marker(:de.hp :right, lehcux[:dol] >> 0.5dt);
        with layer = -1 marker(:de.bf :removed :right, lehcux[:dol] >> 0.5dt);
        station(:right, lehcux[:dol - 0.4sw] >> 0.5dt >> 1.4sw,
            "Dollern", "203,29"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:dol + 1sw, :aga - 1sw]);
    }


    with link = "point.de.Agathenburg" {
        track(:first:station :double :cat, lehcux[:aga - 1sw, :aga + 1sw]);
        marker(:de.hp :left, lehcux[:aga] << 0.5dt);
        station(:left, lehcux[:aga - 0.4sw] << 0.5dt << 1.8sw,
            "Agathenburg", "206,06"
        );
    }


    with link = "line.de.1720" {
        track(:first :double :cat, lehcux[:aga + 1sw, :sta.a]);
        with layer = 1 line_badge(:open, lehcux[:aga + 2.0km], "1720");
    }


    with link = "point.de.Stade" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station :cat, lehcux[:sta.a, :sta.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station :cat, lehcux[:sta.a, :sta.f] << 0.5dt);

        # Gl. 3
        track(:station :cat,
                lehcux[:sta - 451m, :sta - 450m] << 0.5dt
            --  lehcux[:sta - 450m + 1dl, :sta] << 1.5dt
        );

        # Gl. 7
        track(:station :cat,
                lehcux[:sta.a + 100m + 1dl, :sta - 0.6sw - 1dl] >> 1.5dt
        );

        # Gl. 8
        track(:station :cat,
                lehcux[:fhes + 1.9dl, :fhes + 2dl] >> 1.5dt
            --  lehcux[:fhes + 3dl, :sta - 0.6sw - 2dl] >> 2.5dt
        );

        # Gl. 10
        track(:station,
                lehcux[:sta - 600m + 1dl, :sta - 0.6sw - 3dl] >> 3.5dt
        );

        # Gl. 12
        track(:station,
                lehcux[:sta - 601m, :sta - 600m] >> 2.5dt
            --  lehcux[:sta - 600m + 2dl, :sta - 0.6sw - 4dl] >> 4.5dt
            --  lehcux[:sta - 0.6sw, :sta - 0.59sw] >> 0.5dt
        );

        # Gl. 22
        track(:station :cat,
                lehcux[:sta - 580m, :sta - 450m + 1dl] << 2.5dt
            --  lehcux[:sta - 450m + 2dl, :sta - 450m + 2.1dl] << 1.5dt
        );

        # Gl. 24
        track(:station :cat,
                lehcux[:sta - 550m, :sta - 450m + 2dl] << 3.5dt
            --  lehcux[:sta - 450m + 4dl, :sta - 450m + 4.1dl] << 1.5dt
        );

        # Gl. 400 (Str. 1260)
        track(:second:station,
                lehcux[:fhes - 2dl, :fhes - 1dl] << 1.5dt
            --  lehcux[:fhes, :fhes + 0.1dl] << 0.5dt
        );

        # W1 - W2
        track(:station :cat,
                lehcux[:fhes - 3dl] >> 0.5dt
            --  lehcux[:fhes - 2dl] << 0.5dt
        );

        # W4 - W5
        track(:station :cat,
                lehcux[:fhes + 1dl] << 0.5dt
            --  lehcux[:fhes + 2dl] >> 0.5dt
        );

        # W6 - W7
        track(:station :cat,
                lehcux[:fhes + 3dl] >> 0.5dt
            --  lehcux[:fhes + 4dl] >> 1.5dt
        );

        # W27 - W28
        track(:station :cat,
                lehcux[:sta.f - 100m - 3dl] << 0.5dt
            --  lehcux[:sta.f - 100m - 2dl] >> 0.5dt
        );

        # W29 - W30
        track(:station :cat,
                lehcux[:sta.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:sta.f - 100m] << 0.5dt
        );

        # W100 - W101
        track(:station :cat,
                lehcux[:sta.a + 100m] << 0.5dt
            --  lehcux[:sta.a + 100m + 1dl] >> 0.5dt
        );

        # W102 - W103
        track(:station :cat,
                lehcux[:sta.a + 100m + 2dl] >> 0.5dt
            --  lehcux[:sta.a + 100m + 3dl] >> 1.5dt
        );

        marker(:de.bf :right, lehcux[:sta] >> 0.5dt);
        station(:top, lehcux[:sta] >> 0.5dt >> 1.4sw,
            span(:bold, "Stade"),
            hbox(:center:top,
                vbox(:right:top, "1720: ", "1260: "),
                vbox(:right:top, "211,", "26,"),
                vbox(:left:top, "18", "55")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:sta.f, :ham - 1sw]);
        with layer = 1 line_badge(:open, lehcux[:sta + 1.5km], "1720");
    }


    with link = "point.de.Hahle" {
        with layer = -1 marker(:de.bk :removed :left, lehcux[:hah] << 0.5dt);
        station(:bottom :removed, lehcux[:hah] << 0.5dt << 1.1sw,
            "Hahle", "214,38"
        );
    }


    with link = "point.de.Hammah" {
        track(:first:station :double, lehcux[:ham - 1sw, :ham + 1sw]);
        marker(:de.hp :left, lehcux[:ham] << 0.5dt);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:ham] << 0.5dt);
        station(:bottom, lehcux[:ham] << 0.5dt << 1.3sw,
            "Hammah",
            hbox(:center:base,
                "218,71 ", span(:removed, "← 218,68")
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:ham + 1sw, :him - 1sw]);
    }


    with link = "point.de.Himmelpforten" {
        # Str. 1720 R
        track(:first:station,
                lehcux[:him - 1sw, :him.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:him.f - 100m, :him.f - 99m] << 0.5dt
        );
        with layer = -1 track(:first:station :removed,
                lehcux[:him.f - 100m - 1dl, :him.f] >> 0.5dt
        );

        # Str. 1720 L
        track(:first:station, lehcux[:him - 1sw, :him.f] << 0.5dt);

        marker(:de.hp :left, lehcux[:him] << 0.5dt);
        marker(:de.uest :left, lehcux[:him] << 0.5dt);
        with layer = -1 marker(:de.bf :gone :left, lehcux[:him] << 0.5dt);
        station(:bottom, lehcux[:him] << 0.5dt << 1.4sw,
            "Himmelpforten", "222,63"
        );
    }


    with link = "line.de.1720" {
        with layer = -1 track(:first :removed,
                lehcux[:him.f, :ost - 250m] >> 0.5dt
        );
        track(:first,
                lehcux[:him.f, :ost - 250m - 1dl] << 0.5dt
            --  lehcux[:ost - 250m, :ost - 1sw] >> 0.5dt
        );
        with layer = -1 track(:first :removed,
                lehcux[:ost - 250m - 1dl, :ost - 1sw] << 0.5dt
        );
    }


    with link = "point.de.Ostebrücke" {
        track(:first:station, lehcux[:ost - 1sw, :ost + 170m + 1sw] >> 0.5dt);
        track(:first:station :removed,
                lehcux[:ost - 1sw, :ost + 170m + 1sw] << 0.5dt
        );

        with layer = -1 marker(:de.bk :removed :right, lehcux[:ost] >> 0.5dt);
        station(:top :removed, lehcux[:ost] >> 0.5dt >> 1.2sw,
            "Ostebrücke", "226,11"
        );

        with layer = -1 marker(
            :de.bk :gone :left, lehcux[:ost + 170m] << 0.5dt
        );
        station(:bottom :gone, lehcux[:ost + 170m] << 0.5dt << 1.2sw,
            "Oste Drehbrücke", "226,29"
        );
    }


    with link = "line.de.1720" {
        track(:first,
                lehcux[:ost + 170m + 1sw, :ost + 500m] >> 0.5dt
            --  lehcux[:ost + 500m + 1dl, :hec - 1sw] << 0.5dt
        );
        with layer = -1 track(:first:removed,
                lehcux[:ost + 170m + 1sw, :ost + 500m + 1dl] << 0.5dt
        );
        with layer = -1 track(:first:removed,
                lehcux[:ost + 500m, :hec - 1sw] >> 0.5dt
        );
    }


    with link = "point.de.Hechthausen" {
        # Str. 1720 R
        with layer = -1 track(:first:station :removed,
                lehcux[:hec - 1sw, :hec.f - 100m] >> 0.5dt
        );
        track(:first:station,
                lehcux[:hec.f - 100m - 1.1dl, :hec.f - 100m - 1dl] << 0.5dt
            --  lehcux[:hec.f - 100m, :hec.f] >> 0.5dt
        );

        # Str. 1720 L
        track(:first:station, lehcux[:hec - 1sw, :hec.f] << 0.5dt);

        marker(:de.hp :right, lehcux[:hec] >> 0.5dt);
        marker(:de.uest :right, lehcux[:hec] >> 0.5dt);
        with layer = -1 marker(:de.bf :gone :right, lehcux[:hec] >> 0.5dt);
        station(:left, lehcux[:hec - 0.4sw] << 0.5dt << 1.0sw,
            "Hechthausen",
            hbox(:center:base, "228,43 ", span(:removed, "← 228,40"))
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:hec.f, :hem - 1sw]);
        with layer = 1 line_badge(:open, lehcux[:hec + 3.3km], "1720");
    }


    with link = "point.de.Hemmoor" {
        track(:first:station :double, lehcux[:hem - 1sw, :hem + 1sw]);
        marker(:de.hp :right, lehcux[:hem] >> 0.5dt);
        with layer = -1 marker(:de.bf :removed :right, lehcux[:hem] >> 0.5dt);
        label(lehcux[:hem - 0.1sw] >> 0.5dt >> 1.6sw,
            vbox(:left:middle,
                span(:medium:removed, "Basbeck-Osten"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium, "Hemmoor"),
                        span(:xsmall, "234,97")
                    )
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:hem + 1sw, :war - 1sw]);
    }


    with link = "point.de.Warstade" {
        track(:first:station :double, lehcux[:war - 1sw, :war + 1sw]);
        with layer = -1 marker(:de.bf :removed :left, lehcux[:war] << 0.5dt);
        station(:left :removed, lehcux[:war - 0.2sw] << 0.5dt << 1.8sw,
            "Warstade-Hemmoor",
            "238,24 ← 238,18"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:war + 1sw, :wig - 1sw]);
    }


    with link = "point.de.Wingst" {
        track(:first:station :double, lehcux[:wig - 1sw, :wig + 1sw]);
        marker(:de.hp :right, lehcux[:wig] >> 0.5dt);
        with layer = -1 marker(:de.bf :gone :right, lehcux[:wig] >> 0.5dt);
        label(lehcux[:wig + 0.1sw] >> 0.5dt >> 1.5sw,
            vbox(:left:middle,
                span(:medium:removed, "Höftgrube"),
                hbox(:left:top,
                    vbox(:center:top,
                        span(:medium, "Wingst"),
                        span(:xsmall, "243,18")
                    )
                )
            )
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:wig + 1sw, :cad.a]);
    }


    with link = "point.de.Cadenberge" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station, lehcux[:cad.a, :cad.f] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station, lehcux[:cad.a, :cad.f] << 0.5dt);

        # W1 - W2
        track(:station,
                lehcux[:cad.a + 100m] << 0.5dt
            --  lehcux[:cad.a + 100m + 1dl] >> 0.5dt
        );

        # W11 - W12
        track(:station,
                lehcux[:cad.f - 100m - 1dl] >> 0.5dt
            --  lehcux[:cad.f - 100m] << 0.5dt
        );

        marker(:de.bf :right, lehcux[:cad] >> 0.5dt);
        station(:top, lehcux[:cad - 0.2sw] >> 0.5dt >> 1.4sw,
            "Cadenberge", "247,05"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:cad.f, :nha - 1sw]);
    }


    with link = "point.de.Neuhaus-Oste" {
        track(:first:station :double, lehcux[:nha - 1sw, :nha + 1sw]);
        marker(:de.hp :removed :right, lehcux[:nha] >> 0.5dt);
        marker(:de.anst :removed :right, lehcux[:nha] >> 0.5dt);
        with layer = -1 marker(:de.bf :former :right, lehcux[:nha] >> 0.5dt);
        station(:right :removed, lehcux[:nha - 0.5sw] >> 0.5dt >> 1.4sw,
            hbox(:left:base, "Neuhaus ", span(:light, "(Oste)")),
            "250,91"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:nha + 1sw, :ose - 0.5sw]);
    }


    with link = "point.de.Otterndorf-Osterende" {
        track(:first:station :double, lehcux[:ose - 0.5sw, :ose + 0.5sw]);
        with layer = -1 marker(:de.bk :removed :right, lehcux[:ose] >> 0.5dt);
        station(:top :gone, lehcux[:ose] >> 0.5dt >> 1.2sw,
            "Osterende", "256,64"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:ose + 0.5sw, :ott - 1sw]);
    }


    with link = "point.de.Otterndorf" {
        track(:first:station :double, lehcux[:ott - 1sw, :ott + 1sw]);
        marker(:de.hp :right, lehcux[:ott] >> 0.5dt);
        with layer = -1 marker(:de.bf :former :right, lehcux[:ott] >> 0.5dt);
        station(:top, lehcux[:ott] >> 0.5dt >> 1.3sw,
            "Otterndorf", "258,89"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:ott + 1sw, :wee - 0.5sw]);
    }


    with link = "point.de.Otterndorf-Westerende" {
        track(:first:station :double, lehcux[:wee - 0.5sw, :wee + 0.5sw]);
        with layer = -1 marker(:de.bk :right :gone, lehcux[:wee] >> 0.5dt);
        station(:top :gone, lehcux[:wee] >> 0.5dt >> 1.2sw,
            "Westerende", "261,93"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:wee + 0.5sw, :abr - 1sw]);
    }


    with link = "point.de.Altenbruch" {
        track(:first:station :double, lehcux[:abr - 1sw, :abr + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, lehcux[:abr] << 0.5dt);
        with layer = -2 marker(:de.bf :former :left, lehcux[:abr] << 0.5dt);
        station(:left :removed, lehcux[:abr - 0.5sw] << 0.5dt << 2.0sw,
            "Altenbruch", "267,08"
        );
    }


    with link = "line.de.1720" {
        track(:first :double, lehcux[:abr + 1sw, :cux.a]);
        with layer = 1 line_badge(:open, lehcux[:abr + 2.0km], "1720");
    }


    with link = "point.de.Cuxhaven-Groden" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station, lehcux[:cux.a, :gro + 200m] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station, lehcux[:cux.a, :gro + 200m] << 0.5dt);

        # Gl. 201 (Str. 1264)
        track(:station,
                lehcux[:gro - 0.1dl, :gro] >> 0.5dt
            --  lehcux[:gro + 1dl, :gro + 2dl] >> 1.5dt
        );

        # W401 - W402
        track(:station,
                lehcux[:gro - 2dl] << 0.5dt
            --  lehcux[:gro - 1dl] >> 0.5dt
        );
    }


    with link = "point.de.Cuxhaven-CF" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station, lehcux[:gro + 200m, :cuf + 6dl] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station, lehcux[:gro + 200m, :cuf + 6dl] << 0.5dt);

        # Gl. 18
        track(:station, lehcux[:cuf - 550m, :cuf + 6dl] >> 1.5dt);

        # Str. 1310
        track(:second:station,
                lehcux[:cuf - 2dl, :cuf + 2dl] << 1.5dt
            --  lehcux[:cuf + 3dl, :cuf + 3.1dl] << 0.5dt
        );

        # W10 - W11
        track(:station,
                lehcux[:cuf + 1dl] << 0.5dt
            --  lehcux[:cuf + 2dl] >> 0.5dt
        );

        # W12 - W14
        track(:station,
                lehcux[:cuf + 3dl] << 0.5dt
            --  lehcux[:cuf + 5dl] >> 1.5dt
        );

        marker(:de.bft :left, lehcux[:cuf] << 1.5dt);
        station(:left, lehcux[:cuf] << 1.5dt << 1.7sw,
            "C. CF", "??"
        );
    }


    with link = "point.de.Cuxhaven-Gbf" {
        let cug = path("path.de.1720.cug");

        # Gl. 18
        track(:station, cug[:cuf + 6dl, :cug + 850m] >> 1.5dt);

        # Gl. 21
        track(:station,
                cug[:cug - 50m + 1dl, :cug + 300m + 1dl] >> 2.5dt
        );

        # Gl. 23
        track(:station,
                cug[:cug - 50m - 0.1dl, :cug - 50m] >> 1.5dt
            --  cug[:cug - 50m + 2dl, :cug + 300m] >> 3.5dt
        );

        # Gl. 25
        track(:station,
                cug[:cug - 50m - 2.1dl, :cug - 50m - 2dl] >> 1.5dt
            --  cug[:cug - 50m + 1dl, :cug + 300m - 1dl] >> 4.5dt
            --  cug[:cug + 300m + 2dl, :cug + 300m + 2.1dl] >> 1.5dt
        );

        # Gl. 28
        track(:station,
                cug[:cug - 50m - 4.1dl, :cug - 50m - 4dl] >> 1.5dt
            --  cug[:cug - 50m, :cug + 300m] >> 5.5dt
            --  cug[:cug + 300m + 4dl, :cug + 300m + 4.1dl] >> 1.5dt
        );

        marker(:de.bft :right, cug[:cug] >> 5.5dt);
    }


    with link = "point.de.Cuxhaven" {
        # Gl. 1 (Str. 1720 R)
        track(:first:station, lehcux[:cuf + 6dl, :cux] >> 0.5dt);

        # Gl. 2 (Str. 1720 L)
        track(:first:station, lehcux[:cuf + 6dl, :cux] << 0.5dt);

        # Gl. 3
        track(:station,
                lehcux[:cus + 2.9dl, :cus + 3dl] << 0.5dt
            --  lehcux[:cus + 4dl, :cux] << 1.5dt
        );

        # Gl. 10
        track(:station,
                lehcux[:cus - 500m, :cus - 2dl] << 3.5dt
            --  lehcux[:cus, :cus + 0.1dl] << 1.5dt
        );

        # Gl. 12
        track(:station,
                lehcux[:cus - 500m, :cus - 3dl] << 2.5dt
            --  lehcux[:cus - 2dl, :cus - 1.9dl] << 1.5dt
        );

        # Gl. 15
        track(:station,
                lehcux[:cuf + 6dl, :cus + 2.5dl] << 1.5dt
        );

        # W52 - W53
        track(:station,
                lehcux[:cus] >> 0.5dt
            --  lehcux[:cus + 1dl] << 0.5dt
        );

        # W54 - W55
        track(:station,
                lehcux[:cus + 1dl] << 1.5dt
            --  lehcux[:cus + 2dl] << 0.5dt
        );

        # W59 - W60
        track(:station,
                lehcux[:cus + 4dl] << 0.5dt
            --  lehcux[:cus + 5dl] >> 0.5dt
        );

        marker(:de.bf :top, lehcux[:cux] << 0.5dt);
        station(:left, lehcux[:cux] - (1.4sw, 0.2sw),
            hbox(:right:base,
                span(:bold, "Cuxhaven "),
                span(:bold :removed, "Stadt")
            ),
            hbox(:center:top,
                vbox(:right:top, "1720: ", "1310: "),
                vbox(:right:top, "273,", "228,"),
                vbox(:left:top, "05", "35")
            )
        );
    }
}

