# DE 6905.  Salzwedel (ausschl.) - Dannenberg Ost (ausschl.)
#
let saldan = path("path.de.6905");

with detail = [4, 5] {
    with link = "line.de.6905" {
        track(:second :removed, saldan[:gbur, :bur - 1sw]);
        with layer = 1 line_badge(:removed, saldan[:gbur + 0.6km], "6905");
    }


    with link = "point.de.Bürgerholz" {
        track(:second:station :removed, saldan[:bur - 1sw, :bur + 1sw]);
        marker(:de.hst :removed :left, saldan[:bur]);
        station(:left :removed, saldan[:bur - 0.3sw] << 1.4sw,
            "Bürgerholz", "5,00"
        );
    }


    with link = "line.de.6905" {
        track(:second :removed, saldan[:bur - 1sw, :glub - 0.5sw]);
    }


    with link = "point.de.Lübbow-LGr" {
        track(:second:station :removed, saldan[:glub - 0.5sw, :glub + 0.5sw]);
        marker(:de.lgr :removed :left, saldan[:glub]);
        marker(:de.lgr :removed :right, saldan[:glub]);
        label(saldan[:glub] >> 4dt,
            hbox(:left:middle, span(:xsmall :removed, "6,13"))
        );
    }


    with link = "line.de.6905" {
        track(:second :removed, saldan[:glub + 0.5sw, :lub - 1sw]);
    }

    
    with link = "point.de.Lübbow" {
        track(:second:station :removed, saldan[:lub - 1sw, :lub + 1sw]);
        marker(:de.bf :removed :right, saldan[:lub]);
        station(:top :removed, saldan[:lub] >> 1.4sw,
            "Lübbow", "6,75"
        );
    }


    with link = "line.de.6905" {
        track(:second :removed, saldan[:lub + 1sw, :tep - 1sw]);
    }

    
    with link = "point.de.Teplingen" {
        track(:second:station :removed, saldan[:tep - 1sw, :tep + 1sw]);
        marker(:de.hp :removed :left, saldan[:tep]);
        station(:left :removed, saldan[:tep - 1.5sw] << 1.8sw,
            "Teplingen", "8,93"
        );
    }


    with link = "line.de.6905" {
        track(:second :removed, saldan[:tep + 1sw, :wus - 1sw]);
    }

    
    with link = "point.de.Wustrow-Han" {
        track(:second:station :removed, saldan[:wus - 1sw, :wus + 1sw]);
        marker(:de.bf :removed :left, saldan[:wus]);
        station(:left :removed, saldan[:wus - 0.4sw] << 1.4sw,
            hbox(:center:base,
                span(:regular, "Wustrow "),
                span(:light, "(Han)")
            ),
            "10,65"
        );
    }


    with link = "line.de.6905" {
        track(:second :removed, saldan[:wus + 1sw, :luc - 1sw]);
        with layer = 1 line_badge(:removed, saldan[:luc - 1.8km], "6905");
    }

    
    with link = "point.de.Lüchow" {
        track(:second:station, saldan[:luc - 1sw, :luc + 1sw]);
        with layer = -1 track(:second :removed,
                saldan[:luc - 0.5sw, :luc + 0.5sw] >> 1dt
            --  saldan[:luc + 0.5sw + 1dl, :luc + 0.5sw + 1.1dl]
        );

        marker(:de.bf :left, saldan[:luc]);
        station(:left :right_align, saldan[:luc - 0.5sw] << 1.4sw,
            span(:bold, "Lüchow"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:open, "6905: "),
                    span(:open, "9114: ")
                ),
                vbox(:center:top,
                    span(:open, "15,86"),
                    span(:open, "??")
                )
            )
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:luc + 1sw, :tar - 1sw]);
    }

    
    with link = "point.de.Tarmitz" {
        track(:second:station, saldan[:tar - 1sw, :tar + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, saldan[:tar]);
        station(:right :removed, saldan[:tar - 0.3sw] >> 1.2sw,
            "Tarmitz", "16,97"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:tar + 1sw, :mug - 1sw]);
        with layer = 1 line_badge(:open, saldan[:tar + 1.3km], "6905");
    }

    
    with link = "point.de.Müggenburg-Dannenberg" {
        track(:second:station, saldan[:mug - 1sw, :mug + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, saldan[:mug]);
        station(:left :removed, saldan[:mug - 1.5sw] << 1.8sw,
            "Müggenburg", "19,13"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:mug + 1sw, :gol - 1sw]);
    }

    
    with link = "point.de.Gollau" {
        track(:second:station, saldan[:gol - 1sw, :gol + 1sw]);
        marker(:de.hp :right, saldan[:gol]);
        with layer = -1 marker(:de.bf :gone :right, saldan[:gol]);
        station(:top, saldan[:gol] >> 1.4sw,
            "Gollau", "20,36"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:gol + 1sw, :gra - 1sw]);
    }

    
    with link = "point.de.Grabow-Dannenberg" {
        track(:second:station, saldan[:gra - 1sw, :gra + 1sw]);
        marker(:de.hp :left, saldan[:gra]);
        with layer = -1 marker(:de.bf :gone :left, saldan[:gra]);
        station(:left, saldan[:gra - 0.4sw] << 1.4sw,
            hbox(:center:base,
                span(:regular, "Grabow "),
                span(:light, "(Kr Dannenberg)")
            ),
            "22,92"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:gra + 1sw, :jam - 1sw]);
    }

    
    with link = "point.de.Jameln-Dannenberg" {
        track(:second:station, saldan[:jam - 1sw, :jam + 1sw]);
        marker(:de.hp :left, saldan[:jam]);
        with layer = -1 marker(:de.bf :gone :left, saldan[:jam]);
        station(:left, saldan[:jam - 0.4sw] << 1.6sw,
            hbox(:center:base,
                span(:regular, "Jameln "),
                span(:light, "(Kr Dannenberg)")
            ),
            "26,73"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:jam + 1sw, :tra - 1sw]);
        with layer = 1 line_badge(:open, saldan[:tra - 0.8km], "6905");
    }

    
    with link = "point.de.Tramm" {
        track(:second:station, saldan[:tra - 1sw, :tra + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, saldan[:tra]);
        station(:right :removed, saldan[:tra - 0.2sw] >> 1.4sw,
            "Tramm", "29,90"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:tra + 1sw, :saa - 1sw]);
    }

    
    with link = "point.de.Schaafhausen-Dannenberg" {
        track(:second:station, saldan[:saa - 1sw, :saa + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, saldan[:saa]);
        station(:left :removed, saldan[:saa - 0.3sw] << 1.5sw,
            "Schaafhausen", "30,90"
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:saa + 1sw, :daw - 1sw]);
    }

    
    with link = "point.de.Dannenberg-West" {
        track(:second:station, saldan[:daw - 1sw, :daw + 1sw]);
        with layer = -1 track(:second:station :removed,
                saldan[:daw - 1sw, :daw + 0.5sw] << 1dt
            --  saldan[:daw + 0.5sw + 1dl, :daw + 0.5sw + 1.1dl]
        );

        marker(:de.hp :right, saldan[:daw]);
        with layer = -1 marker(:de.bf :gone :right, saldan[:daw]);
        station(:right, saldan[:daw - 0.3sw] >> 1.6sw,
            span(:bold, "Dannenberg West"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:removed, "1963: "),
                    span(:open, "6905: ")
                ),
                vbox(:right:top,
                    span(:removed, "42,"),
                    span(:open, "33,")
                ),
                vbox(:left:top,
                    span(:removed, "03"),
                    span(:open, "30")
                )
            )
        );
    }


    with link = "line.de.6905" {
        track(:second, saldan[:daw + 1sw, :ff]);
        with layer = 1 line_badge(:open, saldan[:daw + 1.1km], "6905");
    }


    with link = "point.de.Dannenberg-Ost-Gr" {
        let witbuc = path("path.de.1151");

        track(:second:station,
                saldan[:ff, :ff + 1m]
            ..  witbuc[:aluc, :aluc - 0.5sw] >> 1dt
        );
        marker(:de.dirgr :left, witbuc[:aluc] << 1dt);
        with detail = 5 {
            label(witbuc[:aluc] << 5dt,
                vbox(:center:top,
                    span(:small, "DRE • DB"),
                    span(:xsmall, "6905: ??")
                )
            );
        }
    }
}

