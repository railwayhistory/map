# DE 6928.  Hagenow Land (ausschl.) - Bad Oldesloe (ausschl.)
#
let hagold = path("path.de.6928");
let lubbuc = path("path.de.1121");
let spaalt = path("path.de.6100");

with detail = 4 {
    with link = "point.de.Hagenow-Land" {
        track(:second:station,
                spaalt[:azar - 1m, :azar] >> 0.5dt
            ..  hagold[:aa - 1m, :aa]
        );
    }

    with link = "point.de.Hagenow-Gr" {
        marker(:de.dirgr :right, hagold[:ghag]);
    }


    with link = "line.de.6928" {
        track(:second, hagold[:aa, :has - 1sw]);
        with layer = 1 line_badge(:open, hagold[:ghag + 1.3km], "6928");
    }
}

with detail = 5 {
    with link = "point.de.Hagenow-Land" {
        track(:second:station,
                spaalt[:azar - 1m, :azar] >> 0.5dt
            ..  hagold[:ghag - 0.51sw, :ghag - 0.5sw]
        );
    }


    with link = "point.de.Hagenow-Gr" {
        track(:second:station, hagold[:ghag - 0.5sw, :ghag + 0.5sw]);
        marker(:de.dirgr :right, hagold[:ghag]);
        label(hagold[:ghag] >> 4dt,
            vbox(:center:bottom :xsmall,
                span(:open, "TME | DB"),
                span(:open, "0,766")
            )
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:ghag + 0.5sw, :has - 1sw]);
        with layer = 1 line_badge(:open, hagold[:ghag + 1.3km], "6928");
    }
}

with detail = [4, 5] {
    with link = "point.de.Hagenow-Stadt" {
        track(:second:station, hagold[:has - 1sw, :has + 1sw]);
        marker(:de.bf :right, hagold[:has]);
        station(:left, hagold[:has - 0.4sw] << 3dt,
            vbox(:center:bottom,
                span(:removed, "Hagenow"),
                span(:open, "Hagenow Stadt")
            ),
            "3,56"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:has - 1sw, :bob - 1sw]);
    }


    with link = "point.de.Bobzin" {
        track(:second:station, hagold[:bob - 1sw, :bob + 1sw]);
        marker(:de.hp :right, hagold[:bob]);
        with layer = -1 marker(:de.anst :removed :right, hagold[:bob]);
        station(:top, hagold[:bob] >> 1.5sh,
            "Bobzin", "9,87"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:bob - 1sw, :wab - 0.5sw]);
        with layer = 1 line_badge(:open, hagold[:bob + 1.6km], "6928");
    }


    with link = "point.de.Wittenburg-ABK" {
        track(:second:station, hagold[:wab - 0.5sw, :wab + 0.5sw]);
        with layer = -1 marker(:de.awanst :removed :left, hagold[:wab]);
        station(:bottom :removed, hagold[:wab] << 1.5sh,
            "ABK", "13,02"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:wab - 0.5sw, :wac - 0.5sw]);
    }


    with link = "point.de.Wittenburg-Raiffeisen" {
        track(:second:station, hagold[:wac - 0.5sw, :wac + 0.5sw]);
        marker(:de.anst :left, hagold[:wac]);
        with layer = -1 marker(:de.awanst :removed :left, hagold[:wac]);
        station(:right, hagold[:wac - 0.5sw] >> 1.0dt,
            hbox(:left:base,
                span(:regular, "Wittenburg "),
                span(:light, "(Meckl) "),
                span(:regular, "Raiffeisen")
            ),
            "14,18"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:wac - 0.5sw, :wit - 1sw]);
    }


    with link = "point.de.Wittenburg-Meckl" {
        track(:second:station, hagold[:wit - 1sw, :wit + 1sw]);
        marker(:de.bf :left, hagold[:wit]);
        station(:left, hagold[:wit - 0.5sw] << 1.8sh,
            hbox(:left:base,
                span(:regular, "Wittenburg "),
                span(:light, "(Meckl) ")
            ),
            "15,44"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:wit - 1sw, :ban - 1sw]);
    }


    with link = "point.de.Bantin" {
        track(:second:station, hagold[:ban - 1sw, :ban + 1sw]);
        marker(:de.hp :right, hagold[:ban]);
        station(:top, hagold[:ban] >> 1.4sh,
            "Bantin", "23,47"
        );
    }


    with link = "line.de.6928" {
        track(:second, hagold[:ban + 1sw, :zar - 1sw]);
        with layer = 1 line_badge(:open, hagold[:ban + 2.0km], "6928");
    }


    with link = "point.de.Zarrentin" {
        track(:second:station, hagold[:zar - 1sw, :zar.f]);
        marker(:de.bf :right, hagold[:zar]);
        station(:top, hagold[:zar] >> 1.4sh,
            hbox(:left:base,
                span(:regular, "Zarrentin "),
                span(:light, "(Meckl) ")
            ),
            "27,45"
        );
    }


    with link = "line.de.6928" {
        with layer = -1 track(:second :removed, hagold[:zar.f, :gzar - 0.5sw]);
    }


    with link = "point.de.Zarrentin-LGr" {
        track(:second:station :removed, hagold[:gzar - 0.5sw, :gzar + 0.5sw]);
        marker(:de.lgr :removed :right, hagold[:gzar]);
        marker(:de.lgr :removed :left, hagold[:gzar]);
        label(hagold[:gzar] >> 4dt,
            hbox(:left:middle :xsmall, span(:removed, "31,31"))
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:gzar + 0.5sw, :kze - 1sw]);
    }


    with link = "point.de.Klein-Zecher" {
        track(:second:station :removed, hagold[:kze - 1sw, :kze + 1sw]);
        marker(:de.hp :removed :right, hagold[:kze]);
        station(:left :removed, hagold[:kze - 0.2sw] << 5pt,
            "Klein Zecher", "31,81"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:kze + 1sw, :hak - 1sw]);
    }


    with link = "point.de.Hakendorf" {
        track(:second:station :removed, hagold[:hak - 1sw, :hak + 1sw]);
        marker(:de.hp :removed :left, hagold[:hak]);
        station(:right :removed, hagold[:hak - 0.4sw] >> 1dt,
            "Hakendorf", "33,88"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:hak + 1sw, :hol - 1sw]);
        with layer = 1 line_badge(:removed, hagold[:hak + 1.2km], "6928");
    }


    with link = "point.de.Hollenbek" {
        track(:second:station :closed, hagold[:hol - 1sw, :hol + 1sw]);
        with layer = -1 track(:second:station :removed,
                hagold[:hol - 0.5sw, :hol + 1sw] << 1dt
        );

        marker(:de.bf :closed :left, hagold[:hol] << 1dt);
        station(:left :closed, hagold[:hol - 0.2sw] << 1dt << 1.8sh,
            span(:bold, "Hollenbek"),
            hbox(:center:top,
                vbox(:right:top,
                    span(:removed, "11421: "),
                    span(:closed, "6928: ")
                ),
                vbox(:right:top,
                    span(:removed, "0,"),
                    span(:closed, "36,")
                ),
                vbox(:left:top,
                    span(:removed, "00"),
                    span(:closed, "21")
                )
            )
        );
    }


    with link = "line.de.6928" {
        track(:second :closed, hagold[:hol + 1sw, :ste - 1sw]);
        with layer = 1 line_badge(:closed, hagold[:hol + 1.1km], "6928");
    }


    with link = "point.de.Sterley" {
        track(:second:station :closed, hagold[:ste - 1sw, :ste + 1sw]);
        with layer = -1 marker(:de.hp :removed :right, hagold[:ste]);
        station(:right :removed, hagold[:ste - 0.4sw] >> 1.4sh,
            "Sterley", "38,37"
        );
    }


    with link = "line.de.6928" {
        track(:second :closed, hagold[:ste + 1sw, :kog - 0.5sw]);
    }


    with link = "point.de.Ratzeburg-Kogel" {
        track(:second:station :closed, hagold[:kog - 0.5sw, :kog + 0.5sw]);
        with layer = -1 marker(:de.anst :removed :right, hagold[:kog]);
        station(:left :removed, hagold[:kog - 0.1sw] << 2.5dt,
            "Ratzeburg Kogel", "??"
        );
    }


    with link = "line.de.6928" {
        track(:second :closed, hagold[:kog + 0.5sw, :aho - 1sw]);
    }


    with link = "point.de.Alt-Horst" {
        track(:second:station :closed, hagold[:aho - 1sw, :aho + 1sw]);
        with layer = -1 marker(:de.hp :removed :left, hagold[:aho]);
        station(:right :removed, hagold[:aho - 0.4sw] >> 1.0dt,
            "Alt Horst", "41,60"
        );
    }


    with link = "line.de.6928" {
        track(:second :closed, hagold[:aho + 1sw, :smi - 1sw]);
    }


    with link = "point.de.Schmilau" {
        track(:second:station :closed, hagold[:smi - 1sw, :smi + 1sw]);
        with layer = -1 marker(:de.bf :removed :right, hagold[:smi]);
        station(:right :removed, hagold[:smi - 0.4sw] >> 1.2sh,
            "Schmilau", "44,30"
        );
    }


    with link = "line.de.6928" {
        track(:second :closed,
                hagold[:smi + 1sw, :rat.aa - 300m]
            ..  lubbuc[:ahag, :rat.f] >> 1dt
        );
        with layer = 1 line_badge(:closed, hagold[:smi + 1.5km], "6928");
    }

    
    # point.de.Ratzeburg de.1121


    with link = "line.de.6928" {
        with layer = 2 track(:second :removed,
                lubbuc[:rat.a, :rat.a - 1m] >> 3dt
            ..  hagold[:rat.x - 200m, :kul - 1sw]
        );
        with layer = 1 casing(:second, hagold[:rat.x - 200m, :rat.x + 200m]);
        with layer = 3 line_badge(:closed, hagold[:kul - 1.1km], "6928");
    }


    with link = "point.de.Kulpin" {
        track(:second:station :removed, hagold[:kul - 1sw, :kul + 1sw]);
        marker(:de.hp :removed :right, hagold[:kul]);
        station(:left :removed, hagold[:kul - 0.4sw] << 6pt,
            "Kulpin", "52,90"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:kul + 1sw, :ber - 1sw]);
    }


    with link = "point.de.Berkenthin" {
        track(:second:station :removed, hagold[:ber - 1sw, :ber + 1sw]);
        marker(:de.hst :removed :left, hagold[:ber]);
        with layer = -1 marker(:de.bf :gone :left, hagold[:ber]);
        station(:bottom :removed, hagold[:ber] << 1.2sh,
            hbox(:center:base,
                span(:gone, "Klein "),
                span(:removed, "Berkenthin")
            ),
            "57,96"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:ber + 1sw, :sie - 1sw]);
    }


    with link = "point.de.Sierksrade" {
        track(:second:station :removed, hagold[:sie - 1sw, :sie + 1sw]);
        marker(:de.bf :removed :left, hagold[:sie]);
        station(:bottom :removed, hagold[:sie] << 1.2sh,
            "Sierksrade", "60,06"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:sie + 1sw, :kao - 1sw]);
        with layer = 1 line_badge(:closed, hagold[:sie + 1.3km], "6928");
    }


    with link = "point.de.Kastorf-Ost" {
        track(:second:station :removed, hagold[:kao - 1sw, :kao + 1sw]);
        marker(:de.hp :removed :right, hagold[:kao]);
        station(:top :removed, hagold[:kao] >> 1.4sh,
            "Kastorf Ost", "62,66"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:kao + 1sw, :kas - 1sw]);
    }


    with link = "point.de.Kastorf" {
        track(:second:station :removed, hagold[:kas - 1sw, :kas + 1sw]);
        marker(:de.bf :removed :right, hagold[:kas]);
        station(:top :removed, hagold[:kas] >> 1.4sh,
            "Kastorf", "64,04"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:kas + 1sw, :sib - 1sw]);
    }


    with link = "point.de.Siebenbäumen" {
        track(:second:station :removed, hagold[:sib - 1sw, :sib + 1sw]);
        marker(:de.hp :removed :right, hagold[:sib]);
        station(:top :removed, hagold[:sib] >> 1.4sh,
            "Siebenbäumen", "65,11"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:sib + 1sw, :ahr - 1sw]);
    }


    with link = "point.de.Ahrensfelde-Stormarn" {
        track(:second:station :removed, hagold[:ahr - 1sw, :ahr + 1sw]);
        marker(:de.hp :removed :right, hagold[:ahr]);
        station(:top :removed, hagold[:ahr] >> 1.2sh,
            "Ahrensfelde", "67,67"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:ahr + 1sw, :sur - 1sw]);
    }


    with link = "point.de.Schürensölen" {
        track(:second:station :removed, hagold[:sur - 1sw, :sur + 1sw]);
        marker(:de.hp :removed :right, hagold[:sur]);
        station(:top :removed, hagold[:sur] >> 1.4sh,
            "Schürensölen", "69,24"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:sur + 1sw, :kbo - 1sw]);
    }


    with link = "point.de.Klein-Boden" {
        track(:second:station :removed, hagold[:kbo - 1sw, :kbo + 1sw]);
        marker(:de.hp :removed :right, hagold[:kbo]);
        station(:top :removed, hagold[:kbo] >> 1.4sh,
            "Klein Boden", "70,21"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:kbo + 1sw, :tre - 1sw]);
    }


    with link = "point.de.Treuholz" {
        track(:second:station :removed, hagold[:tre - 1sw, :tre + 1sw]);
        marker(:de.bf :removed :right, hagold[:tre]);
        station(:top :removed, hagold[:tre] >> 1.4sh,
            "Treuholz", "71,63"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:tre + 1sw, :ret - 1sw]);
        with layer = 1 line_badge(:closed, hagold[:tre + 2.1km], "6928");
    }

    with link = "point.de.Retwisch" {
        track(:second:station :removed, hagold[:ret - 1sw, :ret + 1sw]);
        marker(:de.hp :removed :right, hagold[:ret]);
        station(:top :removed, hagold[:ret] >> 1.4sh,
            "Retwisch", "75,24"
        );
    }


    with link = "line.de.6928" {
        track(:second :removed, hagold[:ret + 1sw, :ff]);
    }
}
