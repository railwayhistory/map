# DE 1012.  BÃ¼delsdorf (ausschl.) - Husum (ausschl.)
#
let budhus = path("path.de.1012");
let budhus.gen = path("path.de.1012.gen");
let neufle = path("path.de.1040");

with detail = [4, 5] {
    # point.de.Rendsburg-Gewerbegebiet-Nord
    #
    track(:station,
            neufle[:bud + 1sw, :bud + 1.01sw] << 1.5dt
        ..  budhus[:a, :gen]
    );
    track(:station,
            budhus[:gen, :gen - .1dl]
        ..  budhus.gen[:a, :f]
    );
    track(:station,
            budhus.gen[:x, :x + .1dl]
        ..  budhus.gen[:aa, :ff]
    );

    marker(:de.anst :right, budhus[:gen]);
    with layer = -1 station(:left, budhus[:gen] >> 1.4sw ,
        "R. Gewerbegebiet Nord", "3,07"
    );

    # Streckengleis Gewerbegebiet Nord - Garlbek
    track(:second :removed, budhus[:gen, :gar - 1sw]);
    with layer = 1 line_badge(:removed, budhus[:foc + 1.8km], "1012");

    # point.de.Fockbek
    #
    with layer = -1 marker(:de.bf :gone :left, budhus[:foc]);
    marker(:de.anst :closed :left, budhus[:foc]);
    station(:bottom :removed, budhus[:foc] << 1.2sw,
        "Fockbek", "4,26"
    );

    # point.de.Garlbek
    #
    track(:second :station :removed, budhus[:gar - 1sw, :gar + 1sw]);
    marker(:de.hp :removed :right, budhus[:gar]);
    station(:top :removed, budhus[:gar] >> 1.2sw,
        "Garlbek", "7,38"
    );

    # Streckengleis Garlbek - Norderstapel
    track(:second :removed, budhus[:gar + 1sw, :nor - 1sw]);
    with layer = 1 line_badge(:removed, budhus[:erf + 3.0km], "1012");

    # point.de.Hohn
    #
    marker(:de.bf :removed :left, budhus[:hoh]);
    station(:bottom :removed, budhus[:hoh] << 1.2sw,
        "Hohn", "10,75"
    );

    # point.de.Christiansholm
    #
    marker(:de.bf :removed :left, budhus[:chr]);
    station(:bottom :removed, budhus[:chr] << 1.2sw,
        "Christiansholm", "17,42"
    );

    # point.de.Erfde
    #
    marker(:de.bf :removed :left, budhus[:erf]);
    station(:bottom :removed, budhus[:erf] << 1.2sw,
        "Erfde", "23,02"
    );

    # point.de.Norderstapel
    #
    track(:second :station :removed, budhus[:nor - 1sw, :nor + 1.5sw]);
    track(:station :removed,
            budhus[:nor, :nor + 1sw] >> 1dt
        --  budhus[:nor + 1sw + 1dl, :nor + 1sw + 1.1dl]
    );
    with layer = -1 marker(:de.bf :gone :right, budhus[:nor + 0.5sw] >> 1dt);
    marker(:de.anst :closed :right, budhus[:nor + 0.5sw] >> 1dt);
    station(:left :removed, budhus[:nor + 1.5sw] << 2dt,
        span(:bold, "Norderstapel"), "31,04"
    );

    # Streckengleis Norderstapel - Husum
    track(:second :removed, budhus[:nor + 1sw, :hus.a]);
    with layer = 1 line_badge(:removed, budhus[:ran - 2.0km], "1012");

    # point.de.Schwabstedt
    #
    with layer = -1 marker(:de.bf :gone :left, budhus[:swa]);
    marker(:de.anst :closed :left, budhus[:swa]);
    station(:left :removed, budhus[:swa] << 1.8sw,
        "Schwabstedt", "36,44"
    );

    # point.de.Rantrum
    #
    with layer = -1 marker(:de.bf :gone :left, budhus[:ran]);
    marker(:de.anst :closed :left, budhus[:ran]);
    station(:left :removed, budhus[:ran - .3sw] << 1.8sh,
        "Rantrum", "42,29"
    );

    # point.de.Mildstedt
    #
    with layer = -1 marker(:de.bf :gone :left, budhus[:mil]);
    marker(:de.hst :removed :left, budhus[:mil]);
    with layer = -2 station(:right :removed, budhus[:mil + .4sw] >> 2dt,
        "Mildstedt", "45,96"
    );
}

