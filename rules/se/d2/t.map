# SE TAA.  Tollarp - Åhus
with detail = 2 {
    let ta = path("d2.se.taa");

    with railway = :first :pax :removed {
        with link = "line.se.TAA" {
            track(ta[:tol.ya, :tol.ya + 5km]);
            line_label(:right:ne, ta[:tol.ya + 5km], "TAA");
            track(ta[:tol.ya + 5km, :eve.yt]);
        }

        # point.se.Everöd

        with link = "line.se.TAA" {
            track(ta[:eve.ya, :eve.ya + 8km]);
            line_label(:right:n, ta[:eve.ya + 8km], (0.8dt, 0dt), "TAA");
            track(ta[:eve.ya + 8km, :ahu]);
        }
    }
}


# SE TBH.  Tumleberg - Håkantorp
with detail = 2 {
    let th = path("d2.se.tbh");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.TBH" {
            track(th[:tum.yh, :tum.yh + 6km]);
            line_label(:left:e, th[:tum.yh + 6km], (0dt, -0.3dt), "TBH");
            track(th[:tum.yh + 6km, :hak.yt]);
        }
    }
}


# SE TBK.  Torsås - Bergkvara
with detail = 2 {
    let tb = path("d2.se.tbk");

    with railway = :first :g1067 :pax :removed {
        with link = "line.se.TBK" {
            track(tb[:tor.yb, :tor.yb + 3.2km]);
            line_label(:left:sw, tb[:tor.yb + 3.2km], "TBK");
            track(tb[:tor.yb + 3.2km, :ber]);
        }

        with link = "point.se.Bergkvara" {
            statdot(tb[:ber]);
            slabel(:right, tb[:ber] + (1.5dt, 1dt), "Bergkvara");
        }
    }
}


# SE TBS.  Tilberga - Sala
with detail = 2 {
    let ts = path("d2.se.tbs");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.TBS" {
            track(ts[:til.ys, :til.ys + 6.5km]);
            line_label(:left:e, ts[:til.ys + 6.5km], (0dt, -0.1dt), "TBS");
            track(ts[:til.ys + 6.5km, :sal.yt - 5km]);
            line_label(:left:e, ts[:sal.yt - 5km], "TBS");
            track(ts[:sal.yt - 5km, :sal.yt]);
        }
    }
}


# SE TBV.  Tomteboda bangård - Värtan
with detail = 2 {
    let tv = path("d2.se.tbv");

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.TBV" {
            track(tv[:tom.ys, :sno.yk]);
            track(tv[:sno.yk, :sno]);
        }

        with link = "point.se.Stockholms-norra" {
            statdot(tv[:sno]);
        }

        with link = "line.se.TBV" {
            track(tv[:sno, :var]);
        }

        with link = "point.se.Värtan" {
            statdot(tv[:var]);
        }
    }
}


# SE TGB.  Torsås - Gullberna
with detail = 2 {
    let tg = path("d2.se.tgb");

    with railway = :first :g1067 :pax :removed {
        with link = "point.se.Torsås" {
            track(tg[:tor.yg, :tor.yb]);
            statdot(tg[:tor]);
            slabel(:left, tg[:tor] + (-1.5dt, 1dt), "Torsås");
        }

        with link = "line.se.TGB" {
            track(tg[:tor.yb, :tor.yb + 6km]);
            line_label(:right:e, tg[:tor.yb + 6km], "TGB");
            track(tg[:tor.yb + 6km, :gul.yt - 8km]);
            line_label(:left:n, tg[:gul.yt - 8km], "TGB");
            track(tg[:gul.yt - 8km, :gul.yt]);
        }
    }
}


# SE TGS.  Torved - Gullspång
with detail = 2 {
    let tg = path("d2.se.tgs");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.TGS" {
            track(tg[:tor.yg, :tor.yg + 8km]);
            line_label(:left:e, tg[:tor.yg + 8km], "TGS");
            track(tg[:tor.yg + 8km, :gul.yt]);
        }
    }
}


# SE THB.  Torup - Hyltebruk
with detail = 2 {
    let th = path("d2.se.thb");

    with railway = :first :nopax {
        with link = "line.se.THB" {
            track(th[:tor.yh, :tor.yv]);
            track(th[:tor.yv, :tor.yv + 5.5km]);
            line_label(:right:nw, th[:tor.yv + 5.5km], "THB");
            track(th[:tor.yv + 5.5km, :hyl]);
        }

        with link = "point.se.Hyltebruk" {
            statdot(th[:hyl]);
            slabel(:top, th[:hyl] + (0.5dt, -0.6dt), "Hyltebruk");
        }
    }
}


# SE THN.  Trollhättan - Nossebro
with detail = 2 {
    let tn = path("d2.se.thn");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.THN" {
            track(tn[:tro.yn, :tro.yn + 16km]);
            line_label(:left:s, tn[:tro.yn + 16km], (0.2dt, 0dt), "THN");
            track(tn[:tro.yn + 16km, :nos.yt]);
        }
    }
}


# SE TKP.  Tillberga - Köping
with detail = 2 {
    let tk = path("d2.se.tkp");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.TKP" {
            track(tk[:til.yk, :til.yk + 3km]);
            line_label(:right:e, tk[:til.yk + 3km], "TKP");
            track(tk[:til.yk + 3km, :van.ys]);
        }
    }

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.TKP" {
            track(tk[:van.ys, :van.ys + 2km]);
            line_label(:right:e, tk[:van.ys + 2km], "TKP");
            track(tk[:van.ys + 2km, :vas]);
        }

        with link = "point.se.Västerås-central" {
            statdot(tk[:vas]);
            slabel(:nw, tk[:vas] + (1.3dt, 0dt), "Västerås c.");
        }

        with link = "line.se.TKP" {
            track(tk[:vas, :kol.yo - 6km]);
            line_label(:left:n, tk[:kol.yo - 6km], (0.3dt, 0dt), "TKP");
            track(tk[:kol.yo - 6km, :kol.yo]);
            track(tk[:kol.yo, :kol.yb]);
        }

        with link = "point.se.Kolbäck" {
            track(:station, tk[:kol.yb, :kol.yr]);
            statdot(tk[:kol]);
            slabel(:left, tk[:kol] + (-1.5dt, 0dt), "Kolbäck");
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.TKP" {
            track(tk[:kol.yr, :kop]);
            line_label(:left:nw, tk[:kol.yr + 7.3km], "TKP");
        }

        with link = "point.se.Köping" {
            statdot(tk[:kop]);
            slabel(:left, tk[:kop] + (-1km, 0dt) + (-1.5dt, 0.8dt), "Köping");
        }
    }
}


# SE TOX.  Torup 101 - Torup 102
with detail = 2 {
    with link = "line.se.TOX" {
        track(:first :nopax, path("d2.se.tox")[:tor.yn, :tor.yv]);
    }
}


# SE TRL.  Triangeln - Ramlösa brunnspark öster
with detail = 2 {
    let tr = path("d2.se.trl");

    with railway = :first :pax :removed {
        with link = "line.se.TRL" {
            track(tr[:tri, :rao]);
        }

        with link = "point.se.Ramlösa-brunnspark-öster" {
            statdot(tr[:rao]);
        }
    }
}


# SE TSB.  Tierp - Strömsberg
with detail = 2 {
    let ts = path("d2.se.tsb");

    with railway = :first :pax :removed {
        with link = "line.se.TSB" {
            track(ts[:tie.ys, :str]);
            line_label(:right:w, ts[:tie.ys + 4.3km], (0dt, 0.3dt), "TSB");
        }

        with link = "point.se.Strömsberg" {
            statdot(ts[:str]);
            slabel(:right, ts[:str] + (1.5dt, 0.8dt), "Strömsberg");
        }
    }
}


# SE TSG.  Torsås - Gullaboby
with detail = 2 {
    let tg = path("d2.se.tsg");

    with railway = :first :g1067 :pax :removed {
        with link = "line.se.TSG" {
            track(tg[:tor.yg, :tor.yg + 9km]);
            line_label(:left:ne, tg[:tor.yg + 9km], "TSG");
            track(tg[:tor.yg + 9km, :gul]);
        }

        with link = "point.se.Gullaboby" {
            statdot(tg[:gul]);
            slabel(:top, tg[:gul] + (-0.5dt, -0.5dt), "Gullaboby");
        }
    }
}


# SE TSO.  Tomelilla - S:t Olov
with detail = 2 {
    let ts = path("d2.se.tso");

    with railway = :first :pax :removed {
        with link = "line.se.TSO" {
            track(ts[:tom.ym, :tom.ym + 7.5km]);
            line_label(:left:se, ts[:tom.ym + 7.5km], "TSO");
            track(ts[:tom.ym + 7.5km, :sto.yt]);
        }
    }
}

