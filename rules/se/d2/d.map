# SE DHB.  Dagarn - Hultebo
with detail = 2 {
    let dh = path("d2.se.dhb");

    with railway = :first :nopax :removed {
        with link = "line.se.DHB" {
            track(dh[:dag.yh, :dag.yh + 3km]);
            line_label(:right:se, dh[:dag.yh + 3km], "DHB");
            track(dh[:dag.yh + 3km, :hul]);
        }

        with link = "point.se.Hultebo" {
            statdot(dh[:hul]);
            slabel(:left, dh[:hul] + (-1.5dt, 0.8dt), "Hultebo");
        }
    }
}


# SE DHN.  Djursholms Ösby - Näsbypark
with detail = 2 {
    let dn = path("d2.se.dhn");

    with railway = :first :cat:dc15 :g891 :pax {
        with link = "line.se.DHN" {
            track(dn[:dju.yn, :dju.ys]);
            track(dn[:dju.ys, :nas]);
        }

        with link = "point.se.Näsbypark" {
            statdot(dn[:nas]);
            slabel(:right, dn[:nas] + (1.5dt, 0.8dt), "Näsbypark");
        }
    }
}


# SE DLF.  Daglösen - Filipstad
with detail = 2 {
    let df = path("d2.se.dlf");

    with railway = :first :nopax {
        with link = "line.se.DLF" {
            track(df[:dag.yf, :dag.yf + 5km]);
            line_label(:left:e, df[:dag.yf + 5km], (0dt, 0.12dt), "DLF");
            track(df[:dag.yf + 5km, :fil]);
        }

        with link = "point.se.Filipstad" {
            statdot(df[:fil]);
            slabel(:left, df[:fil] + (-1.5dt, 0.8dt), "Filipstad");
        }
    }
}


# SE DMH.  Dannemora - Hallstavik
with detail = 2 {
    let dh = path("d2.se.dmh");

    with railway = :first :nopax {
        with link = "point.se.Dannemora" {
            statdot(dh[:dan]);
            slabel(:right, dh[:dan] + (-0.5dt, -1.5dt), "Dannemora");
        }

        with link = "line.se.DMH" {
            track(dh[:dan, :dan.ys]);
            track(dh[:dan.ys, :dan.ys + 5.6km]);
            line_label(:right:ne, dh[:dan.ys + 5.6km], "DMH");
            track(dh[:dan.ys + 5.6km, :kna.yr]);
        }

        with link = "point.se.Knaby" {
            track(dh[:kna.yr, :kna]);
            statdot(:removed, dh[:kna]);
            slabel(:nw :removed, dh[:kna] + (0.3km, 0dt) + (1dt, 0.3dt),
                "Knaby"
            );
        }

        with link = "line.se.DMH" {
            track(dh[:kna, :nor.yl]);
        }

        with link = "point.se.Norrmon" {
            track(dh[:nor.yl, :nor]);
            statdot(:removed, dh[:nor]);
            slabel(:nw :removed, dh[:nor] + (0.8dt, 0.3dt), "Norrmon");
        }

        with link = "line.se.DMH" {
            track(dh[:nor, :nor + 3.5km]);
            line_label(:left:s, dh[:nor + 3.5km], "DMH");
            track(dh[:nor + 3.5km, :gim.yf]);
        }

        with link = "point.se.Gimo" {
            track(dh[:gim.yf, :gim]);
            statdot(dh[:gim]);
            slabel(:top, dh[:gim] + (0dt, -0.8dt), "Gimo");
        }

        with link = "line.se.DMH" {
            track(dh[:gim, :ris]);
        }

        with link = "point.se.Risinge" {
            statdot(:removed, dh[:ris]);
            slabel(:nw :removed, dh[:ris] + (1km, 0dt) + (1dt, 0.3dt),
                "Risinge"
            );
        }

        with link = "line.se.DMH" {
            track(dh[:ris, :ris + 6.5km]);
            line_label(:left:s, dh[:ris + 6.5km], "DMH");
            track(dh[:ris + 6.5km, :har]);
        }

        with link = "point.se.Hargshamn" {
            statdot(dh[:har]);
            slabel(:right, dh[:har] + (1.5dt, 0dt), "Hargshamn");
        }

        with link = "line.se.DMH" {
            track(dh[:har, :hal]);
            line_label(:left:sw, dh[:har + 8.5km], "DMH");
        }

        with link = "point.se.Hallstavik" {
            statdot(dh[:hal]);
            slabel(:right, dh[:hal] + (1.5dt, 0.8dt), "Hallstavik");
        }
    }
}


# SE DMX.  Dannemora västra - Dannemora södra
with detail = 2 {
    with link = "line.se.DMX" {
        track(:first :nopax, path("d2.se.dmx")[:dan.yv, :dan.ys]);
    }
}


# SE DSN.  Djursholms Ösby - Svalnäs
with detail = 2 {
    let ds = path("d2.se.dsn");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.DSN" {
            track(ds[:dju.ys, :sva]);
        }

        with link = "point.se.Svalnäs" {
            statdot(ds[:sva]);
            slabel(:right, ds[:sva] + (1.5dt, 0.8dt), "Svalnäs");
        }
    }
}

