# SE MAB.  Mönsterås - Blomstermåla
with detail = 2 {
    let mb = path("d2.se.mab");

    with railway = :first :nopax {
        with link = "point.se.Mönsterås" {
            statdot(mb[:mon]);
            slabel(:right, mb[:mon] + (1.5dt, 1.3dt), "Mönsterås");
        }

        with link = "line.se.MAB" {
            track(mb[:mon, :mon + 5km]);
            line_label(:left:nw, mb[:mon + 5km], "MAB");
            with link = "line.se.MFH" {
                line_label(:right:se :removed, mb[:mon + 5km], "MFH");
            }
            track(mb[:mon + 5km, :san.yb]);
            track(mb[:san.yb, :blo.ym]);
        }
    }
}


# SE MAD.  Morastrand - Älvdalen
with detail = 2 {
    let ma = path("d2.se.mad");

    with railway = :first :nopax {
        with link = "line.se.MAD" {
            track(ma[:mos.ya, :mos.ya + 9.5km]);
            line_label(:left:ne, ma[:mos.ya + 9.5km], "MAD");
            track(ma[:mos.ya + 9.5km, :mar - 6km]);
            line_label(:left:ne, ma[:mar - 6km], "MAD");
            track(ma[:mar - 6km, :mar]);
        }

        with link = "point.se.Märbäck" {
            statdot(ma[:mar]);
            slabel(:right, ma[:mar] + (1.5dt, 0.2dt), "Märbäck");
        }
    }

    with railway = :first :pax :removed {
        with link = "line.se.MAD" {
            track(ma[:mar, :alv]);
        }

        with link = "point.se.Älvdalen" {
            statdot(ma[:alv]);
            slabel(:top, ma[:alv] + (-0.3dt, -0.8dt), "Älvdalen");
        }
    }
}


# SE MBM.  Munkedals bruk - Munkedals hamn
with detail = 2 {
    let mm = path("d2.se.mbm");

    with railway = :first :g600 :removed {
        with link = "point.se.Munkedals-bruk" {
            statdot(mm[:mub]);
            slabel(:right, mm[:mub] + (1.5dt, 0.8dt), "M:s bruk");
        }

        with link = "line.se.MBM" {
            track(mm[:mub, :mun]);
        }

        # point.se.Munkedal  se.GSS

        with link = "line.se.MBM" {
            track(mm[:mun.yh, :muh]);
        }

        with link = "point.se.Munkedals-hamn" {
            statdot(mm[:muh]);
            slabel(:left, mm[:muh] + (-1.5dt, 0.8dt), "M:s hamn");
        }
    }
}


# SE MFH.  Mönsterås - Fagerhult
with detail = 2 {
    let mf = path("d2.se.mfh");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.MFH" {
            track(mf[:san.yb, :san.ym]);
        }

        # point.se.Sandbäckshult  se.KMB

        with link = "line.se.MFH" {
            track(mf[:san.yf, :san.yf + 9km]);
            line_label(:left:nw, mf[:san.yf + 9km], "MFH");
            track(mf[:san.yf + 9km, :sko.ym - 5.3km]);
            line_label(:right:sw, mf[:sko.ym - 5.3km], "MFH");
            track(mf[:sko.ym - 5.3km, :sko.ym]);
        }
    
        # point.se.Skoghult  se.OHS

        with link = "line.se.MFH" {
            track(mf[:sko.yf, :sko.yf + 6.3km]);
            line_label(:right:sw, mf[:sko.yf + 6.3km], "MFH");
            track(mf[:sko.yf + 6.3km, :fag - 6km]);
            line_label(:left:e, mf[:fag - 6km], "MFH");
            track(mf[:fag - 6km, :fag]);
        }

        with link = "point.se.Fagerhult" {
            statdot(mf[:fag]);
            slabel(:left, mf[:fag] + (-1.5dt, 0.8dt), "Fagerhult");
        }
    }
}


# SE MFL.  Mariefred - Läggesta
with detail = 2 {
    let ml = path("d2.se.mfl");

    with railway = :first :g600 :museum {
        with link = "point.se.Mariefreds-ångbåtsstation" {
            statdot(ml[:maa]);
        }

        with link = "line.ml.MFL" {
            track(ml[:maa, :mar]);
        }

        with link = "point.se.Mariefred" {
            statdot(ml[:mar]);
            slabel(:right, ml[:mar] + (1dt, -0.8dt), "Mariefred");
        }

        with link = "line.ml.MFL" {
            track(ml[:mar, :mar + 1.35km]);
            line_label(:right:s, ml[:mar + 1.35km], (-0.4dt, 0dt), "MFL");
            track(ml[:mar + 1.35km, :lag.ym]);
        }
    }
}


# SE MGP.  Malmö - Genarp
with detail = 2 {
    let mg = path("d2.se.mgp");

    with railway = :first :pax :removed {
        with link = "line.se.MGP" {
            track(mg[:mal.yg, :mal.yg + 7.3km]);
            line_label(:left:s, mg[:mal.yg + 7.3km], "MGP");
            track(mg[:mal.yg + 7.3km, :bon]);
        }

        with link = "point.se.Bokskogen-nedre" {
            track(mg[:bon, :bon.yb]);
            statdot(mg[:bon]);
        }

        with link = "line.se.MGP" {
            track(mg[:bon.yb, :kla.ym]);
        }

        # point.se.Klågerup  se.LTB

        with link = "line.se.MGP" {
            track(mg[:kla.yg, :kla.yg + 5km]);
            line_label(:left:s, mg[:kla.yg + 5km], "MGP");
            track(mg[:kla.yg + 5km, :gen]);
        }

        with link = "point.se.Genarp" {
            statdot(mg[:gen]);
            slabel(:right, mg[:gen] + (1.3dt, 1dt), "Genarp");
        }
    }
}


# SE MGR.  Mellerud - Gilserud
with detail = 2 {
    let mg = path("d2.se.mgr");

    with railway = :first :tourist {
        with link = "line.se.MGR" {
            track(mg[:mel.ya, :mel.ya + 8.6km]);
            line_label(:left:e, mg[:mel.ya + 8.6km], "MGR");
            track(mg[:mel.ya + 8.6km, :bil.yu]);
        }

        with link = "point.se.Billingsfors" {
            track(mg[:bil.yu, :bil]);
            statdot(mg[:bil]);
            slabel(:left, mg[:bil] + (-1.5dt, 0.8dt), "Billingsfors");
        }

        with link = "line.se.MGR" {
            track(mg[:bil, :bil.yb]);
            track(mg[:bil.yb, :bil.yb + 1.1km]);
            line_label(:right:w, mg[:bil.yb + 1.1km], "MGR");
            track(mg[:bil.yb + 1.1km, :ben]);
        }

        with link = "point.se.Bengtsfors" {
            statdot(mg[:ben]);
            slabel(:right, mg[:ben] + (1.5dt, 0.5dt), "Bengtsfors");
        }
    }

    with railway = :first :closed {
        with link = "line.se.MGR" {
            track(mg[:ben, :ben + 18.7km]);
            line_label(:right:sw, mg[:ben + 18.7km], "MGR");
            track(mg[:ben + 18.7km, :arj - 8.6km]);
            line_label(:left:e, mg[:arj - 8.6km], "MGR");
            track(mg[:arj - 8.6km, :arj]);
        }

        with link = "point.se.Årjäng" {
            statdot(mg[:arj])
            slabel(:right, mg[:arj] + (1.5dt, 0.8dt), "Årjäng");
        }
    }

    with railway = :first :pax :removed {
        with link = "line.se.MGR" {
            track(mg[:arj, :arj + 19km]);
            line_label(:right:w, mg[:arj + 19km], "MGR");
            track(mg[:arj + 19km, :bet.ys]);
        }

        with link = "point.se.Beted" {
            track(mg[:bet.ys, :bet]);
            statdot(mg[:bet]);
            slabel(:right, mg[:bet] + (1.5dt, 1.3dt), "Beted");
        }

        with link = "line.se.MGR" {
            track(mg[:bet, :gil - 10.5km]);
            line_label(:right:ne, mg[:gil - 10.5km], "MGR");
            track(mg[:gil - 10.5km, :gil]);
        }
    }
}


# SE MGX.  Malmö godsbangård - Östervärn
with detail = 2 {
    with link = "line.se.MGX" {
        track(:first :double :cat:ac15 :nopax,
                path("d2.se.mgx")[:mag.yo, :ost.yg]
        );
    }
}


# SE MMB.  Mönsterås - Mönsterås bruk
with detail = 2 {
    let mm = path("d2.se.mmb");

    with railway = :first :nopax {
        with link = "line.se.MMB" {
            track(mm[:mon, :mon + 4.5km]);
            line_label(:left:se, mm[:mon + 4.5km], "MMB");
            track(mm[:mon + 4.5km, :mob]);
        }

        with link = "point.se.Mönsterås-bruk" {
            statdot(mm[:mob]);
            slabel(:right, mm[:mob] + (1.5dt, 1dt), "Mönsterås bruk");
        }
    }
}


# SE MHH.  Mjölby - Hästholmens hamn
with detail = 2 {
    let mh = path("d2.se.mhh");

    with railway = :first :pax :removed {
        # point.se.Mjölby  se.KHM

        with link = "line.se.MHH" {
            track(mh[:mjo.yv, :mjo.yv + 5.3km]);
            line_label(:right:s, mh[:mjo.yv + 5.3km], "MHH");
            track(mh[:mjo.yv + 5.3km, :vad]);
        }

        with link = "point.se.Väderstad" {
            track(mh[:vad, :vad.yb]);
            statdot(mh[:vad]);
            slabel(:nw, mh[:vad] + (-3dt, 1dt), "Väderstad");
        }

        with link = "line.se.MHH" {
            track(mh[:vad.yb, :has.yf]);
            line_label(:right:s, mh[:vad.yb + 8km], (-0.3dt, 0dt), "MHH");
        }

        with link = "point.se.Hästholmen" {
            track(mh[:has.yf, :has.yo]);
            statdot(mh[:has]);
            slabel(:left, mh[:has] + (-1.5dt, 0.5dt), "Hästholmen");
        }
    }
}


# SE MKB.  Morjärv - Karlsborgsbruk Norrbotten
with detail = 2 {
    let mk = path("d2.se.mkb");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.MKB" {
            track(mk[:mor.yk, :mor.yk + 6.3km]);
            line_label(:right:e, mk[:mor.yk + 6.3km], "MKB");
            track(mk[:mor.yk + 6.3km, :bre - 5.4km]);
            line_label(:right:ne, mk[:bre - 5.4km], "MKB");
            track(mk[:bre - 5.4km, :bre]);
        }

        with link = "point.se.Bredviken" {
            track(:station, mk[:bre, :bre.yh]);
            statdot(:nopax, mk[:bre]);
            slabel(:left, mk[:bre] + (-1.5dt, 1.8dt), "Bredviken");
        }
    }

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.MKB" {
            track(mk[:bre.yh, :bre.yh + 2.4km]);
            line_label(:left:w, mk[:bre.yh + 2.4km], "MKB");
            track(mk[:bre.yh + 2.4km, :kar]);
        }

        with link = "point.se.Karlsborgsbruk-Norrbotten" {
            statdot(mk[:kar]);
            slabel(:bottom, mk[:kar] + (0dt, 0.8dt),
                vbox(:center:top, "Karlsborgsbruk", "Norrbotten")
            );
        }
    }
}


# SE MKS.  Mellerud - Kornsjö gränsen
with detail = 2 {
    let mk = path("d2.se.mks");

    with railway = :first :pax :removed {
        with link = "line.se.MKS" {
            track(mk[:mel.yk, :mel.yv]);
            track(mk[:mel.yv, :mel.yv + 2.5km]);
            line_label(:right:s, mk[:mel.yv + 2.5km], "MKS");
            track(mk[:mel.yv + 2.5km, :dal.ys]);
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.MKS" {
            track(mk[:dal.ys, :dal]);
        }

        with link = "point.se.Dals-Rostock" {
            statdot(:nopax, mk[:dal]);
            slabel(:left, mk[:dal] + (-1.5dt, 0.8dt), "Dals Rostock");
        }

        with link = "line.se.MKS" {
            track(mk[:dal, :dal + 7.7km]);
            line_label(:right:s, mk[:dal + 7.7km], "MKS");
            track(mk[:dal + 7.7km, :bac.yu]);
        }

        with link = "point.se.Bäckefors" {
            track(mk[:bac.yu, :bac.yb]);
            statdot(mk[:bac]);
            slabel(:right, mk[:bac] + (1.5dt, 0.5dt), "Bäckefors");
        }

        with link = "line.se.MKS" {
            track(mk[:bac.yb, :bac.yb + 5.5km]);
            line_label(:left:ne, mk[:bac.yb + 5.5km], "MKS");
            track(mk[:bac.yb + 5.5km, :edd.yl]);
        }

        with link = "point.se.Ed" {
            track(mk[:edd.yl, :edd]);
            statdot(mk[:edd]);
            slabel(:left, mk[:edd] + (-1.5dt, 0dt), "Ed");
        }

        with link = "line.se.MKS" {
            track(mk[:edd, :kog - 6.5km]);
            line_label(:left:n, mk[:kog - 6.5km], "MKS");
            track(mk[:kog - 6.5km, :kog]);
        }
    }
}


# SE MLN.  Malmö central - Lernacken
with detail = 2 {
    let ml = path("d2.se.mln");

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.MLN" {
            track(ml[:mal, :hyl]);
        }

        with link = "point.se.Hyllie" {
            statdot(ml[:hyl]);
            with zoom = :high slabel(
                :left, ml[:hyl] + (0dt, -1.5dt), "Hyllie"
            );
        }

        with link = "line.se.MLN" {
            track(ml[:hyl, :hyl.ys]);
            track(ml[:hyl.ys, :ler.ym]);
        }
    }
}


# SE MLX.  Mellerud triangelspår
with detail = 2 {
    with link = "line.se.MLX" {
        track(:first :pax :removed, path("d2.se.mlx")[:mel.yx, :mel.yv]);
    }
}


# SE MMS.  Moholm - Mariestad
with detail = 2 {
    let mm = path("d2.se.mms");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.MMS" {
            track(mm[:moh.ym, :moh.ym + 9km]);
            line_label(:left:ne, mm[:moh.ym + 9km], "MMS");
            track(mm[:moh.ym + 9km, :mar.ym]);
        }
    }
}


# SE MNX.  Mora Noret - Mora Norets norra
with detail = 2 {
    with link = "line.se.MNX" {
        track(:first :nopax :removed, path("d2.se.mnx")[:mon.yn, :mor.yn]);
    }
}


# SE MOV.  Mellansel - Örnsköldsviks central
with detail = 2 {
    let mo = path("d2.se.mov");

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.MOV" {
            track(mo[:mel.yo, :mel.yo + 12.5km]);
            line_label(:left:sw, mo[:mel.yo + 12.5km], "MOV");
            track(mo[:mel.yo + 12.5km, :orn.yg]);
        }
    }
}


# SE MRG.  Malmö V - Rydsgård
with detail = 2 {
    let mr = path("d2.se.mrg");

    with railway = :first :pax :removed {
        with link = "line.se.MRG" {
            track(mr[:sod.yt, :tyg.yk]);
        }

        with link = "point.se.Tygelsjö" {
            track(mr[:tyg.yk, :tyg]);
            statdot(mr[:tyg]);
            slabel(:ne, mr[:tyg] + (-1.5dt, 0dt), "Tygelsjö");
        }

        with link = "line.se.MRG" {
            track(mr[:tyg, :tyg + 2.7km]);
            line_label(:left:w, mr[:tyg + 2.7km], (0dt, -0.15dt), "MRG");
            track(mr[:tyg + 2.7km, :vel]);
        }

        with link = "point.se.Vellinge" {
            track(mr[:vel, :vel.yf]);
            statdot(mr[:vel]);
            slabel(:right, mr[:vel] + (1.3dt, 0.8dt), "Vellinge");
        }

        with link = "line.se.MRG" {
            track(mr[:vel.yf, :vel.yf + 6.5km]);
            line_label(:right:e, mr[:vel.yf + 6.5km], (0dt, 0.2dt), "MRG");
            track(mr[:vel.yf + 6.5km, :tre.yv]);
        }

        # point.se.Trelleborg  se.MTB

        with link = "line.se.MRG" {
            track(mr[:tre.yr, :tre.yr + 7km]);
            line_label(:right:n, mr[:tre.yr + 7km], (0.3dt, 0dt), "MRG");
            track(mr[:tre.yr + 7km, :kla.ys]);
        }

        with link = "point.se.Klagstorp" {
            track(mr[:kla.ys, :kla.yb]);
            statdot(mr[:kla]);
            slabel(:left, mr[:kla] + (-1.5dt, 0dt), "Klagstorp");
        }

        with link = "line.se.MRG" {
            track(mr[:kla.yb, :kla.yb + 6.3km]);
            line_label(:right:n, mr[:kla.yb + 6.3km], (1dt, 0dt), "MRG");
            track(mr[:kla.yb + 6.3km, :ski]);
        }

        with link = "point.se.Skivarp" {
            track(mr[:ski, :ski.yc]);
            statdot(mr[:ski]);
            slabel(:left, mr[:ski] + (0dt, -1.5dt), "Skivarp");
        }

        with link = "line.se.MRG" {
            track(mr[:ski.yc, :ski.yc + 3.4km]);
            line_label(:left:e, mr[:ski.yc + 3.4km], "MRG");
            track(mr[:ski.yc + 3.4km, :ryd.yt]);
        }

        # point.se.Rydsgård  se.MYS
    }
}


# SE MSH.  Malmö - Simrishamn
with detail = 2 {
    let ms = path("d2.se.msh");

    with railway = :first :nopax :suspended {
        # point.se.Östervärn

        with link = "line.se.MSH" {
            track(ms[:ost.ys, :sta.yt - 3km]);
            line_label(:right:n, ms[:sta.yt - 3km], (0.2dt, 0dt), "MSH");
            track(ms[:sta.yt - 3km, :sta.yt]);
        }

        with link = "point.se.Staffanstorp" {
            track(ms[:sta.yt, :sta.yl]);
            statdot(ms[:sta]);
            slabel(:nw, ms[:sta] + (2dt, -1.2dt), "Staffanstorp");
        }
    }

    with railway = :first :pax :removed {
        with link = "line.se.MSH" {
            track(ms[:sta.yl, :sta.yl + 4km]);
            line_label(:left:s, ms[:sta.yl + 4km], "MSH");
            track(ms[:sta.yl + 4km, :dal]);
        }

        with link = "point.se.Dalby" {
            track(ms[:dal, :dal.yh]);
            statdot(ms[:dal]);
            slabel(:top, ms[:dal] + (-1.5dt, -0.8dt), "Dalby");
        }

        with link = "line.se.MSH" {
            track(ms[:dal.yh, :dal.yh + 11.7km]);
            line_label(:right:n, ms[:dal.yh + 11.7km], "MSH");
            track(ms[:dal.yh + 11.7km, :sjo.yb]);
        }

        with link = "point.se.Sjöbo" {
            track(ms[:sjo.yb, :sjo]);
            statdot(ms[:sjo]);
            slabel(:right, ms[:sjo] + (1.5dt, -0.3dt), "Sjöbo");
        }

        with link = "line.se.MSH" {
            track(ms[:sjo, :sjo + 10km]);
            line_label(:left:s, ms[:sjo + 10km], (0.8dt, 0dt), "MSH");
            track(ms[:sjo + 10km, :tom.ym]);
        }
    }

    # point.se.Tomelilla  se.EYS

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.MSH" {
            track(ms[:tom.ys, :tom.ys + 8km]);
            line_label(:left:s, ms[:tom.ys + 8km], (-0.8dt, 0dt), "MSH");
            track(ms[:tom.ys + 8km, :gar.yk]);
        }

        with link = "point.se.Gärsnäs" {
            track(ms[:gar.yk, :gar.yb]);
            statdot(ms[:gar]);
            slabel(:left, ms[:gar] + (0.5dt, -1.7dt), "Gärsnäs");
        }

        with link = "line.se.MSH" {
            track(ms[:gar.yb, :gar.yb + 5km]);
            line_label(:right:n, ms[:gar.yb + 5km], (0.1dt, 0dt), "MSH");
            track(ms[:gar.yb + 5km, :sim]);
        }

        with link = "point.se.Simrishamn" {
            statdot(ms[:sim]);
            slabel(:right, ms[:sim] + (1.5dt, 0.8dt), "Simrishamn");
        }
    }
}


# SE MSN.  Mellerud - Sunnanå
with detail = 2 {
    let ms = path("d2.se.msn");

    with railway = :first :pax :removed {
        with link = "line.se.MSN" {
            track(ms[:mel.ys, :sun]);
        }

        with link = "point.se.Sunnanå" {
            statdot(ms[:sun]);
            slabel(:right, ms[:sun] + (1.5dt, 0.5dt), "Sunnanå");
        }
    }
}


# SE MTB.  Malmö central - Trelleborg
with detail = 2 {
    let mt = path("d2.se.mtb");

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.MTB" {
            track(mt[:mal.yt, :fos]);
        }

        with link = "point.se.Fosieby" {
            track(mt[:fos, :fos.ys]);
            statdot(:nopax, mt[:fos]);
        }
    }

    with railway = :first :double :cat:ac15 :nopax {
        with link = "line.se.MTB" {
            track(mt[:fos.ys, :loc.yy]);
        }
    }

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.MTB" {
            track(:casing, mt[:loc.yy, :loc.ys]);
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.MTB" {
            track(mt[:loc.ys, :loc.ys + 5km]);
            line_label(:left:sw, mt[:loc.ys + 5km], "MTB");
            track(mt[:loc.ys + 5km, :skv.ys]);
            track(mt[:skv.ys, :tre.yr]);
            track(mt[:tre.yr, :tre.ym]);
        }

        with link = "point.se.Trelleborg" {
            track(mt[:tre.ym, :tre]);
            statdot(mt[:tre]);
            slabel(:left, mt[:tre] + (-1.5dt, 0.8dt), "Trelleborg");
        }
    }

    with railway = :first :pax :removed {
        let mt = path("d2.se.mtb.tre");

        with link = "line.se.MTB" {
            track(mt[:skv.ys, :tre.yl]);
            track(mt[:tre.yl, :tre.ym]);
        }
    }
}


# SE MYS.  Malmö V - Ystad
with detail = 2 {
    let my = path("d2.se.mys");

    with railway = :first :pax :removed {
        with link = "point.se.Malmö-V" {
            track(my[:mal, :mal.yl]);
            statdot(my[:mal]);
        }

        with link = "line.se.MYS" {
            track(my[:mal.yl, :sod]);
        }

        with link = "point.se.Södervärn" {
            track(my[:sod, :sod.yt]);
            statdot(my[:sod]);
        }

        with link = "line.se.MYS" {
            track(my[:sod.yt, :oxi.yl]);
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.MYS" {
            track(my[:oxi.yl, :oxi.yl + 5.5km]);
            line_label(:left:sw, my[:oxi.yl + 5.5km], "MYS");
            track(my[:oxi.yl + 5.5km, :sve.yt]);
        }

        with link = "point.se.Svedala" {
            track(my[:sve.yt, :sve.yl]);
            statdot(my[:sve]);
            slabel(:nw, my[:sve] + (-1dt, 1.3dt), "Svedala");
        }

        with link = "line.se.MYS" {
            track(my[:sve.yl, :bor]);
        }

        with link = "point.se.Börringe" {
            track(my[:bor, :bor.ys]);
            statdot(:removed, my[:bor]);
            slabel(:right :removed, my[:bor] + (1dt, -0.8dt), "Börringe");
        }

        with link = "line.se.MYS" {
            track(my[:bor.ys, :bor.ys + 8km]);
            line_label(:left:s, my[:bor.ys + 8km], "MYS");
            track(my[:bor.ys + 8km, :ryd]);
        }

        with link = "point.se.Rydsgård" {
            track(my[:ryd, :ryd.yt]);
            statdot(my[:ryd]);
            slabel(:top, my[:ryd] + (0dt, -0.8dt), "Rydsgård");
        }

        with link = "line.se.MYS" {
            track(my[:ryd.yt, :ryd.yt + 5.3km]);
            line_label(:left:s, my[:ryd.yt + 5.3km], (0.2dt, 0dt), "MYS");
            track(my[:ryd.yt + 5.3km, :cha.ys]);
            track(my[:cha.ys, :cha]);
        }

        with link = "point.se.Charlottenlund" {
            statdot(:removed, my[:cha]);
            slabel(:ne :removed, my[:cha] + (0dt, 0.8km) + (4dt, 0.5dt),
                vbox(:right:top, "Charlotten-", "lund    ")
            );
        }

        with link = "line.se.MYS" {
            track(my[:cha, :cha + 4.3km]);
            line_label(:left:s, my[:cha + 4.3km], "MYS");
            track(my[:cha + 4.3km, :yst]);
        }

        with link = "point.se.Ystad" {
            statdot(my[:yst]);
            slabel(:bottom, my[:yst] + (0dt, 0.9dt), "Ystad");
        }
    }
}

