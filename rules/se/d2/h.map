# SE HAF.  Hillared - Axelfors
with detail = 2 {
    let ha = path("d2.se.haf");

    with railway = :first :pax :removed {
        with link = "line.se.HAF" {
            track(ha[:hil.ya, :axe - 9.8km]);
            line_label(:right:e, ha[:axe - 9.8km], "HAF");
            track(ha[:axe - 9.8km, :axe]);
        }

        with link = "point.se.Axelfors" {
            statdot(ha[:axe]);
            slabel(:left, ha[:axe] + (-1.7dt, 0.5dt), "Axelfors");
        }
    }
}


# SE HAJ.  Hällnäs - Arvidsjaur
with detail = 2 {
    let ha = path("d2.se.haj");

    with railway = :first :nopax {
        with link = "line.se.HAJ" {
            track(ha[:hal.yl, :hal.yl + 12.4km]);
            line_label(:left:ne, ha[:hal.yl + 12.4km], "HAJ");
            track(ha[:hal.yl + 12.4km, :lyc]);
            line_label(:right:s, ha[:lyc - 10.5km], (0.8dt, 0dt), "HAJ");
        }

        with link = "point.se.Lycksele" {
            statdot(ha[:lyc]);
            slabel(:left, ha[:lyc] + (-1.5dt, 1dt), "Lycksele");
        }

        with link = "line.se.HAJ" {
            track(ha[:lyc, :lyc + 34km]);
            line_label(:right:sw, ha[:lyc + 34km], "HAJ");
            track(ha[:lyc + 34km, :sto.yo - 6km]);
            line_label(:left:n, ha[:sto.yo - 6km], (-0.1dt, 0dt), "HAJ");
            track(ha[:sto.yo - 6km, :sto.yo]);
            track(ha[:sto.yo, :sto.yn]);
        }
    }

    with railway = :first :tourist {
        with link = "point.se.Storuman" {
            track(:station, ha[:sto.yn, :sto]);
            statdot(ha[:sto]);
            slabel(:left, ha[:sto] + (-1.5dt, 0dt), "Storuman");
        }

        with link = "line.se.HAJ" {
            track(ha[:sto, :sto + 7km]);
            line_label(:left:se, ha[:sto + 7km], "HAJ");
            track(ha[:sto + 7km, :sto + 76.5km]);
            line_label(:left:se, ha[:sto + 76.5km], "HAJ");
            track(ha[:sto + 76.5km, :arv.ys - 7.4km]);
            line_label(:left:s, ha[:arv.ys - 7.4km], "HAJ");
            track(ha[:arv.ys - 7.4km, :arv.ys]);
        }
    }
}


# SE HBF.  Hallsberg - Frövi
with detail = 2 {
    let hf = path("d2.se.hbf");

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.HBF" {
            track(hf[:hal.yf, :hal.yf + 3.7km]);
            line_label(:left:e, hf[:hal.yf + 3.7km], "HBF");
            track(hf[:hal.yf + 3.7km, :kum.yy]);
        }

        with link = "point.se.Kumla" {
            track(:station, hf[:kum.yy, :kum]);
            statdot(hf[:kum]);
            slabel(:left, hf[:kum] + (-1.5dt, 0.8dt), "Kumla");
        }

        with link = "line.se.HBF" {
            track(hf[:kum, :kum + 8km]);
            line_label(:right:w, hf[:kum + 8km], "HBF");
            track(hf[:kum + 8km, :ors.yo]);
            track(hf[:ors.yo, :ors.yv]);
            track(hf[:ors.yv, :ore]);
        }

        with link = "point.se.Örebro-central" {
            statdot(hf[:ore]);
            slabel(:left, hf[:ore] + (-1.5dt, 0.3dt), "Örebro c.");
        }

        with link = "line.se.HBF" {
            track(hf[:ore, :ore + 4.3km]);
            line_label(:left:e, hf[:ore + 4.3km], "HBF");
            track(hf[:ore + 4.3km, :hov]);
        }

        with link = "point.se.Hovsta" {
            statdot(:nopax, hf[:hov]);
            slabel(:left :nopax, hf[:hov] + (-1.5dt, 0.8dt), "Hovsta");
        }

        with link = "line.se.HBF" {
            track(hf[:hov, :hov.yj]);
            track(hf[:hov.yj, :erv]);
        }

        with link = "point.se.Ervalla" {
            track(:station, hf[:erv, :erv.yn]);
            statdot(hf[:erv]);
            slabel(:right, hf[:erv] + (1.5dt, 1dt), "Ervalla")
        }

        with link = "line.se.HBF" {
            track(hf[:erv.yn, :erv.yn + 4km]);
            line_label(:left:se, hf[:erv.yn + 4km], "HBF");
            track(hf[:erv.yn + 4km, :fro]);
        }

        with link = "point.se.Frövi" {
            track(:station, hf[:fro, :fro.yg]);
            statdot(hf[:fro]);
            slabel(:bottom, hf[:fro] + (-0.5dt, 1.3dt), "Frövi");
        }
    }
}


# SE HBH.  Högbränna - Hörnsjö
with detail = 2 {
    let hh = path("d2.se.hbh");

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.HBH" {
            track(hh[:hog.y, :hor.y - 1.25km]);
            line_label(:left:se, hh[:hor.y - 1.25km], "HBH");
            track(hh[:hor.y - 1.25km, :hor.y]);
        }
    }
}


# SE HBM.  Hallsberg - Mjölby
with detail = 2 {
    let hm = path("d2.se.hbm");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.HBM" {
            track(hm[:hal.yf, :sky]);
            line_label(:left:w, hm[:hal.yf + 2.2km], (0dt, 0.3dt), "HBM");
        }

        with link = "point.se.Skymossen" {
            statdot(:nopax, hm[:sky]);
            slabel(:right :nopax :light, hm[:sky] + (1.5dt, 1dt),
                "Skymossen"
            );
        }

        with link = "line.se.HBM" {
            track(hm[:sky, :ste - 2km]);
            line_label(:left:w, hm[:ste - 2km], "HBM");
            track(hm[:ste - 2km, :ste]);
        }
    }

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.HBM" {
            track(hm[:ste, :ler]);
        }

        with link = "point.se.Lerbäck" {
            statdot(:removed, hm[:ler]);
            slabel(:right :removed, hm[:ler] + (1.5dt, 0.8dt), "Lerbäck");
        }

        with link = "line.se.HBM" {
            track(hm[:ler, :mot - 20.5km]);
            line_label(:right:e, hm[:mot - 20.5km], "HBM");
            track(hm[:mot - 20.5km, :mot]);
        }

        with link = "point.se.Motala-central" {
            statdot(hm[:mot]);
            slabel(:left, hm[:mot] + (-1.5dt, 0.8dt), "Motala c.");
        }

        with link = "line.se.HBM" {
            track(hm[:mot, :fag.yo - 4km]);
            line_label(:left:w, hm[:fag.yo - 4km], "HBM");
            track(hm[:fag.yo - 4km, :fag.yo]);
        }

        with link = "point.se.Fågelsta" {
            track(hm[:fag.yo, :fag.yl]);
            statdot(:museum, hm[:fag]);
            slabel(:left :museum,
                hm[:fag.yo] + (-0.2km, -0.4km) + (-1.3dt, 0dt),
                "Fågelsta"
            );
        }

        with link = "line.se.HBM" {
            track(hm[:fag.yl, :ska.yb]);
        }

        with link = "point.se.Skänninge" {
            track(hm[:ska.yb, :ska.yv]);
            statdot(hm[:ska]);
            slabel(:right, hm[:ska] + (1.5dt, 1.0dt), "Skänninge");
        }

        with link = "line.se.HBM" {
            track(hm[:ska.yv, :ska.yv + 5km]);
            line_label(:left:sw, hm[:ska.yv + 5km], "HBM");
            track(hm[:ska.yv + 5km, :mjo.yh]);
        }
    }
}


# SE HBR.  Helsingborg - Råå
with detail = 2 {
    let hr = path("d2.se.hbr");

    with railway = :first :pax :removed {
        with link = "line.se.HBR" {
            track(hr[:hel.yr, :tri]);
        }

        with link = "point.se.Triangeln" {
            statdot(hr[:tri]);
        }

        with link = "line.se.HBR" {
            track(hr[:tri, :tri + 1.5km]);
            with zoom = :high line_label(:right:e, hr[:tri + 1.5km], "HBR");
            track(hr[:tri + 1.5km, :raa]);
        }

        with link = "point.se.Råå" {
            statdot(hr[:raa]);
            slabel(:bottom, hr[:raa] + (0.3dt, 1.1dt), "Råå");
        }
    }
}


# SE HEL.  Helsingborg - Eslöv
with detail = 2 {
    let he = path("d2.se.hel");

    with railway = :first :double :cat:ac15 :pax {
        with link = "line.se.HEL" {
            track(he[:hel, :hel.yr]);
            track(he[:hel.yr, :ram]);
        }

        with link = "point.se.Ramlösa" {
            track(he[:ram, :ram.yl]);
            statdot(he[:ram]);
            slabel(:right, he[:ram] + (-0.4dt, -1.6dt), "Ramlösa");
        }
    }

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.HEL" {
            track(he[:ram.yl, :ram.yl + 11km]);
            line_label(:left:s, he[:ram.yl + 11km], (0.4dt, 0dt), "HEL");
            track(he[:ram.yl + 11km, :bil.yl]);
        }

        with link = "point.se.Billeberga" {
            track(he[:bil.yl, :bil]);
            statdot(he[:bil]);
            slabel(:right, he[:bil] + (0dt, -1.3dt),
                vbox(:left:base, "Bille-", "berga")
            );
        }

        with link = "line.se.HEL" {
            track(he[:bil, :bil + 3km]);
            with zoom = :high line_label(:left:sw, he[:bil + 3km], "HEL");
            track(he[:bil + 3km, :tec.yl]);
        }

        # point.se.Teckomatorp  se.GBM

        with link = "line.se.HEL" {
            track(he[:tec.ye, :tec.ye + 7km]);
            line_label(:left:s, he[:tec.ye + 7km], "HEL");
            track(he[:tec.ye + 7km, :esl.yl]);
        }
    }
}


# SE HFG.  Hällefors - Gravendal
with detail = 2 {
    let hg = path("d2.se.hfg");

    with railway = :first :g802 :pax :removed {
        with link = "line.se.HFG" {
            track(hg[:hal.yg, :hal.yg + 4.4km]);
            line_label(:left:e, hg[:hal.yg + 4.4km], "HFG");
            track(hg[:hal.yg + 4.4km, :gra.yh - 6.5km]);
            line_label(:left:e, hg[:gra.yh - 6.5km], "HFG");
            track(hg[:gra.yh - 6.5km, :gra.yh]);
        }
    }
}


# SE HHA.  Hässleholm - Åhus hamn
with detail = 2 {
    let ha = path("d2.se.hha");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.HHA" {
            track(ha[:has.ya, :has.ya + 12.7km]);
            line_label(:right:n, ha[:has.ya + 12.7km], (-0.7dt, 0dt), "HHA");
            track(ha[:has.ya + 12.7km, :kar.yh]);
        }

        with link = "point.se.Karpalund" {
            track(ha[:kar.yh, :kar]);
            statdot(:removed, ha[:kar]);
            slabel(:ne :removed, ha[:kar] + (-0.7km, 0.1km) + (-1dt, 0.3dt),
                "Karpalund"
            );
        }

        with link = "line.se.HHA" {
            track(ha[:kar, :kri.yn]);
            track(ha[:kri.yn, :kri.yk]);
        }

        with link = "point.se.Kristianstads-central" {
            track(ha[:kri.yk, :kri.ys]);
            statdot(ha[:kri]);
            slabel(:right, ha[:kri] + (1.5dt, 0.8dt),
                hbox(:left:base, span(:bold, "Kristianstad"), " c.")
            );
        }
    }

    with railway = :first :nopax {
        with link = "line.se.HHA" {
            track(ha[:kri.ys, :kri.ys + 10km]);
            line_label(:left:w, ha[:kri.ys + 10km], "HHA");
            track(ha[:kri.ys + 10km, :ahu]);
        }

        with link = "point.se.Åhus" {
            statdot(ha[:ahu]);
            slabel(:right, ha[:ahu] + (1.5dt, 1dt), "Åhus");
        }
    }
}


# SE HHR.  Hässleholm - Ramlösa
with detail = 2 {
    let hr = path("d2.se.hhr");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.HHR" {
            track(hr[:has.yh, :has.yh + 6.2km]);
            line_label(:right:s, hr[:has.yh + 6.2km], "HHR");
            track(hr[:has.yh + 6.2km, :kli.ye - 8.6km]);
            line_label(:right:s, hr[:kli.ye - 8.6km], "HHR");
            track(hr[:kli.ye - 8.6km, :kli.ye]);
        }

        with link = "point.se.Klippan" {
            track(hr[:kli.ye, :kli.ya]);
            statdot(hr[:kli]);
            slabel(:right, hr[:kli] + (-1dt, -1.5dt), "Klippan");
        }

        with link = "line.se.HHR" {
            track(hr[:kli.ya, :kli.ya + 4km]);
            line_label(:right:s, hr[:kli.ya + 4km], "HHR");
            track(hr[:kli.ya + 4km, :kar.yv]);
        }

        with link = "point.se.Kärreberga" {
            track(hr[:kar.yv, :kar]);
            statdot(:nopax, hr[:kar]);
            slabel(:nw, hr[:kar] + (-1.5dt, 1.3dt), "Kärreberga");
        }

        with link = "line.se.HHR" {
            track(hr[:kar, :ast.yk]);
        }

        # point.se.Åstorp                             # se.GBM

        with link = "line.se.HHR" {
            track(hr[:ast.yr, :ast.ym]);
            track(hr[:ast.ym, :ast.ym + 2.3km]);
            line_label(:right:e, hr[:ast.ym + 2.3km], (0dt, -0.2dt), "HHR");
            track(hr[:ast.ym + 2.3km, :bju.yb]);
        }

        with link = "point.se.Bjuv" {
            track(hr[:bju.yb, :bju.yh]);
            statdot(hr[:bju]);
            slabel(:left, hr[:bju] + (-0.8km, 0dt) + (-1.5dt, 1.3dt), "Bjuv");
        }

        with link = "line.se.HHR" {
            track(hr[:bju.yh, :bju + 7km]);
            line_label(:left:nw, hr[:bju + 7km], "HHR");
            track(hr[:bju + 7km, :ram.yh]);
        }
    }
}


# SE HKB.  Hallanda - Kättilsbyn
with detail = 2 {
    let hk = path("d2.se.hkb");

    with railway = :first :pax :removed {
        with link = "line.se.HKB" {
            track(hk[:hal.yk, :hal.yk + 1.6km]);
            line_label(:right:w, hk[:hal.yk + 1.6km], "HKB");
            track(hk[:hal.yk + 1.6km, :kat]);
        }

        with link = "point.se.Kättilsbyn" {
            statdot(hk[:kat]);
            slabel(:top, hk[:kat] + (0.5dt, -0.8dt), "Kättilsbyn");
        }
    }
}


# SE HMB.  Harmånger - Bergsjö
with detail = 2 {
    let hb = path("d2.se.hmb");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.HMB" {
            track(hb[:har.yv, :har.yv + 2.2km]);
            line_label(:right:s, hb[:har.yv + 2.2km] + (-0.3dt, 0dt), "HMB");
            track(hb[:har.yv + 2.2km, :vat.yh]);
            track(hb[:vat.yh, :vat]);
        }

        with link = "point.se.Vattrångsby" {
            statdot(hb[:vat]);
            slabel(:ne, hb[:vat] + (-1dt, 0dt), "Vattrångsby");
        }

        with link = "line.se.HMB" {
            track(hb[:vat, :vat + 7.5km]);
            line_label(:right:sw, hb[:vat + 7.5km], "HMB");
            track(hb[:vat + 7.5km, :ber]);
        }

        with link = "point.se.Bergsjö" {
            statdot(hb[:ber]);
            slabel(:top, hb[:ber] + (0dt, -0.9dt), "Bergsjö");
        }
    }
}


# SE HNS.  Hamrångefjärden - Norrsundet
with detail = 2 {
    let hn = path("d2.se.hns");

    with railway = :first :nopax {
        with link = "line.se.HNS" {
            track(hn[:ham.yn, :aby.yh]);
            track(hn[:aby.yh, :aby.yh + 3km]);
            line_label(:left:se, hn[:aby.yh + 3km], "HNS");
            track(hn[:aby.yh + 3km, :nor]);
        }

        with link = "point.se.Norrsundet" {
            statdot(hn[:nor]);
            slabel(:right, hn[:nor] + (1.5dt, 1.3dt), "Norrsundet");
        }
    }
}


# SE HNV.  Hörken - Neva
with detail = 2 {
    let hl = path("d2.se.hnv.1");
    let ln = path("d2.se.hnv.2");

    with railway = :first :g802 :pax :removed {
        with link = "line.se.HNV" {
            track(hl[:hor.yn, :hor.yn + 9.5km]);
            line_label(:right:s, hl[:hor.yn + 9.5km], "HNV");
            track(hl[:hor.yn + 9.5km, :lov.yn]);
        }

        with link = "point.se.Lövsjöväxeln" {
            track(hl[:lov.yn, :lov]);
            statdot(hl[:lov]);
            slabel(:top, hl[:lov] + (0dt, -0.8dt), "Lövsjöväxeln");
        }

        with link = "line.se.HNV" {
            track(ln[:lov.yn, :lov.yn + 6km]);
            line_label(:left:nw, ln[:lov.yn + 6km], "HNV");
            track(ln[:lov.yn + 6km, :gra.yh]);
        }

        with link = "point.se.Gravendal" {
            track(ln[:gra.yh, :gra]);
            statdot(ln[:gra]);
            slabel(:left, ln[:gra] + (-1.5dt, 1dt), "Gravendal");
        }

        with link = "line.se.HNV" {
            track(ln[:gra, :gra + 5km]);
            line_label(:right:sw, ln[:gra + 5km], "HNV");
            track(ln[:gra, :nev.yh - 6.7km]);
            line_label(:right:s, ln[:nev.yh - 6.7km], (0.5dt, 0dt), "HNV");
            track(ln[:nev.yh - 6.7km, :nev.yh]);
        }
    }
}


# SE HRS.  Hallsbergs rangerbangård - Skymossen
with detail = 2 {
    let hs = path("d2.se.hrs");

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.HRS" {
            track(hs[:har.ys, :har.ys + 2.5km]);
            line_label(:right:n, hs[:har.ys + 2.5km], (-0.5dt, 0dt), "HRS");
            track(hs[:har.ys + 2.5km, :sky]);
        }
    }
}


# SE HRT.  Hestra - Reftele
with detail = 2 {
    let hr = path("d2.se.hrt");

    with railway = :first :pax :removed {
        with link = "line.se.HRT" {
            track(hr[:hes.yr, :hes.yr + 6km]);
            line_label(:right:e, hr[:hes.yr + 6km], (0dt, -0.15dt), "HRT");
            track(hr[:hes.yr + 6km, :ref.yh - 8km]);
            line_label(:left:w, hr[:ref.yh - 8km], (0dt, 0.15dt), "HRT");
            track(hr[:ref.yh - 8km, :ref.yh]);
        }
    }
}


# SE HSL.  Hästveda - Skepparslöv
with detail = 2 {
    let hk = path("d2.se.hsl.1");
    let ks = path("d2.se.hsl.2");

    with railway = :first :pax :removed {
        with link = "line.se.HSL" {
            track(hk[:hav.ys, :hav.ys + 7.7km]);
            line_label(:left:sw, hk[:hav.ys + 7.7km], "HSL");
            track(hk[:hav.ys + 7.7km, :han]);
        }
    }

    with railway = :first :pax :closed {
        with link = "point.se.Hanaskog" {
            statdot(hk[:han]);
            slabel(:right, hk[:han] + (1.5dt, 1dt), "Hanaskog");
        }

        with link = "line.se.HSL" {
            track(hk[:han, :han + 5.5km]);
            line_label(:left:w, hk[:han + 5.5km], "HSL");
            track(hk[:han + 5.5km, :far.ys]);
        }

        with link = "point.se.Färlöv" {
            track(hk[:far.ys, :far]);
            statdot(:removed, hk[:far]);
            slabel(:right:removed, hk[:far] + (1.5dt, 1dt), "Färlöv");
        }

        with link = "line.se.HSL" {
            track(hk[:far, :kar.yh]);
        }
    }

    # point.se.Karpalund  se.HHA

    with railway = :first :pax :removed {
        with link = "line.se.HSL" {
            track(ks[:kar.ys, :ske.yk]);
        }
    }
}


# SE HSM.  Härnösand - Mörtsal växel
with detail = 2 {
    let hm = path("d2.se.hsm");

    with railway = :first :cat:ac15 :pax {
        with link = "line.se.HSM" {
            track(hm[:has.ym, :has.ym + 2km]);
            track(:casing, hm[:has.ym + 2km, :has.ym + 4km]);
            track(hm[:has.ym + 4km, :mor - 7km]);
            line_label(:right:w, hm[:mor - 7km], "HSM");
            track(hm[:mor - 7km, :mor]);
        }

        with link = "point.se.Mörtsal" {
            statdot(:nopax, hm[:mor]);
            slabel(:right, hm[:mor] + (1.5dt, 0.8dt), "Mörtsal");
        }

        with link = "line.se.HSM" {
            track(hm[:mor, :mor.ya]);
        }
    }
}


# SE HST.  Hyllie - Svågertorp
with detail = 2 {
    with link = "line.se.hst" {
        track(:first :double :cat:ac15 :pax,
                path("d2.se.hst")[:hyl.ys, :sva.yh]
        );
    }
}


# SE HSV.  Halmstad - Vislanda
with detail = 2 {
    let hv = path("d2.se.hsv");

    with railway = :first :g1067 :pax :removed {
        with link = "line.se.HSV" {
            track(hv[:hal, :hal + 6km]);
            line_label(:right:nw, hv[:hal + 6km], "HSV");
            track(hv[:hal + 6km, :ase.yu - 8km]);
            line_label(:right:n, hv[:ase.yu - 8km], "HSV");
            track(hv[:ase.yu - 8km, :ase.yu]);
        }

        with link = "point.se.Åsen" {
            track(hv[:ase.yu, :ase]);
            statdot(hv[:ase]);
            slabel(:ne, hv[:ase] + (-0.5dt, 0.5dt), "Åsen");
        }

        with link = "line.se.HSV" {
            track(hv[:ase, :ase + 5.5km]);
            line_label(:right:n, hv[:ase + 5.5km], "HSV");
            track(hv[:ase + 5.5km, :bol]);
        }

        with link = "point.se.Bolmen" {
            statdot(hv[:bol]);
            slabel(:nw, hv[:bol] + (0dt, 1dt), "Bolmen");
        }

        with link = "line.se.HSV" {
            track(hv[:bol, :bol + 8km]);
            line_label(:left:s, hv[:bol + 8km], (-0.2dt, 0dt), "HSV");
            track(hv[:bol + 8km, :lju.yh]);
        }

        # point.se.Ljungby

        with link = "line.se.HSV" {
            track(hv[:lju.yv, :lju.yv + 8km]);
            line_label(:right:n, hv[:lju.yv + 8km], "HSV");
            track(hv[:lju.yv + 8km, :vis.yh - 6.2km]);
            line_label(:left:s, hv[:vis.yh - 6.2km], "HSV");
            track(hv[:vis.yh - 6.2km, :vis.yh]);
        }
    }
}


# SE HUR.  Husums norra - Rågön
with detail = 2 {
    let hr = path("d2.se.hur");

    with railway = :first :cat:ac15 :nopax {
        with link = "line.se.HUR" {
            track(hr[:hun.yr, :hun.yr + 1.5km]);
            line_label(:left:w, hr[:hun.yr + 1.5km], "HUR");
            track(hr[:hun.yr + 1.5km, :rag]);
        }

        with link = "point.se.Rågön" {
            statdot(hr[:rag]);
            slabel(:bottom, hr[:rag] + (0dt, 0.9dt), "Rågön");
        }
    }
}


# SE HVB.  Hudiksvall - Vattrångsby
with detail = 2 {
    let hb = path("d2.se.hvb");

    with railway = :first :g891 :pax :removed {
        with link = "line.se.HVB" {
            track(hb[:hud.yb, :hud.yb + 3km]);
            line_label(:right:w, hb[:hud.yb + 3km], "HVB");
            track(hb[:hud.yb + 3km, :hud.xn]);

            track(hb[:hud.zn, :vat.yh - 4.75km]);
            line_label(:left:e, hb[:vat.yh - 4.75km], "HVB");
            track(hb[:vat.yh - 4.75km, :vat.yh]);
        }
    }
}


# SE HVV.  Hå - Vallvik
with detail = 2 {
    let hv = path("d2.se.hvv");

    with railway = :first :g891 :nopax :removed {
        with link = "point.se.Hå" {
            statdot(hv[:haa]);
            slabel(:left, hv[:haa] + (-1.3dt, 0.8dt), "Hå");
        }

        with link = "line.se.HVV" {
            track(hv[:haa, :haa + 3.7km]);
            line_label(:right:ne, hv[:haa + 3.7km], "HVV");
            track(hv[:haa + 3.7km, :val.xs]);
        }
    }

    with railway = :side :nopax {
        with link = "line.se.HVV" {
            track(hv[:val.xs, :vas]);
        }

        with link = "point.se.Vallvik-sulfitfabrik" {
            statdot(hv[:vas]);
            slabel(:right, hv[:vas] + (1.5dt, 1dt), "V. sulfitfabrik");
        }
    }
}


# SE HYH.  Hörby - Höör
with detail = 2 {
    let hh = path("d2.se.hyh");

    with railway = :first :pax :removed {
        with link = "line.se.HYH" {
            track(hh[:hor.yh, :hor.yh + 6.3km]);
            line_label(:right:sw, hh[:hor.yh + 6.3km], "HYH");
            track(hh[:hor.yh + 6.3km, :hoo.yh]);
        }
    }
}

