with detail = 1 {
    with link = "line.se.UEK" {
        track(:second :pax :removed, path("d1.se.uek")[:upn.ye, :enk.yu]);
    }

    with link = "line.se.SFG" {
        track(:second :nopax, path("d1.se.ufs")[:ulr.ys, :str]);
    }

    with link = "line.se.USL" {
        let ul = path("d1.se.usl");

        with railway = :first :double :cat:ac15 :pax {
            track(ul[:upp.yg, :orb.yd]);
            track(ul[:orb.yd, :tie.ys]);
            track(ul[:tie.ys, :orr.ys]);
            track(ul[:orr.ys, :orr.yu]);
            track(ul[:orr.yu, :gav.ym]);
            track(ul[:gav.ym, :str]);
        }

        with railway = :first :cat:ac15 :pax {
            track(ul[:str, :ham.yn]);
            track(ul[:ham.yn, :val.ys]);
        }

        track(:first :cat:ac15 :pax :removed, ul[:val.ys, :ljb.yv]);
        track(:first :nopax, ul[:ljb.yv, :stu]);

        with railway = :first :cat:ac15 :pax :removed {
            track(ul[:stu, :sov.ys]);
            track(ul[:sty, :loc]);
        }

        with railway = :first :cat:ac15 :pax {
            track(ul[:loc, :hud.yl]);
            track(ul[:hud.yl, :hud.yb]);
            track(ul[:hud.yb, :hud.xn]);
            track(ul[:hud.xn, :hud.zn]);
            track(ul[:hud.zn, :har.yv]);
            track(ul[:har.yv, :sun]);
            track(:double, ul[:sun, :nas]);
            track(ul[:nas, :bir.yt]);
            track(ul[:bir.yt, :sko.yt]);
            track(ul[:sko.yt, :has.ym]);
        }

        track(:first :nopax, ul[:has.ym, :ala]);
        track(:first :pax :closed, ul[:ala, :mor.ya]);
        track(:first :cat:ac15 :pax, ul[:mor.ya, :bol.yv]);
        track(:first :cat:ac15 :pax :removed, ul[:bol.yv, :nyl]);
        track(:first :nopax, ul[:nyl, :vas.yn]);
        track(:first :cat:ac15 :pax, ul[:vas.yn, :vas.yo]);
        track(:first :cat:ac15 :nopax, ul[:vas.yo, :lan.yg]);

        with link = "point.se.Gävle-central" {
            slabel(:right :cat:ac15 :pax,
                ul[:gav.ym] + (3km, -0.5km) + (1dt, -1dt),
                "Gävle"
            );
        }

        with link = "point.se.Sundsvalls-central" {
            slabel(:right :cat:ac15 :pax,
                ul[:sun] + (2.5km, 0dt) + (1dt, 1.5dt),
                "Sundsvall"
            );
        }
    }

    with link = "line.se.UVB" {
        let ub = path("d1.se.uvb");

        with railway = :first :g891 :pax :removed {
            track(ub[:udd, :bac.yu]);
            track(ub[:bac.yb, :bil.yu]);
        }
    }

    with link = "line.se.UVV" {
        let uh = path("d1.se.uvv.1");
        let hv = path("d1.se.uvv.2");

        with railway = :first :cat:ac15 :pax {
            track(uh[:udd.yo, :oxn.yu]);
            track(uh[:oxn.yh, :hak.yl]);
            track(uh[:hak.yl, :hak.yt]);
            track(uh[:hak.yt, :var.yg]);
            track(uh[:var.yg, :var.ys]);
            track(uh[:var.ys, :her.yu]);
            track(hv[:her.yu, :bor.yg]);
            track(hv[:bor.yg, :bor.ya]);
            track(hv[:bor.ya, :var.yb]);
        }
    }
}

