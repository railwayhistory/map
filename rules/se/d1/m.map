with detail = 1 {
    with link = "line.se.MAB" {
        track(:first :nopax, path("d1.se.mab")[:mon, :san.ym]);
    }

    with link = "line.se.MAD" {
        let ma = path("d1.se.mad");

        track(:first :nopax, ma[:mos.ya, :mar]);
        track(:first :pax :removed, ma[:mar, :alv]);
    }

    with link = "line.se.MBM" {
        let mm = path("d1.se.mbm");

        with railway = :first :g600 :removed {
            track(mm[:mub, :mun]);
            track(mm[:mun.yh, :muh]);
        }
    }

    with link = "line.se.MFH" {
        let mf = path("d1.se.mfh");

        with railway = :first :g891 :pax :removed {
            track(mf[:san.yf, :sko.ym]);
            track(mf[:sko.yf, :fag]);
        }
    }

    with link = "line.se.MFL" {
        track(:first :g600 :museum, path("d1.se.mfl")[:maa, :lag.ym]);
    }

    with link = "line.se.MGP" {
        let mg = path("d1.se.mgp");

        with railway = :first :pax :removed {
            track(mg[:mal.yg, :bon.yb]);
            track(mg[:bon.yb, :kla.ym]);
            track(mg[:kla.yg, :gen]);
        }
    }

    with link = "line.se.MGR" {
        let mg = path("d1.se.mgr");
        
        with railway = :first :tourist {
            track(mg[:mel.ya, :bil.yu]);
            track(mg[:bil.yu, :ben]);
        }
        track(:first :closed, mg[:ben, :arj]);
        with railway = :first :pax :removed {
            track(mg[:arj, :bet.ys]);
            track(mg[:bet.ys, :gil]);
        }
    }

    with link = "line.se.MHH" {
        let mh = path("d1.se.mhh");

        with railway = :first :pax :removed {
            track(mh[:mjo.yv, :vad.yb]);
            track(mh[:vad.yb, :has.yf]);
            track(mh[:has.yf, :has.yo]);
        }
    }

    with link = "line.se.MKB" {
        let mk = path("d1.se.mkb");

        track(:first :cat:ac15 :pax, mk[:mor.yk, :bre.yh]);
        track(:first :cat:ac15 :pax, mk[:bre.yh, :kar]);
    }

    with link = "line.se.MKS" {
        let mk = path("d1.se.mks");

        track(:first :pax :removed, mk[:mel.yk, :dal.ys]);
        with railway = :first :cat:ac15 :pax {
            track(mk[:dal.ys, :bac.yu]);
            track(mk[:bac.yu, :bac.yb]);
            track(mk[:bac.yb, :edd.yl]);
            track(mk[:edd.yl, :kog]);
        }
    }

    with link = "line.se.MLN" {
        track(:first :double :cat:ac15 :pax, path("d1.se.mln")[:mal, :ler.ym]);
    }

    with link = "line.se.MMB" {
        track(:first :nopax, path("d1.se.mmb")[:mon, :mob]);
    }

    with link = "line.se.MMS" {
        track(:first :g891 :pax :removed, path("d1.se.mms")[:moh.ym, :mar.ym]);
    }

    with link = "line.se.MOV" {
        track(:first :cat:ac15 :nopax, path("d1.se.mov")[:mel.yo, :orn.yg]);
    }

    with link = "line.se.MRG" {
        let mr = path("d1.se.mrg");

        with railway = :first :pax :removed{
            track(mr[:sod.yt, :tyg.yk]);
            track(mr[:tyg.yk, :vel.yf]);
            track(mr[:vel.yf, :tre.yv]);
            track(mr[:tre.ym, :kla.ys]);
            track(mr[:kla.ys, :kla.yb]);
            track(mr[:kla.yb, :ski.yc]);
            track(mr[:ski.yc, :ryd.yt]);
        }
    }


    with link = "line.se.MSH" {
        let ms = path("d1.se.msh");

        with railway = :first :nopax :suspended {
            track(ms[:ost.ys, :sta.yt]);
            track(ms[:sta.yt, :sta.yl]);
        }
        with railway = :first :pax :removed {
            track(ms[:sta.yl, :dal.yh]);
            track(ms[:dal.yh, :sjo.yb]);
            track(ms[:sjo.yb, :tom.ym]);
        }
        with railway = :first :cat:ac15 :pax {
            track(ms[:tom.ys, :gar.yk]);
            track(ms[:gar.yk, :gar.yb]);
            track(ms[:gar.yb, :sim]);
        }
    }

    with link = "line.se.MSN" {
        track(:first :pax :removed, path("d1.se.msn")[:mel.ys, :sun]);
    }

    with link = "line.se.MTB" {
        let mt = path("d1.se.mtb");

        with railway = :first :cat:ac15 :pax {
            track(:double, mt[:mal.yt, :ost.ys]);
            track(:double, mt[:ost.ys, :loc]);
            track(mt[:loc, :skv.ys]);
            track(mt[:skv.ys, :tre.ym]);
            track(mt[:tre.ym, :tre]);
        }

        let mt = path("d1.se.mtb.tre");

        with railway = :first :pax :removed {
            track(mt[:skv.ys, :tre.yl]);
            track(mt[:tre.yl, :tre.ym]);
        }
    }

    with link = "line.se.MYS" {
        let my = path("d1.se.mys");

        with railway = :first :pax :removed {
            track(my[:mal, :mal.yl]);
            track(my[:mal.yl, :sod.yt]);
            track(my[:sod.yt, :oxi.yl]);
        }
        with railway = :first :cat:ac15 :pax {
            track(my[:oxi.yl, :bor.ys]);
            track(my[:bor.ys, :ryd.yt]);
            track(my[:ryd.yt, :cha.ys]);
            track(my[:cha.ys, :yst]);
        }
    }
}

