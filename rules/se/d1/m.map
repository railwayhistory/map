with detail = 1 {
    with link = "line.se.MAD" {
        let ma = path("d1.se.mad");

        track(:first :nopax, ma[:mos.ya, :mar]);
        track(:first :pax :removed, ma[:mar, :alv]);
    }

    with link = "line.se.MBM" {
        let mm = path("d1.se.mbm");

        with railway = :first :g600 :removed {
            track(mm[:mub, :mun]);
            track(mm[:mun.yh, :muh]);
        }
    }

    with link = "line.se.MFL" {
        track(:second :g600 :museum, path("d1.se.mfl")[:maa, :lag.ym]);
    }

    with link = "line.se.MFL" {
        let mh = path("d1.se.mhh");

        with railway = :first :pax :removed {
            track(mh[:mjo.yv, :vad.yb]);
            track(mh[:vad.yb, :has.yf]);
            track(mh[:has.yf, :has.yo]);
        }
    }

    with link = "line.se.MKB" {
        let mk = path("d1.se.mkb");

        track(:first :cat:ac15 :pax, mk[:mor.yk, :bre.yh]);
        track(:first :cat:ac15 :pax, mk[:bre.yh, :kar]);
    }

    with link = "line.se.MKS" {
        let mk = path("d1.se.mks");

        track(:first :pax :removed, mk[:mel.yk, :dal.ys]);
        with railway = :first :cat:ac15 :pax {
            track(mk[:dal.ys, :bac.yu]);
            track(mk[:bac.yu, :bac.yb]);
            track(mk[:bac.yb, :edd.yl]);
            track(mk[:edd.yl, :kog]);
        }
    }

    with link = "line.se.MOV" {
        track(:first :cat:ac15 :nopax, path("d1.se.mov")[:mel.yo, :orn.yg]);
    }

    with link = "line.se.MRG" {
        let mg = path("d1.se.mrg");
        
        with railway = :first :tourist {
            track(mg[:mel.ya, :bil.yu]);
            track(mg[:bil.yu, :ben]);
        }
        track(:first :closed, mg[:ben, :arj]);
        with railway = :first :pax :removed {
            track(mg[:arj, :bet.ys]);
            track(mg[:bet.ys, :gil]);
        }
    }

    with link = "line.se.MOV" {
        track(:first :pax :removed, path("d1.se.msn")[:mel.ys, :sun]);
    }
}

