with detail = 1 {
    with link = "line.se.SAM" {
        track(:first :double :cat:ac15 :pax,
            path("d1.se.sam")[:ska.ya, :myr.ya]
        );
    }

    with link = "line.se.SAV" {
        track(:first :g891 :pax :removed, path("d1.se.sav")[:sko.ya, :axv.ys]);
    }

    with link = "line.se.SBL" {
        track(:first :nopax :removed, path("d1.se.sbl")[:sli, :bol]);
    }

    with link = "line.se.SBT" {
        track(:first :g891 :pax :removed, path("d1.se.sbt")[:sve.yt, :tid]);
    }

    with link = "line.se.SDF" {
        track(:first :g802 :pax :removed,
                path("d1.se.sdf")[:str.yv, :deg.yv]
        );
    }

    with link = "line.se.SDR" {
        track(:first :cat:ac15 :pax, path("d1.se.sdr")[:ska, :dal.ys]);
    }

    with link = "line.se.SEB" {
        track(:first :g891 :pax :removed, path("d1.se.seb")[:sjo.ye, :ede]);
    }

    with link = "line.se.SET" {
        let se = path("d1.se.set");

        with railway = :first :cat:ac15 :pax {
            track(se[:sos, :nyk]);
            track(:double, se[:nyk, :lag]);
            track(se[:lag, :str]);
            track(:double, se[:str, :har]);
            track(se[:har, :esk.ys]);
        }
    }

    with link = "line.se.SGB" {
        let sg = path("d1.se.sgb");

        with railway = :first :double :cat:ac15 :pax {
            track(sg[:sto, :lil.ye]);
            track(sg[:lil.ye, :alv.yn]);
            track(sg[:alv.yn, :fle.yj]);
            track(sg[:fle.yj, :soh.yc]);
            track(sg[:soh.yc, :jar.ya]);
            track(sg[:jar.ya, :ske.ys]);
            track(sg[:ske.ys, :flo]);
            track(sg[:flo, :kat.yn]);
            track(sg[:kat.yn, :pal]);
            track(sg[:pal, :hal.yf]);
            track(sg[:hal.yf, :hal]);
            track(sg[:hal, :har.ys]);
            track(sg[:har.ys, :lax.yk]);
            track(sg[:lax.yk, :lax.yr]);
            track(sg[:lax.yr, :gar.yh]);
            track(sg[:gar.yh, :moh.ym]);
            track(sg[:moh.ym, :sko.yk]);
            track(sg[:sko.yk, :sko.ya]);
            track(sg[:sko.ya, :ste.yh]);
            track(sg[:ste.yh, :ste.yl]);
            track(sg[:ste.yl, :fal.yu]);
            track(sg[:fal.yu, :fal.yn]);
            track(sg[:fal.yn, :her.yu]);
            track(sg[:her.yu, :ols.yf]);
            track(sg[:ols.yf, :got]);

            with link = "point.se.Stockholms-central" {
                slabel(:right :medium :bold,
                    sg[:sto] + (12km, 0.8dt),
                    "Stockholm"
                );
            }

            with link = "point.se.GÃ¶teborg-Central" {
                slabel(:left :bold, sg[:got] + (-9km, 1.5dt), "GÃ¶teborg");
            }
        }
    }

    with link = "line.se.SGM" {
        track(:first :nopax :removed, path("d1.se.sgm")[:sto.yg, :gul]);
    }

    with link = "line.se.SHC", zoom = :high {
        track(:first :double :cat:ac15 :pax, path("d1.se.shc")[:soh.yc, :soc]);
    }

    with link = "line.se.SHG" {
        let sl = path("d1.se.shg");

        track(:first :pax :removed, sl[:sal.yg, :hag.ys]);
    }

    with link = "line.se.SHB" {
        let sb = path("d1.se.shb");

        track(:first :double :cat:ac15 :pax, sb[:sto, :upp.yg]);
        track(:first :cat:ac15 :pax, sb[:upp.yg, :akr.yr]);
        track(:first :cat:ac15 :nopax, sb[:akr.yr, :stv.yf]);
        track(:first :cat:ac15 :pax, sb[:stv.yf, :stv.yg]);
        track(:first :cat:ac15 :nopax, sb[:stv.yg, :ock.yg]);
        track(:first :cat:ac15 :pax, sb[:ock.yg, :mog]);
        track(:first :double :cat:ac15 :pax, sb[:mog, :hol]);
        track(:first :cat:ac15 :pax, sb[:hol, :kil.ys]);
        track(:first :double :cat:ac15 :pax, sb[:kil.ys, :bol]);
        track(:first :cat:ac15 :pax, sb[:bol, :ram]);
        track(:first :double :cat:ac15 :pax, sb[:ram, :ova.ym]);
        track(:first :cat:ac15 :pax, sb[:ova.ym, :ang.yo] >> 0.5md << 0.5mt);
        track(:first :double :cat:ac15 :pax, sb[:ang.yo, :bra.ys]);
        track(:first :cat:ac15 :nopax, sb[:bra.ys, :mel.yo]);
        track(:first :cat:ac15 :nopax, sb[:mel.yo, :van.yu]);
        track(:first :cat:ac15 :pax, sb[:van.yu, :jor.ya]);
        track(:first :cat:ac15 :pax, sb[:jor.ya, :bod]);

        with link = "point.se.Boden-central" {
            slabel(:right :cat:ac15 :pax, sb[:bod] + (1.0dt, 0.8dt), "Boden");
        }
    }

    with link = "line.se.SHH" {
        let sh = path("d1.se.shh");

        with railway = :first :double :cat:dc15 :g891 :pax {
            track(sh[:sos, :dju.yn]);
            track(sh[:dju.yn, :ros.yo]);
            track(sh[:ros.yo, :val]);
        }

        track(:first :double :cat:dc15 :g891 :pax, sh[:val, :kar]);

        with railway = :first :g891 :pax :removed {
            track(sh[:kar, :rim.yu]);
            track(sh[:rim.yu, :hal]);
        }
    }

    with link = "line.se.SHL" {
        track(:first :cat:ac15 :pax, path("d1.se.shl")[:sov.yk, :loc]);
    }

    with link = "line.se.SHV" {
        track(:first :double :cat:ac15 :pax,
                path("d1.se.shv")[:tom.yv, :van.ys]
        );
    }

    with link = "line.se.SKB" {
        track(:first :pax :removed, path("d1.se.skb")[:sko.yk, :kar]);
    }

    with link = "line.sl.SLV" {
        let sl = path("d1.se.slk");

        with railway = :first :g891 :pax :removed {
            track(sl[:ste.yl, :axv.ys]);
            track(sl[:axv.ys, :ska]);
            track(sl[:ska.yl, :lid.ys]);
        }
    }

    with link = "line.sl.SLV" {
        let sl = path("d1.se.slv");

        track(:first :pax :removed, sl[:spa.yl, :has]);
        track(:first :nopax :removed, sl[:has, :lov]);
    }

    with link = "line.se.SMB" {
        let sm = path("d1.se.smb");

        track(:first :pax :removed, sm[:sos.yt, :nyk.yt]);
        track(:first :pax :removed, sm[:nyk.ym, :tax]);
        track(:first :g600 :museum, sm[:tax, :lag]);
        track(:first :pax :removed, sm[:lag, :esk.ya]);
        track(:first :nopax, sm[:hal.ym, :nyb]);
        track(:first :removed, sm[:nyb, :mal]);
    }

    with link = "line.se.SMG" {
        track(:first :nopax :removed, path("d1.se.smg.1")[:sil.yv, :vin]);
        track(:first :nopax :removed, path("d1.se.smg.2")[:vin.ym, :mos]);
    }

    with link = "line.se.SMl" {
        let sm = path("d1.se.sml");

        track(:first :g891 :pax :removed, sm[:sav.ym, :vet.ys]);
        track(:first :nopax, sm[:vet.ym, :kvi.yp]);
        track(:first :nopax, sm[:kvi.yp, :jar]);
        with railway = :first :g891 :pax :removed {
            track(sm[:jar, :gar.ys]);
            track(sm[:gar.ym, :mal.ys]);
        }
    }

    with link = "line.se.SNG" {
        track(:first :g891 :pax :removed, path("d1.se.snv")[:spa.yv, :vim.ys]);
    }

    with link = "line.se.SSB" {
        let sb = path("d1.se.ssb");

        with railway = :first :cat:dc75 :pax {
            track(sb[:slu, :nac]);
            track(:double, sb[:nac, :jar]);
            track(sb[:jar, :sto]);
            track(:double, sb[:sto, :duv]);
            track(sb[:duv, :ige.ys]);
            track(sb[:ige.ys, :sal]);
        }
    }

    with link = "line.se.SSA" {
        track(:first :nopax :removed, path("d1.se.ssa")[:sto.yg, :str]);
    }

    with link = "line.se.SSV" {
        track(:first :pax :removed, path("d1.se.ssv")[:sta.ys, :ske.ys]);
    }

    with link = "line.se.STD" {
        track(:first :g891 :pax :removed, path("d1.se.std")[:ska, :tim]);
    }

    with link = "line.se.STH" {
        let sh = path("d1.se.sth");

        with railway = :first :g891 :pax :removed {
            track(sh[:ste.yh, :sve.yt]);
            track(sh[:sve.yt, :hjo]);
        }
    }

    with link = "line.se.SUS" {
        track(:first :nopax :removed, path("d1.se.sus")[:sbn.yu, :ulv]);
    }

    with link = "line.se.SVB" {
        let sv = path("d1.se.svb");

        track(:first :pax :removed, sv[:lun.yg, :tor]);
        track(:first :cat:ac15 :nopax, sv[:tor, :til.yk]);
        track(:first :pax :removed, sv[:til.yk, :bra.yk]);
        track(:first :cat:ac15 :pax, sv[:bra.yk, :lud.yb]);
        track(:first :pax :removed, sv[:lud.yb, :bjo.yr]);
        track(:first :nopax, sv[:bjo.yr, :van.yb]);
    }

    with link = "line.se.SVH" {
        track(:first :pax :removed, path("d1.se.svh")[:sve.yh, :hed]);
    }

    with link = "line.se.SVT" {
        let st = path("d1.se.svt");
    
        track(:first :nopax :removed, st[:sko.yt, :joh.yb]);
        track(:first :cat:ac15 :nopax, st[:joh.yb, :fil]);
        track(:first :nopax, st[:fil, :tun]);
    }
}

