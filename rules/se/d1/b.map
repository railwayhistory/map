with detail = 1 {
    with link = "line.se.BBM" {
        track(:first :pax :removed, path("d1.se.bbm")[:bri.ym, :mal.yb]);
    }

    with link = "line.se.BBS" {
        track(:first :g891 :nopax :removed, path("d1.se.bbs")[:bjo.ys, :sky]);
    }

    with link = "line.se.BFG" {
        track(:first :g750 :pax :removed, path("d1.se.bfg")[:bra, :gei.yb]);
    }

    with link = "line.se.BFV" {
        track(:first :nopax, path("d1.se.bfv")[:bof, :val]);
    }

    with link = "line.se.BHK" {
        track(:first :pax :removed, path("d1.se.bhk")[:ban.yk, :klo]);
    }

    with link = "line.se.BHP" {
        let bh = path("d1.se.bhp");

        track(:first :cat:ac15 :pax, bh[:bud.yh, :mor.yk]);
        track(:first :pax :closed, bh[:mor.yk, :hap.yk]);
        track(:first :cat:ac15 :pax, bh[:hap.yk, :hap]);
        track(:first :cat:ac25 :g1435:gg1524 :nopax, bh[:hap, :hag]);

        with link = "point.se.Haparanda" {
            slabel(:ne :cat:ac15 :pax, bh[:hap] + (-0.5dt, 0dt),
                "Haparanda"
            );
        }
    }

    with link = "line.se.BKV" {
        track(:first :pax :removed, path("d1.se.bkv")[:bro.yk, :kyr]);
    }

    with link = "line.se.BLH" {
        track(:first :g891 :pax :removed, path("d1.se.blh")[:byv.yl, :lan]);
    }

    with link = "line.se.BLU" {
        let bl = path("d1.se.blu");

        track(:first :cat:ac15 :pax, bl[:bod.yl, :lul]);
        track(:first :cat:ac15 :nopax, bl[:lul, :lum]);

        with link = "point.se.Luleå" {
            slabel(:right :cat:ac15 :pax, bl[:lul] + (1dt, -0.5dt), "Luleå");
        }
    }

    with link = "line.se.BNO" {
        let bo = path("d1.se.bno");

        with railway = :first :nopax :suspended {
            track(bo[:bol.yo, :vox.yl]);
            track(bo[:vox.yl, :gor.yd]);
            track(bo[:gor.yd, :fur]);
        }
        track(:first :nopax, bo[:fur, :ors.yb]);
    }

    with link = "line.se.BRG" {
        let br = path("d1.se.brg");

        track(:first :cat:ac15 :pax, br[:bod, :gal.ym]);
        track(:first :cat:ac15 :pax, br[:gal.ym, :rat]);
        track(:first :cat:ac15 :pax :removed, br[:rat, :kim.ys]);
        track(:first :cat:ac15 :pax, br[:kim.ys, :rig]);

        with link = "point.se.Kiruna-malmbangård" {
            slabel(:right :cat:ac15 :pax, br[:kim.ys] + (1dt, 0dt), "Kiruna");
        }
    }

    with link = "line.se.BSF" {
        track(:first :pax :removed, path("d1.se.bsf")[:bet.ys, :ski]);
    }

    with link = "line.se.BSL" {
        let bs = path("d1.se.bsl");

        track(:first :cat:ac15 :pax, bs[:bra.ys, :str]);
        track(:first :pax, bs[:str, :stg]);
    }

    with link = "line.se.BTD" {
        track(:first :cat:ac15 :nopax, path("d1.se.btd")[:bir.yt, :joh.yb]);
    }

    with link = "line.se.BTS" {
        let bs = path("d1.se.bts");

        with railway = :first :cat:ac15 :nopax {
            track(bs[:bas.yr, :sli]);
            track(bs[:sli, :sko.yr]);
            track(bs[:sko.yr, :ron]);
        }
    }

    with link = "line.se.BVB" {
        track(:first :cat:ac15 :pax, path("d1.se.bvb")[:bol.yv, :vas.yn]);
    }

    with link = "line.se.BVH" {
        track(:first :cat:ac15 :pax, path("d1.se.bvh")[:bre.yh, :hap.yk]);
    }
}

