with detail = 1 {
    with link = "line.se.TBS" {
        track(:first :cat:ac15 :pax, path("d1.se.tbs")[:til.ys, :sal.yt]);
    }

    with link = "line.se.TBV" {
        track(:first :cat:ac15 :nopax, path("d1.se.tbv")[:tom.ys, :var]);
    }

    with link = "line.se.TKP" {
        let tk = path("d1.se.tkp");

        track(:first :cat:ac15 :pax, tk[:til.yk, :van.ys]);
        track(:first :double :cat:ac15 :pax, tk[:van.ys, :kol.yr]);
        track(:first :cat:ac15 :pax, tk[:kol.yr, :kop]);
    }

    with link = "line.se.TSB" {
        track(:first :pax :removed, path("d1.se.tsb")[:tie.ys, :str]);
    }
}

