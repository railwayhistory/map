with detail = 1 {
    with link = "line.se.NAB" {
        track(:first :g600 :pax :removed, path("d1.se.nab")[:nah, :alm]);
    }

    with link = "line.se.NFH" {
        track(:first :pax :removed, path("d1.se.nfh")[:nyh.yf, :fin.yn]);
    }

    with link = "line.se.NHA" {
        let na = path("d1.se.nha");

        track(:first :cat:ac15 :pax, na[:nyn, :hem]);
        track(:first :double :cat:ac15 :pax, na[:hem, :alv.yn]);
    }

    with link = "line.se.NHD" {
        let nh = path("d1.se.nhd");

        with railway = :first :pax :removed {
            track(nh[:nas, :vas.ym]);
            track(nh[:vas.ym, :hob.yn]);
        }
    }

    with link = "line.se.NHS" {
        let nh = path("d1.se.nhs");

        with railway = :first :pax {
            track(nh[:nas.yv, :vag.yj]);
            track(nh[:vag.yj, :var.yn]);
            track(nh[:var.yh, :var.yk]);
            track(nh[:var.yk, :ref.yh]);
            track(nh[:ref.yh, :lan.yf]);
            track(nh[:lan.yf, :kin.yv]);
            track(nh[:kin.yv, :tor.yh]);
            track(nh[:tor.yh, :fur]);
        }
    }

    with link = "line.se.NKB" {
        track(:first :pax :removed, path("d1.se.nkb")[:nor, :kla]);
    }

    with link = "line.se.NKM" {
        track(:first :g1067 :pax :removed,
                path("d1.se.nkm")[:nor.yk, :kva.yn]
        );
    }

    with link = "line.se.NLB" {
        track(:first :g891 :nopax :removed, path("d1.se.nlb")[:nor.yl, :lov]);
    }

    with link = "line.se.NMH" {
        track(:first :g891 :pax :removed,
            path("d1.se.nmh")[:vas.ym, :mor.yn]
        );
    }

    with link = "line.se.NNB" {
        let nn = path("d1.se.nnb");

        with railway = :first :pax {
            track(nn[:nas.yv, :vet.ys]);
            track(nn[:vet.ys, :vet.ym]);
        }

        with railway = :first :pax :closed {
            track(nn[:vet.ym, :ase.yv]);
            track(nn[:ase.yv, :ase.yh]);
        }

        with railway = :first :pax :removed {
            track(nn[:ase.yh, :sav.yb]);
            track(nn[:sav.yb, :sav.yo]);
            track(nn[:sav.yo, :mal]);
            track(nn[:mal, :nyb.yn]);
        }
    }

    with link = "line.se.NOH" {
        let no = path("d1.se.noh");

        with railway = :first :pax {
            track(no[:nas.yh, :orm]);
            track(no[:orm, :eks.yo]);
        }
        track(:first :nopax, no[:eks.yo, :hul.yl]);
        with railway = :first :pax {
            track(no[:hul.yl, :hul.ya]);
            track(no[:hul.ya, :mal.ys]);
            track(no[:mal.ys, :ber.yk]);
        }
        track(:first :nopax, no[:ber.yk, :osk]);
    }

    with link = "line.se.NTB" {
        track(:first :g891 :nopax :removed, path("d1.se.ntb")[:nor.yt, :nob]);
    }

    with link = "line.se.NVM" {
        let nv = path("d1.se.nvm");

        with railway = :first :g891 :pax :removed {
            track(nv[:noo.yk, :kum.ya]);
            track(nv[:kum.ya, :val]);
        }
    }

    with link = "line.se.NVV" {
        let nv = path("d1.se.nvv");

        with railway = :first :g891 :pax :removed {
            track(nv[:nho.yv, :rin.yl]);
            track(nv[:rin.yl, :atv.yb]);
        }

        with railway = :first :pax {
            track(nv[:atv.yb, :jen.yh]);
            track(nv[:jen.yh, :vas]);
        }
    }
}

