# GB LLR.  Wick - Lybster
#
let wl = path("d4.gb.llr");

with detail = [4, 5] {
    # point.gb.Wick  gb.LLR

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:wic.yl + 150m, :thr - 90m]);
        line_badge(:removed, wl[:wic.yl + 1.3km], "LLR");
    }

    with link = "point.gb.Thrumster" {
        track(:third:station :removed, wl[:thr - 90m, :thr + 200m]);

        track(:station :removed, wl[:thr - 10m, :thr + 150m] >> 1dt);
            track(:station :removed,
                    wl[:thr + 35m] >> 1dt
                --  wl[:thr + 80m]
            );

        track(:station :removed,
                wl[:thr + 64m, :thr + 65m] >> 1dt
            ..  wl[:thr + 100m, :thr + 120m] >> 2dt
        );

        platform(:removed,
                wl[:thr - 40m, :thr + 40m]
            --  wl[:thr + 40m, :thr - 40m] >> 0.7dt
        );

        marker(:left :de.bf :removed, wl[:thr] << 0.5dt);
        station(:right :removed, wl[:thr + 0.3sw] << 0.5dt << 1.7sh,
            "Thrumster", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:thr + 200m, :wel - 1sw]);
        line_badge(:removed, wl[:thr + 1.5km], "LLR");
    }

    with link = "point.gb.Welshs-Crossing" {
        track(:third:station :removed, wl[:wel - 1sw, :wel + 1sw]);
        marker(:left :de.hp :removed, wl[:wel]);
        station(:right :removed, wl[:wel + 0.2sw] << 1.6sh,
            "Welshâ€™s Crossing Halt", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:wel + 1sw, :ulb - 100m]);
    }

    with link = "point.gb.Ulbster" {
        track(:station :removed,
                wl[:ulb + 15m, :ulb + 70m] << 1.2dt
            ..  wl[:ulb + 120m, :ulb + 140m] << 1dt
        );
            track(:station :removed,
                    wl[:ulb + 69m, :ulb + 70m] << 1.2dt
                ..  wl[:ulb + 120m, :ulb + 121m]
            );
        track(:third:station :removed, wl[:ulb - 100m, :ulb + 200m]);
        platform(:removed,
                wl[:ulb - 20m, :ulb + 55m]
            --  wl[:ulb + 55m, :ulb - 20m] >> 0.7dt
        );
        marker(:left :de.bf :removed, wl[:ulb] << 1.2dt);
        station(:right :removed, wl[:ulb + 0.05sw] << 1.2dt << 1.8sh,
            "Ulbster", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:ulb + 200m, :mid - 200m]);
    }

    with link = "point.gb.Mid-Clyth" {
        track(:station :removed,
                wl[:mid - 150m, :mid - 85m] << 1dt
            ..  wl[:mid - 30m, :mid - 29m]
        );
        track(:third:station :removed, wl[:mid - 200m, :mid + 100m]);
        platform(:removed,
                wl[:mid - 30m, :mid + 35m]
            --  wl[:mid + 35m, :mid - 30m] >> 0.7dt
        );
        marker(:left :de.bf :removed, wl[:mid] << 1dt);
        station(:right :removed, wl[:mid + 0.25sw] << 2.0sh,
            "Mid Clyth", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:mid + 100m, :ros - 1sw]);
    }

    with link = "point.gb.Roster-Road" {
        track(:third:station :removed, wl[:ros - 1sw, :ros + 1sw]);
        marker(:left :de.hp :removed, wl[:ros]);
        station(:right :removed, wl[:ros + 0.2sw] << 1.8sh,
            "Roster Road Halt", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:ros + 1sw, :occ - 230m]);
        line_badge(:removed, wl[:occ - 1.2km], "LLR");
    }

    with link = "point.gb.Occumster" {
        track(:station :removed,
                wl[:occ - 180m, :occ - 95m] << 1.0dt
            ..  wl[:occ - 40m, :occ - 10m] << 1.2dt
        );
            track(:station :removed,
                    wl[:occ - 96m, :occ - 95m] << 1.0dt
                ..  wl[:occ - 35m, :occ - 34m]
            );
        track(:third:station :removed, wl[:occ - 230m, :occ + 100m]);
        platform(:removed,
                wl[:occ - 35m, :occ + 45m]
            --  wl[:occ + 45m, :occ - 35m] >> 0.7dt
        );
        marker(:left :de.bf :removed, wl[:occ] << 1.2dt);
        station(:bottom :removed, wl[:occ] << 1.2dt << 1.3sh,
            "Occumster", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:occ + 100m, :par - 1sw]);
    }

    with link = "point.gb.Parkside" {
        track(:third:station :removed, wl[:par - 1sw, :par + 1sw]);
        marker(:right :de.hp :removed, wl[:par]);
        station(:left :removed, wl[:par + 0.3sw] >> 1.3sh,
            "Parkside Halt", "??"
        );
    }

    with link = "line.gb.LLR" {
        track(:third :removed, wl[:par + 1sw, :lyb - 200m]);
    }

    with link = "point.gb.Lybster" {
        track(:station :removed,
                wl[:lyb - 150m] --  wl[:lyb - 50m] << 2dt
            --  wl[:lyb - 25m, :lyb + 50m] << 3dt
        );
        track(:station :removed,
                wl[:lyb - 151m, :lyb - 150m]
            --  wl[:lyb - 50m, :lyb + 50m] << 2dt
        );
        track(:station :removed,
                wl[:lyb - 75m, :lyb + 50m] << 1dt
        );

        track(:third:station :removed, wl[:lyb - 200m, :lyb + 50m]);

        platform(:removed,
                wl[:lyb - 75m, :lyb + 50m]
            --  wl[:lyb + 50m, :lyb - 75m] << 0.7dt
        );
        platform(:removed,
                wl[:lyb - 50m, :lyb + 50m] << 1.0dt
            --  wl[:lyb + 50m, :lyb - 30m] >> 2.0dt
        );

        marker(:right :de.bf :removed, wl[:lyb] >> 0.5dt);
        station(:left :removed, wl[:lyb + 50m] + (-2.5dt, 0dt),
                span(:bold, "Lybster"), "LLR: ??"
        );
    }
}

