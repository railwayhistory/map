# GB DNB.  The Mound - Dornoch
#
let md = path("d4.gb.dnb");

with detail = [4, 5] {
    # point.gb.The-Mound  gb.WCK

    with link = "line.gb.DNB" {
        track(:third :removed, md[:mou.fd, :cam - 110m]);
        line_label(:right:e :removed, md[:mou.fd + 1.0km], "DNB");
    }

    with link = "point.gb.Cambusavie" {
        track(:third:station :removed, md[:cam - 110m, :cam + 100m]);
        platform(:removed,
                md[:cam - 60m, :cam + 15m]
            --  md[:cam + 15m, :cam - 60m] << 0.7dt
        );
        marker(:right :de.hp :removed, md[:cam] >> 0.5dt);
        station(:right :removed, md[:cam + 0.4sw] << 1.5dt,
            "Cambusavie Platform", "??"
        );
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:cam + 100m, :ske - 100m]);
    }

    with link = "point.gb.Skelbo" {
        track(:station :removed,
                md[:ske - 10m] << 1.3dt
            --  md[:ske + 10m] << 1.0dt
            ..  md[:ske + 80m, :ske + 81m]
        );
        track(:third:station :removed, md[:ske - 100m, :ske + 130m]);
        platform(:removed,
                md[:ske - 20m, :ske + 20m]
            --  md[:ske + 30m, :ske - 20m] << 0.7dt
        );
        marker(:right :de.bf :removed, md[:ske] >> 0.5dt);
        station(:bottom :removed, md[:ske] >> 0.5dt >> 1.2sh,
            "Skelbo", "??"
        );
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:ske + 130m, :emb - 100m]);
    }

    with link = "point.gb.Embo" {
        track(:station :removed,
                md[:emb + 29m, :emb + 30m]
            ..  md[:emb + 100m, :emb + 150m] << 1dt
        );
        track(:third:station :removed, md[:emb - 100m, :emb + 200m]);
        platform(:removed,
                md[:emb - 25m, :emb + 25m]
            --  md[:emb + 25m, :emb - 25m] >> 0.7dt
        );
        marker(:left :de.bf :removed, md[:emb] << 1.0dt);
        station(:right :removed, md[:emb + 0.4sw] << 1.0dt << 1.3sh,
            "Embo", "??"
        );
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:emb + 200m, :dor - 220m]);
        line_badge(:removed, md[:dor - 1.0km], "DNB");
    }

    with link = "point.gb.Dornoch" {
        track(:station :removed, md[:dor - 180m, :dor - 100m] << 1dt);
        track(:third:station :removed, md[:dor - 220m, :dor + 30m]);
            track(:station :removed,
                    md[:dor - 170m]
                --  md[:dor - 130m] << 1dt
            );
        track(:station :removed, md[:dor - 120m, :dor + 30m] >> 1dt);
        track(:station :removed, md[:dor - 90m, :dor + 30m] >> 2dt);
        track(:station :removed,
                md[:dor - 150m] -- md[:dor - 90m] >> 2dt
            ..  md[:dor - 40m] >> 3.2dt -- md[:dor + 30m] >> 4dt
        );
        platform(:removed,
                md[:dor - 80m, :dor + 30m]
            --  md[:dor + 30m, :dor - 80m] >> 0.7dt
        );
        marker(:left :de.bf :removed, md[:dor] << 1.0dt);
        station(:right :removed, md[:dor + 0.3sw] << 1.0dt << 1.6sh,
            span(:bold, "Dornoch"), "DNB: ??"
        );
    }
}

