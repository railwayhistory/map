# GB MOF.  Muir of Ord - Fortrose
#
let mf = path("d4.gb.mof");

with detail = [4, 5] {
    # point.gb.Muir-of-Ord: gb.WCK

    with link = "line.gb.MOF" {
        track(:first :removed,
                mf[:mui.yf - 0.1dl, :mui.yf] >> 2dt
            ..  mf[:mui.yff, :red - 120m]
        );
        line_badge(:removed, mf[:mui.yff + 1.3km], "MOF");
    }

    with link = "point.gb.Redcastle" {
        track(:station :removed,
                mf[:red + 99m, :red + 100m]
            --  mf[:red + 200m, :red + 225m] << 2dt
        );
        track(:station :removed, mf[:red + 90m, :red + 290m] << 1dt);
        track(:first:station :removed, mf[:red - 120m, :red + 340m]);

        platform(:removed,
                mf[:red - 65m, :red + 65m]
            --  mf[:red + 65m, :red - 65m] >> 0.7dt
        );
        marker(:left :de.bf :removed, mf[:red] << 1.0dt);
        station(:top :removed, mf[:red - 0.1sh] << 1.0dt << 1.2sh,
            "Redcastle", "??"
        );
    }

    with link = "line.gb.MOF" {
        track(:first :removed, mf[:red + 340m, :all - 380m]);
    }

    with link = "point.gb.Allangrange" {
        track(:station :removed,
                mf[:all - 251m, :all - 250m] << 1dt
            --  mf[:all - 130m] << 1.8dt -- mf[:all - 65m] << 2dt
        );
        track(:station :removed, mf[:all - 330m, :all - 110m] << 1dt);
        track(:first:station :removed, mf[:all - 380m, :all + 100m]);
            track(:station :removed,
                    mf[:all - 330m]
                --  mf[:all - 265m] << 1dt
            );

        platform(:removed,
                mf[:all - 100m, :all + 50m]
            --  mf[:all + 50m, :all - 100m] >> 0.7dt
        );

        marker(:left :de.bf :removed, mf[:all] << 2dt);
        station(:top :removed, mf[:all] << 2dt << 1.1sh,
            "Allangrange", "??"
        );
    }

    with link = "line.gb.MOF" {
        track(:first :removed, mf[:all + 100m, :mun - 80m]);
        line_badge(:removed, mf[:all + 2.2km], "MOF");
    }

    with link = "point.gb.Munlochy" {
        track(:first:station :removed, mf[:mun - 80m, :mun + 360m]);
        track(:station :removed, mf[:mun + 110m, :mun + 310m] >> 1dt);
        track(:station :removed,
                mf[:mun + 120m]
            --  mf[:mun + 250m] >> 2dt
        );

        platform(:removed,
                mf[:mun - 30m, :mun + 100m]
            --  mf[:mun + 100m, :mun - 30m] << 0.7dt
        );
        marker(:right :de.bf :removed, mf[:mun] >> 0.7dt);
        station(:right :removed, mf[:mun - 0.3sw] >> 0.7dt >> 1.85sh,
            "Munlochy", "??"
        );
    }

    with link = "line.gb.MOF" {
        track(:first :removed, mf[:mun + 360m, :avo - 300m]);
    }

    with link = "point.gb.Avoch" {
        track(:first:station :removed, mf[:avo - 300m, :avo + 90m]);
        track(:station :removed,
                mf[:avo - 190m, :avo - 25m] >> 1.5dt
        );
        track(:station :removed,
                mf[:avo - 251m, :avo - 250m]
            --  mf[:avo - 150m, :avo - 25m] >> 2.5dt
        );

        platform(:removed,
                mf[:avo - 100m, :avo + 40m]
            --  mf[:avo + 40m, :avo - 100m] << 0.7dt
        );
        marker(:right :de.bf :removed, mf[:avo] >> 2.5dt);
        station(:bottom :removed, mf[:avo] >> 2.5dt >> 1.2sh,
            "Avoch", "??"
        );
    }

    with link = "line.gb.MOF" {
        track(:first :removed, mf[:avo + 90m, :for - 380m]);
        line_badge(:removed, mf[:for - 1.5km], "MOF");
    }

    with link = "point.gb.Fortrose" {
        track(:station :removed,
                mf[:for - 171m, :for - 170m] << 1dt
            --  mf[:for - 70m, :for] << 3dt
        );
        track(:station :removed,
                mf[:for - 120m, :for - 50m] << 2dt
        );
        track(:station :removed,
                mf[:for - 271m, :for - 270m]
            --  mf[:for - 210m, :for + 70m] << 1dt
        );
            track(:station :removed,
                    mf[:for] << 1dt
                --  mf[:for + 40m]
            );
        track(:first:station :removed, mf[:for - 380m, :for + 70m]);
        track(:station :removed,
                mf[:for - 270m, :for - 40m] >> 1.5dt
        );
        track(:station :removed,
                mf[:for - 331m, :for - 330m]
            --  mf[:for - 230m, :for - 40m] >> 2.5dt
        );

        platform(:removed,
                mf[:for - 150m, :for + 30m]
            --  mf[:for + 30m, :for - 150m] << 0.7dt
        );

        marker(:right :de.bf :removed, mf[:for] >> 2.5dt);
        station(:right :removed, mf[:for - 0.2sw] >> 2.7dt >> 1.85sh,
            span(:bold, "Fortrose"), "MOF: ??"
        );
    }
}

