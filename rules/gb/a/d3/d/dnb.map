# GB DNB.  The Mound - Dornoch
#
let md = path("d4.gb.dnb");

with detail = 3 {
    # point.gb.The-Mound  gb.WCK

    with link = "line.gb.DNB" {
        track(:third :removed, md[:mou.fd + 1sw, :cam - 1sw]);
    }

    with link = "point.gb.Cambusavie" {
        track(:third:station :removed, md[:cam - 1sw, :cam + 1sw]);
        marker(:right :de.hp :removed, md[:cam]);
        slabel(:right :removed, md[:cam + 0.6sw] << 1.0dt,
            "Cambusavie Platform"
        );
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:cam + 1sw, :ske - 1sw]);
    }

    with link = "point.gb.Skelbo" {
        track(:third:station :removed, md[:ske - 1sw, :ske + 1sw]);
        marker(:right :de.bf :removed, md[:ske]);
        slabel(:bottom :removed, md[:ske] >> 1.2sh + (-1.0dt, 0dt), "Skelbo");
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:ske + 1sw, :emb - 1sw]);
    }

    with link = "point.gb.Embo" {
        track(:third:station :removed, md[:emb - 1sw, :emb + 1sw]);
        marker(:left :de.bf :removed, md[:emb]);
        slabel(:right :removed, md[:emb + 0.5sw] << 1.4sh, "Embo");
    }

    with link = "line.gb.DNB" {
        track(:third :removed, md[:emb + 1sw, :dor - 1sw]);
        line_label(:left:w :removed, md[:emb + 1.2km], "DNB");
    }

    with link = "point.gb.Dornoch" {
        track(:third:station :removed, md[:dor - 1sw, :dor + 0.6sw]);
        marker(:left :de.bf :removed, md[:dor]);
        slabel(:right :removed, md[:dor + 1.0sw] + (1.5sw, 0.8sw),
            span(:bold, "Dornoch")
        );
    }
}

