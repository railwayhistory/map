# GB BAF.  Ballinluig - Aberfeldy
#
let ba = path("d4.gb.baf");

with detail = 3 {
    # point.gb.Ballinluig: gb.HL

    with link = "line.gb.BAF" {
        track(:first :removed, ba[:bal.fa + 1dl, :bag - 1sw]);
    }

    with link = "point.gb.Balnaguard" {
        track(:first:station :removed, ba[:bag - 1sw, :bag + 1sw]);
        marker(:right :de.hp :removed, ba[:bag]);
        slabel(:left :removed, ba[:bag - 0.8sw],
            hbox(:right:top, "Balnaguard")
        );
    }

    with link = "line.gb.BAF" {
        track(:first :removed, ba[:bag + 1sw, :gra - 1sw]);
        line_label(:right:s :removed, ba[:bag + 1.7km], " BAF");
    }

    with link = "point.gb.Grandtully" {
        track(:first:station :removed, ba[:gra - 1sw, :gra + 1sw]);
        marker(:right :de.bf :removed, ba[:gra]);
        slabel(:left :removed, ba[:gra] + (1sw, -1.5sw),
            "Grandtully"
        );
    }

    with link = "line.gb.BAF" {
        track(:first :removed, ba[:gra + 1sw, :abe - 1sw]);
        line_label(:left:nw :removed, ba[:abe - 2.7km], "BAF");
    }

    with link = "point.gb.Aberfeldy-Distillery" {
        marker(:right :de.anst :removed, ba[:abd]);
    }

    with link = "point.gb.Aberfeldy" {
        track(:first:station :removed, ba[:abe - 1sw, :abe + 0.5sw]);
        marker(:right :de.bf :removed, ba[:abe]);
        slabel(:left :removed, ba[:abe + 0.5sw] >> 1.2sh,
            span(:bold, "Aberfeldy")
        );
    }
        
}
        
