# IT AD.  Arona - Domodossola
with detail = 2 {
    let ad = path("d2.it.ad");

    with link = "line.it.AD" {
        track(:first :double :cat:dc30 :pax, ad[:aro, :str]);
        line_label(:left:se :double :cat:dc30 :pax, ad[:aro + 7km], "AD");
    }

    with link = "point.it.Stresa" {
        statdot(:cat:dc30 :pax, ad[:str]);
        slabel(:right :cat:dc30 :pax, ad[:str] + (-0.8dt, -1.5dt), "Stresa");
    }

    with link = "line.it.AD" {
        track(:first :double :cat:dc30 :pax, ad[:str, :cuz.yn]);
        track(:first :double :cat:dc30 :pax, ad[:cuz.yn, :dom.yn]);

        line_label(:right:s :double :cat:dc30 :pax, ad[:cuz + 3km], "AD");
    }

    with link = "point.it.Domodossola" {
        track(:first:station :double :cat:dc30 :pax, ad[:dom.yn, :dom]);
        statdot(:cat:dc30 :pax, ad[:dom]);
        slabel(:left :cat:dc30 :pax, ad[:dom] + (-1.5dt, 0.8dt),
            span(:bold, "Domodossola")
        );
    }
}


# IT ANA.  Alessandria - Novara - Arona
with detail = 2 {
    let aa = path("d2.it.ana");

    with link = "line.it.ANA" {
        track(:first :double :cat:dc30 :pax, aa[:ale.yn, :val]);
        line_label(:right:w :double :cat:dc30 :pax, aa[:ale.yn + 6km], "ANA");
    }

    with link = "point.it.Valenza" {
        track(:first:station :double :cat:dc30 :pax, aa[:val, :val.yv]);
        statdot(:cat:dc30 :pax, aa[:val]);
        slabel(:right :cat:dc30 :pax, aa[:val] + (1.5dt, 0.8dt), "Valenza");
    }

    with link = "line.it.ANA" {
        track(:first :double :cat:dc30 :pax, aa[:val.yv, :tor]);
    }

    with link = "point.it.Torreberetti" {
        statdot(:cat:dc30 :pax, aa[:tor]);
        slabel(:right :cat:dc30 :pax, aa[:tor] + (1.0dt, 0dt),
            hbox(:left:top, "Torreberetti")
        );
    }

    with link = "line.it.ANA" {
        track(:first :double :cat:dc30 :pax, aa[:tor, :mor.ya]);
        line_label(:right:w :double :cat:dc30 :pax, aa[:mor.ya - 10km], "ANA");
    }

    with link = "point.it.Mortara" {
        track(:first:station :double :cat:dc30 :pax, aa[:mor.ya, :mor.ym]);
        statdot(:cat:dc30 :pax, aa[:mor]);
        slabel(:left :cat:dc30 :pax, aa[:mor] + (-1.5dt, 0.8dt), "Mortara");
    }

    with link = "line.it.ANA" {
        track(:first :double :cat:dc30 :pax, aa[:mor.ya, :nov.ym]);
        line_label(:right:w :double :cat:dc30 :pax, aa[:nov.ym - 10km], "ANA");
    }

    # point.it.Novara: it.TR

    with link = "line.it.ANA" {
        track(:first :double :cat:dc30 :pax, aa[:nov.ya, :vig]);
    }

    with link = "point.it.Vignale" {
        track(:first:station :double :cat:dc30 :pax, aa[:vig, :vig.yd]);
        statdot(:cat:dc30 :pax, aa[:vig]);
        slabel(:right :cat:dc30 :pax, aa[:vig] + (1.5dt, 0.3dt), "Vignale");
    }

    with link = "line.it.ANA" {
        track(:first :cat:dc30 :pax, aa[:vig.yd, :ole]);
        line_label(:right:w :cat:dc30 :pax, aa[:vig.yd + 7km], "ANA");
    }

    with link = "point.it.Oleggio" {
        statdot(:cat:dc30 :pax, aa[:ole]);
        slabel(:right :cat:dc30 :pax, aa[:ole] + (1.5dt, 0.8dt), "Oleggio");
    }

    with link = "line.it.ANA" {
        track(:first :cat:dc30 :pax, aa[:ole, :aro.yn]);
        line_label(:left:e :cat:dc30 :pax, aa[:aro.ys - 5.5km], "ANA");
    }
}

