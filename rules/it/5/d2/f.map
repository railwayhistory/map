# IT FTC.  Foligno - Terontola-Cortona
with detail = 2 {
    let ft = path("d2.it.ftc");

    with link = "line.it.FTC" {
        track(:first :cat:dc30 :pax, ft[:fol.yp, :psg.ys]);
        line_badge(:cat:dc30 :pax, ft[:fol.yp + 12km], "FTC");
    }

    with link = "point.it.Perugia-Ponte-San-Giovanni" {
        track(:first:station :cat:dc30 :pax, ft[:psg.ys, :psg.ya]);
        statdot(:cat:dc30 :pax, ft[:psg]);
        slabel(:right :cat:dc30 :pax, ft[:psg] + (1km, 0dt) + (1.0dt, -0.5dt),
            vbox(:left:bottom, "Pergugia", "Ponte S. Giovanni")
        );
    }

    with link = "line.it.FTC" {
        track(:first :cat:dc30 :pax, ft[:psg.ys, :per]);
    }

    with link = "point.it.Perugia" {
        statdot(:cat:dc30 :pax, ft[:per]);
        slabel(:top :cat:dc30 :pax, ft[:per] + (0dt, -1.4km) + (1dt, -0.5dt),
            span(:bold, "Perugia")
        );
    }

    with link = "line.it.FTC" {
        track(:first :cat:dc30 :pax, ft[:per, :ell]);
    }

    with link = "point.it.Ellera-Corciano" {
        statdot(:cat:dc30 :pax, ft[:ell]);
        slabel(:left :cat:dc30 :pax, ft[:ell] + (-0.3dt, 0.5dt),
            vbox(:right:top, "Ellera-Corciano")
        );
    }

    with link = "line.it.FTC" {
        track(:first :cat:dc30 :pax, ft[:ell, :ter.yf]);
        line_label(:left:ne :cat:dc30 :pax, ft[:ell + 12.5km], "FTC");
    }
}

