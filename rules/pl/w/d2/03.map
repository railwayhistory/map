# PL 30.  Łuków - Lublin Północny
with detail = 2 {
    let ll = path("d2.pl.w.30");

    with railway = :first :pax {
        with link = "line.pl.30" {
            track(ll[:luk.yl, :gro.x]);
            line_label(:right:ne, ll[:luk.yl + 8km], "30");
            line_label(:left:nw, ll[:gro.x - 6km], "30");
        }
    }
}


# PL 31.  Siedlce – Granica Państwa (Siemianówka)
with detail = 2 {
    let sg = path("d2.pl.31");

    with link = "line.pl.31" {
        track(:first :cat:dc30 :pax, sg[:sie.yc, :ujr.y]);
        track(:first :double :cat:dc30 :pax, sg[:sie.yc, :ujw]);
    }

    with railway = :first :double :pax {
        with link = "line.pl.31" {
            track(sg[:ujw, :cze.yg]);
            line_label(:right:nw, sg[:ujw + 8km], "31");
            line_label(:left:e, sg[:ujw + 45km], (0dt, -0.3dt), "31");
            line_label(:right:nw, sg[:cze.yg - 10km], "31");
        }

        with link = "point.pl.Czeremcha" {
            track(:station, sg[:cze.yg, :cze.yb]);
            statdot(sg[:cze]);
            slabel(:right, sg[:cze] + (1.5dt, 0.7dt), "Czeremcha");
        }
    }

    with railway = :first :pax {
        with link = "line.pl.31" {
            track(:casing, sg[:cze.yb, :cze.yyb]);

            track(sg[:cze.yyb, :haj.yyl]);
            line_label(:right:nw, sg[:cze.yyb + 12km], "31");

            track(:casing, sg[:haj.yyl, :haj.yl]);
        }

        with link = "point.pl.Hajnówka" {
            track(:station, sg[:haj.yl, :haj]);
            statdot(sg[:haj]);
            slabel(:right, sg[:haj] + (1.5dt, 0.3dt), "Hajnówka");
        }
    }

    with railway = :first {
        with link = "line.pl.31" {
            track(sg[:haj, :now]);
        }

        with link = "point.pl.Nowosady" {
            statdot(:nopax, sg[:now]);
            slabel(:left :nopax, sg[:now] + (-1.5dt, 0.3dt), "Nowosady");
        }

        with link = "line.pl.31" {
            track(sg[:now, :now.yc]);

            track(sg[:now.yc, :ber.y]);
            line_label(:left:se, sg[:now.yc + 3km], "31");

            track(sg[:ber.y, :nar]);
        }

        with link = "point.pl.Narewka" {
            track(:station, sg[:nar, :nar.yp]);
            statdot(sg[:nar]);
            slabel(:left, sg[:nar] + (-1.3dt, -0.3dt), "Narewka");
        }

        with link = "line.pl.31" {
            track(sg[:nar.yp, :sim.yc]);
        }

        with link = "point.pl.Siemianówka" {
            track(:station, sg[:sim.yc, :sim]);
            statdot(sg[:sim]);
            slabel(:left, sg[:sim] + (-1.3dt, -0.3dt), "Siemianówka");
        }
    }

    with railway = :first :double {
        with link = "line.pl.31" {
            track(sg[:sim, :sig]);
            line_label(:left:s, sg[:sig - 4km], (-0.3dt, 0dt), "31");
        }

        with link = "point.int.Siemianówka-Свіслач" {
            marker(:left :ref, sg[:sig]);
            marker(:right :ref, sg[:sig]);
        }
    }
}


# PL 32.  Czeremcha - Białystok
with detail = 2 {
    let cb = path("d2.pl.32");

    with railway = :first :pax {
        with link = "line.pl.32" {
            track(cb[:cze.yb, :cze.yyb]);
            with layer = -1 {
                track(cb[:cze.yyb, :lew]);
                line_label(:left:e, cb[:cze.yyb + 12km], "32");
            }
        }

        with link = "point.pl.Lewki" {
            track(:station, cb[:lew, :lew.yb]);
            statdot(cb[:lew]);
            slabel(:left, cb[:lew] + (-1.7dt, 1.3dt), "Lewki");
        }

        with link = "line.pl.32" {
            track(cb[:lew.yb, :bnm.y]);
            line_label(:left:e, cb[:lew.yb + 9km], "32");
            line_label(:right:w, cb[:bnm.y - 9km], "32");

            track(:cat:dc30, cb[:bnm.y, :bia.yp]);
            track(:cat:dc30, cb[:bia.yp, :bia.yc]);
        }
    }
}


# PL 33.  Kutno - Brodnice
with detail = 2 {
    let kb = path("d2.pl.w.33");

    with railway = :first :cat:dc30 :pax {
        with link = "line.pl.33" {
            track(kb[:kut.ys, :lac]);
            line_label(:right:w, kb[:kut.ys + 10km], "33");

            track(:double, kb[:lac, :plr]);
            line_label(:right:nw, kb[:plr - 4km], "33");
        }

        with link = "point.pl.Płock-Radziwie" {
            track(:station :double, kb[:plr, :plr.yp]);
            statdot(kb[:plr]);
            slabel(:right, kb[:plr] + (1.5dt, 1.8dt), "Płock Radziwie");
        }

        with link = "line.pl.33" {
            track(kb[:plr.yp, :plt]);
        }
    }

    with railway = :first :pax {
        with link = "line.pl.33" {
            track(kb[:plt, :sie.yk]);
            line_label(:left:e, kb[:sie.yk - 10km], "33");
        }

        # point.pl.Sierpc  pl.27

        with link = "line.pl.33" {
            track(kb[:sie.yb, :szc.x]);
        }
    }
}


# PL 34.  Ostrołęka - Małkinia
with detail = 2 {
    let om = path("d2.pl.34");

    with railway = :first {
        with link = "line.pl.34" {

            track(om[:ost.ym, :mal.xo - 1km]);
            line_label(:left:sw, om[:ost.ym + 26km], "34");
            track(:casing, om[:mal.xo - 1km, :mal.yo]);
        }
    }
}


# PL 35.  Ostrołęka – Szczytno
with detail = 2 {
    let os = path("d2.pl.w.35");

    with railway = :first :pax {
        with link = "line.pl.35" {
            track(os[:ost.ys, :cho.x]);
            line_label(:right:s, os[:ost.ys + 9.4km], "35");
            line_label(:left:ne, os[:cho.x - 1km], "35");
        }
    }
}


# PL 36.  Ostrołęka - Łapy
with detail = 2 {
    let ol = path("d2.pl.36");

    with railway = :first {
        with link = "line.pl.36" {
            track(ol[:ost.yg, :sni]);
            line_label(:left:s, ol[:ost.yg + 12km], "36");
        }

        with link = "point.pl.Śniadowo" {
            track(:station, ol[:sni, :sni.yl]);
            statdot(ol[:sni]);
            slabel(:bottom, ol[:sni] + (0dt, 1dt), "Śniadowo");
        }

        with link = "line.pl.36" {
            track(ol[:sni.yl, :cze.yz]);
        }

        with link = "point.pl.Czerwony-Bór" {
            track(:station, ol[:cze.yz, :cze]);
            statdot(ol[:cze]);
            slabel(:top, ol[:cze] + (0dt, -0.8dt),
                vbox(:center:bottom, "Czerwony", "Bór")
            );
        }

        with link = "line.pl.36" {
            track(ol[:cze, :lap.yo]);
            line_label(:right:n, ol[:lap.yo - 22.5km], "36");
        }
    }
}


# PL 37.  Białystok - Granica Państwa (Zubki Białostockie)
with detail = 2 {
    let bz = path("d2.pl.37");

    with railway = :first :tourist {
        with link = "line.pl.37" {
            track(bz[:bia.yz, :wal]);
            line_label(:right:n, bz[:bia.yz + 16.5km], "37");
        }

        with link = "point.pl.Waliły" {
            statdot(bz[:wal]);
            slabel(:left, bz[:wal] + (-0.8dt, -1.3dt), "Waliły");
        }
    }

    with railway = :first {
        with link = "line.pl.37" {
            track(bz[:wal, :zub.yg]);
            line_label(:right:ne, bz[:wal + 5km], "37");
        }

        with link = "point.pl.Zubki-Białostockie" {
            track(:station, bz[:zub.yg, :zub]);
            statdot(bz[:zub]);
            slabel(:right, bz[:zub] + (1.0dt, 0.5dt),
                vbox(:left:top, "Zubki", "Białostockie")
            );
        }

        with link = "line.pl.37" {
            track(bz[:zub, :zug]);
            line_label(:left:s, bz[:zub + 2.5km], (-0.3dt, 0dt), "37");
        }
    }
}

