with detail = 1 {
    with link = "line.pl.10" {
        track(:first :cat:dc30 :pax, path("d1.pl.10")[:leg.yt, :tlu.yl]);
    }

    with link = "line.pl.11" {
        track(:first :double :cat:dc30 :pax,
                path("d1.pl.11")[:ski.yl, :low.ys]
        );
    }

    with link = "line.pl.12" {
        let sl = path("d1.pl.12");

        track(:first :double :cat:dc30, sl[:ski.yp, :pus]);
        track(:first :cat:dc30, sl[:pus, :msz]);
        track(:first :double :cat:dc30, sl[:msz, :pil.ys]);
        track(:first :double :cat:dc30, sl[:pil.yl, :luk.yp]);
    }

    with link = "line.pl.13" {
        let kp = path("d1.pl.13");

        track(:first :cat:dc30, kp[:kru.yp, :min.yw]);
        track(:first :cat:dc30 :pax, kp[:min.yw, :pil.ys]);
    }

    with link = "line.pl.14" {
        track(:first :double :cat:dc30 :pax,
                path("d1.pl.w.14")[:lka, :che.x]
        );
    }

    with link = "point.pl.Łódź-Kaliska" {
        slabel(:left :cat:dc30 :pax :bold,
        path("d1.pl.w.14")[:lka] + (-2dt, -0.3dt),
            "Łódź"
        );
    }

    with link = "line.pl.15" {
        let bl = path("d1.pl.15");

        track(:first :cat:dc30 :pax, bl[:low.yl, :zgi.yk]);
        track(:first :double :cat:dc30 :pax, bl[:zgi.yk, :lka]);
    }

    with link = "line.pl.16" {
        let lk = path("d1.pl.16");

        track(:first :cat:dc30 :pax, lk[:lwi.yk, :zgi.yw]);
        track(:first :cat:dc30 :pax, lk[:zgi.yk, :kut.yl]);
    }

    with link = "line.pl.17" {
        track(:first :double :cat:dc30 :pax,
                path("d1.pl.17")[:lfa, :kol.yl]
        );
    }

    with link = "line.pl.18" {
        track(:first :double :cat:dc30 :pax,
                path("d1.pl.w.18")[:kut.yb, :rud.x]
        );
    }

    with link = "line.pl.19" {
        track(:first :double :cat:dc30 :pax,
                path("d1.pl.19")[:wag.yp, :joz.y]
        );
    }
}

