# PL 1.  Warszawa Centralna – Katowice
with detail = 2 {
    let wk = path("d2.pl.s.1");

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:wid.x, :wyc.y]);
        line_label(:left:n :cat:dc30 :pax, wk[:wyc.y - 5km], "1");

        track(:first :double :cat:dc30 :pax, wk[:wyc.y, :cze]);
        line_label(:right:e :cat:dc30 :pax, wk[:wyc.y + 3km],
            (0dt, -0.3dt), "1"
        );
    }

    with link = "point.pl.Częstochowa" {
        track(:first :double:station :cat:dc30 :pax, wk[:cze, :cze.yl]);
        statdot(:cat:dc30 :pax, wk[:cze]);
        slabel(:left :cat:dc30 :pax, wk[:cze] + (-1.5dt, 0.8dt),
            "Częstochowa"
        );
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:cze.yl, :czr.yk]);
        track(:first :double :cat:dc30 :pax, wk[:czr.yk, :por.yk]);
        line_label(:right:e :cat:dc30 :pax, wk[:czr.yk + 4km], "1");
    }

    with link = "point.pl.Poraj" {
        track(:first :double:station :cat:dc30 :pax, wk[:por.yk, :por]);
        statdot(:cat:dc30 :pax, wk[:por]);
        slabel(:right :cat:dc30 :pax, wk[:por] + (1.5dt, 0.3dt), "Poraj");
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:por, :mys.yw]);
        line_label(:right:ne :cat:dc30 :pax, wk[:mys.yw - 5km], "1");

        track(:first :double :cat:dc30 :pax, wk[:mys.yw, :zaw]);
    }

    with link = "point.pl.Zawiercie" {
        track(:first :double:station :cat:dc30 :pax, wk[:zaw, :zaw.yp]);
        statdot(:cat:dc30 :pax, wk[:zaw]);
        slabel(:right :cat:dc30 :pax, wk[:zaw] + (1.6dt, 0.8dt), "Zawiercie");
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:zaw.yp, :laz]);
    }

    with link = "point.pl.Łazy" {
        statdot(:cat:dc30 :pax, wk[:laz]);
        slabel(:left :cat:dc30 :pax, wk[:laz] + (-1.3dt, -0.3dt), "Łazy");
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:laz, :wie.yd]);
        track(:first :double :cat:dc30 :pax, wk[:wie.yd, :daz]);
    }

    with link = "point.pl.Dąbrowa-Górnicza-Ząbkowice" {
        track(:first :double:station :cat:dc30 :pax, wk[:daz, :daz.yj]);
        statdot(:cat:dc30 :pax, wk[:daz]);
        slabel(:left :cat:dc30 :pax, wk[:daz] + (-1.1dt, 0.3dt),
            vbox(:right:bottom, "Dąbrowa Górnicza", "Ząbkowice")
        );
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:daz.yj, :sos]);
        line_label(:right:se :cat:dc30 :pax, wk[:daz.yj + 10.3km], "1");
    }

    with link = "point.pl.Sosnowiec-Główny" {
        track(:first :double:station :cat:dc30 :pax, wk[:sos, :sos.ym]);
        statdot(:cat:dc30 :pax, wk[:sos]);
        slabel(:left :cat:dc30 :pax, wk[:sos] + (-0.3dt, -0.8dt),
            "Sosnowiec Gł."
        );
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:sos.ym, :ksz.yo]);
    }

    with link = "point.pl.Katowice-Szopienice-Południowe" {
        track(:first :double:station :cat:dc30 :pax, wk[:ksz.yo, :ksz]);
        statdot(:cat:dc30 :pax, wk[:ksz]);
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:ksz, :kaz]);
    }

    with link = "point.pl.Katowice-Zawodzie" {
        statdot(:cat:dc30 :pax, wk[:kaz]);
    }

    with link = "line.pl.1" {
        track(:first :double :cat:dc30 :pax, wk[:kaz, :kat]);
    }

    with link = "point.pl.Katowice" {
        statdot(:cat:dc30 :pax, wk[:kat]);
    }
}


# PL 4.  Grodzisk Mazowiecki - Zawiercie
with detail = 2 {
    let gz = path("d2.pl.s.4");

    with railway = :first :double :cat:dc30 :pax {
        with link = "line.pl.4" {
            track(gz[:psa.x, :mys.yw]);
            line_label(:left:w, gz[:psa.x + 11km], "4");
            line_label(:right:s, gz[:mys.yw - 7.5km], "4");
        }
    }
}

