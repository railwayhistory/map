# DK HKG.  Hillerød - Kagerup - Gilleleje
#
let hg = path("d3.dk.hkg");

with detail = 4,
     railway = :first :pax
{
    # point.dk.Hillerød  dk.HHS

    with link = "line.dk.HKG" {
        track(:ror, hg[:hil + 0.5sw, :hil.yg] << 1.5mo);
        track(:ror,
                hg[:hil.yg - 0.1dl, :hil.yg] << 1.5mo
            ..  hg[:slo - 0.5sw, :slo - 0.49sw]
        );
    }

    with link = "point.dk.Slotspavillonen", railway = :first {
        track(hg[:slo - 0.5sw, :slo + 0.5sw]);
        marker(:left :de.bf, hg[:slo] << 0.5mt);
        station(:left, hg[:slo] << 0.5mt << 1.4sh + (0dt, 1dt),
            "Slotspavillonen", "HKG: 1,799"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:slo + 0.5sw, :slo + 1.3km]);
        line_label(:left:e, hg[:slo + 1.3km] << 0.5mt, "HKG");
        track(hg[:slo + 1.3km, :kil - 0.5sw]);
    }

    with link = "point.dk.Kildeport", railway = :first {
        track(hg[:kil - 0.5sw, :kil + 0.5sw]);
        marker(:right :de.hp :removed, hg[:kil] >> 0.5mt);
        station(:left :removed, hg[:kil] << 3mt + (0dt, 1.4dt),
            "Kildeport", "HKG: ??"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:kil + 0.5sw, :gri - 0.5sw]);
    }

    with link = "point.dk.Gribsø", railway = :first {
        track(hg[:gri - 0.5sw, :gri + 0.5sw]);
        marker(:left :de.hp, hg[:gri] << 0.5mt);
        station(:left, hg[:gri] << 0.5mt << 1.4sh + (0dt, 1.4dt),
            "Gribsø", "HKG: 7,111"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:gri + 0.5sw, :kag - 0.5sw - 2dl]);
    }

    with link = "point.dk.Kagerup", railway = :first {
        track(hg[:kag - 0.5sw - 2dl, :kag.xt]);
        track(
                hg[:kag - 0.5sw - 1.1dl, :kag - 0.5sw - 1dl]
            --  hg[:kag - 0.5sw, :kag.yt] << 1mo
        );
        marker(:left :de.bf, hg[:kag] << 1mo << 0.5mt);
        station(:left, hg[:kag] << 1mo << 0.5mt << 1.5sh + (0dt, 0.8dt),
            span(:bold, "Kagerup"),
            hbox(:center:top,
                vbox(:right:top, "KTD: ", "HGK: "),
                vbox(:sep:top,
                    hbox(:sep:base, "8,", anchor(), "551"),
                    hbox(:sep:base, "8,", anchor(), "551")
                )
            )
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:kag.xt, :sto - 1km]);
        line_label(:right:nw, hg[:sto - 1km] >> 0.5mt, "HKG");
        track(hg[:sto - 1km, :sto - 0.5sw]);
    }

    with link = "point.dk.Storkevad", railway = :first {
        track(hg[:sto - 0.5sw, :sto + 0.5sw]);
        marker(:right :de.hp :removed, hg[:sto] >> 0.5mt);
        station(:right :removed, hg[:sto] >> 0.5mt >> 1.5sh + (0dt, 1.2dt),
            "Storkevad", "HKG: ??"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:sto + 0.5sw, :mar - 0.5sw]);
    }

    with link = "point.dk.Mårum", railway = :first {
        track(hg[:mar - 0.5sw, :mar + 0.5sw]);
        marker(:left :de.bf, hg[:mar] << 0.5mt);
        station(:left:right_align, hg[:mar] << 0.5mt << 1.5sh + (0dt, 1.2dt),
            "Mårum", "HKG: 13,699"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:mar + 0.5sw, :sal - 0.5sw]);
    }

    with link = "point.dk.Saltrup", railway = :first {
        track(hg[:sal - 0.5sw, :sal + 0.5sw]);
        marker(:right :de.hp, hg[:sal] >> 0.5mt);
        station(:top, hg[:sal] >> 0.5mt >> 1.3sh + (1.5dt, 0dt),
            "Saltrup", "HKG: 16,668"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:sal + 0.5sw, :vok - 0.5sw]);
    }

    with link = "point.dk.Vokstrup", railway = :first {
        track(hg[:vok - 0.5sw, :vok + 0.5sw]);
        marker(:left :de.hp :removed, hg[:vok] << 0.5mt);
        station(:bottom :removed, hg[:vok] << 0.5mt << 1.3sh + (-1.5dt, 0dt),
            "Vokstrup", "HKG: ??"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:vok + 0.5sw, :grs - 0.5sw]);
    }

    with link = "point.dk.Græsted-Syd", railway = :first {
        track(hg[:grs - 0.5sw, :grs + 0.5sw]);
        marker(:left :de.hp, hg[:grs] << 0.5mt);
        station(:left, hg[:grs] << 0.5mt << 1.7sh + (0dt, 0.8dt),
            vbox(:center:base,
                span(:former, "Pibemose"),
                "Græsted Syd"
            ),
            "HKG: 18,650"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:grs + 0.5sw, :gra - 0.5sw]);
    }

    with link = "point.dk.Græsted", railway = :first {
        track(hg[:gra - 0.5sw, :gra + 0.5sw]);
        marker(:left :de.bf, hg[:gra] << 0.5mt);
        station(:left, hg[:gra] << 0.5mt << 1.7sh + (0dt, 0.8dt),
            "Græsted", "HKG: 19,861"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:gra + 0.5sw, :gra + 1.5km]);
        line_label(:left:se, hg[:gra + 1.5km] << 0.5mt, "HKG");
        track(hg[:gra + 1.5km, :par - 0.5sw]);
    }

    with link = "point.dk.Pårup", railway = :first {
        track(hg[:par - 0.5sw, :par + 0.5sw]);
        marker(:right :de.hp, hg[:par] >> 0.5mt);
        station(:left:right_align, hg[:par] << 3mt + (0dt, 1dt),
            "Pårup", "HKG: 23,181 "
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:par + 0.5sw, :fje - 0.5sw]);
    }

    with link = "point.dk.Fjellenstrup", railway = :first {
        track(hg[:fje - 0.5sw, :fje + 0.5sw]);
        marker(:right :de.hp, hg[:fje] >> 0.5mt);
        station(:left, hg[:fje] << 3mt + (0dt, 1.1dt),
            "Fjellenstrup", "HKG: 24,999"
        );
    }

    with link = "line.dk.HKG" {
        track(hg[:fje + 0.5sw, :gil - 0.5sw]);
    }

    with link = "point.dk.Gilleleje", railway = :first {
        track(hg[:gil - 0.5sw, :gil + 0.5sw]);
        marker(:right :de.bf, hg[:gil] >> 0.5mt);
        station(:top, hg[:gil] << 2mt + (0dt, -50m),
            span(:bold, "Gilleleje"),
            hbox(:center:top,
                vbox(:right:top, "HKG: ", "[??: "),
                vbox(:sep:top,
                    hbox(:sep:base, "25,", anchor(), "946"),
                    hbox(:sep:base, "24,", anchor(), "292]")
                )
            )
        );
    }
}

