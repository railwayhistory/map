
# DK ONF.  (Odense -) Fruens Bøge - Nørre Broby - Faaborg
#
let of = path("d3.dk.onf");

with detail = 4,
     railway = :first :pax :removed
{
    # point.dk.Fruens-Bøge  dk.OSB

    with link = "line.dk.ONF" {
        track(:lor,
                of[:fru.yf - 0.1dl, :fru.yf] >> 1mo
            ..  of[:fru.xf + 1mt, :fru.xf + 1.1mt]
        );
        track(of[:fru.xf + 1mt, :dal - 0.5sw]);
    }

    with link = "point.dk.Dalum", railway = :station {
        track(of[:dal - 0.5sw, :dal + 0.5sw]);
        marker(:left :de.hst, of[:dal] << 0.5mt);
        label(of[:dal] >> 0.5mt + (-1.5dt, 0.8dt),
            hbox(:right:base, vbox(:center:base,
                span(:xsmall, "ONF: 1,6"),
                "Dalum"
            ))
        );
    }

    with link = "line.dk.ONF" {
        track(of[:dal + 0.5sw, :dal + 1.2km]);
        line_label(:left:nw, of[:dal + 1.2km] << 0.5mt, "ONF");
        track(of[:dal + 1.2km, :skl - 0.5sw]);
    }

    with link = "point.dk.Skt-Klemens", railway = :station {
        track(of[:skl - 0.5sw, :skl + 0.5sw]);
        marker(:left :de.bf, of[:skl] << 0.5mt);
        station(:right, of[:skl] << 0.5mt << 1sh + (2dt, 2.5dt),
            "Skt. Klemens", "ONF: 4,2"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:skl + 0.5sw, :bel - 0.5sw]);
    }

    with link = "point.dk.Bellinge", railway = :station {
        track(of[:bel - 0.5sw, :bel + 0.5sw]);
        marker(:right :de.bf, of[:bel] >> 0.5mt);
        station(:left, of[:bel] >> 0.5mt >> 1sh + (-1.5dt, 0.8dt),
            "Bellinge", "ONF: 6,1"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:bel + 0.5sw, :fan - 0.5sw]);
    }

    with link = "point.dk.Fangel", railway = :station {
        track(of[:fan - 0.5sw, :fan + 0.5sw]);
        marker(:right :de.bf, of[:fan] >> 0.5mt);
        station(:left, of[:fan] >> 0.5mt >> 1sh + (-1.8dt, 1.8dt),
            "Fangel", "ONF: 8,2"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:fan + 0.5sw, :tue - 0.5sw]);
    }

    with link = "point.dk.Tuemose", railway = :station {
        track(of[:tue - 0.5sw, :tue + 0.5sw]);
        marker(:right :de.hp, of[:tue] >> 0.5mt);
        station(:left, of[:tue] >> 0.5mt >> 1sh + (-1.5dt, 1.8dt),
            "Tuemose", "ONF: 9,8"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:tue + 0.5sw, :nso - 0.5sw]);
    }

    with link = "point.dk.Nørre-Søby", railway = :station {
        track(of[:nso - 0.5sw, :nso + 0.5sw]);
        marker(:left :de.bf, of[:nso] << 0.5mt);
        station(:right, of[:nso] << 0.5mt << 1sh + (1.3dt, 1.2dt),
            "Nørre Søby", "ONF: 11,9"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:nso + 0.5sw, :all - 0.5sw]);
    }

    with link = "point.dk.Allested", railway = :station {
        track(of[:all - 0.5sw, :all + 0.5sw]);
        marker(:right :de.bf, of[:all] >> 0.5mt);
        station(:top, of[:all] >> 0.5mt >> 1sh + (-0.5dt, -1dt),
            "Allested", "ONF: 14,9"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:all + 0.5sw, :all + 2.1km]);
        line_label(:left:nw, of[:all + 2.1km] << 0.5mt, "ONF");
        track(of[:all + 2.1km, :sta - 0.5sw]);
    }

    with link = "point.dk.Ståby", railway = :station {
        track(of[:sta - 0.5sw, :sta + 0.5sw]);
        marker(:right :de.bf, of[:sta] >> 0.5mt);
        station(:left:right_align, of[:sta] >> 0.5mt >> 1sh + (-1.8dt, 0.3dt),
            "Ståby", "ONF: 18,4 "
        );
    }

    with link = "line.dk.ONF" {
        track(of[:sta + 0.5sw, :bro - 0.5sw]);
    }

    with link = "point.dk.Brobyværk", railway = :station {
        track(of[:bro - 0.5sw, :bro + 0.5sw]);
        marker(:left :de.bf, of[:bro] << 0.5mt);
        station(:bottom, of[:bro] << 0.5mt << 1sh + (0dt, 0.8dt),
            "Brobyværk", "ONF: 20,8"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:bro + 0.5sw, :nbr - 0.5sw]);
    }

    with link = "point.dk.Nørre-Broby", railway = :station {
        track(of[:nbr - 0.5sw, :nbr + 0.5sw]);
        marker(:right :de.bf, of[:nbr] >> 0.5mt);
        station(:top, of[:nbr] >> 0.5mt >> 1sh + (-0.5dt, -1dt),
            "Nørre Broby", "ONF: 23,4"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:nbr + 0.5sw, :ern - 0.5sw]);
    }

    with link = "point.dk.Ernebjerg", railway = :station {
        track(of[:ern - 0.5sw, :ern + 0.5sw]);
        marker(:left :de.hst, of[:ern] << 0.5mt);
        station(:right, of[:ern] << 0.5mt << 1sh + (1.5dt, 1.6dt),
            "Ernebjerg", "ONF: 26,3"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:ern + 0.5sw, :tru - 0.5sw]);
    }

    with link = "point.dk.Trunderup", railway = :station {
        track(of[:tru - 0.5sw, :tru + 0.5sw]);
        marker(:left :de.bf, of[:tru] << 0.5mt);
        station(:right, of[:tru] << 0.5mt << 1sh + (1.5dt, 1.8dt),
            "Trunderup", "ONF: 29,1"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:tru + 0.5sw, :tru + 1.5km]);
        line_label(:right:e, of[:tru + 1.5km] >> 0.5mt, (0dt, -0.3dt), "ONF");
        track(of[:tru + 1.5km, :jor - 0.5sw]);
    }

    with link = "point.dk.Jordløse", railway = :station {
        track(of[:jor - 0.5sw, :jor + 0.5sw]);
        marker(:left :de.bf, of[:jor] << 0.5mt);
        station(:right, of[:jor] << 0.5mt << 1sh + (1.5dt, 0.8dt),
            "Jordløse", "ONF: 31,8"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:jor + 0.5sw, :has - 0.5sw]);
    }

    with link = "point.dk.Håstrup", railway = :station {
        track(of[:has - 0.5sw, :has + 0.5sw]);
        marker(:left :de.bf, of[:has] << 0.5mt);
        station(:right, of[:has] << 0.5mt << 1sh + (1.5dt, 1.3dt),
            "Håstrup", "ONF: 35,5"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:has + 0.5sw, :ste - 0.5sw]);
    }

    with link = "point.dk.Stensgård", railway = :station {
        track(of[:ste - 0.5sw, :ste + 0.5sw]);
        marker(:left :de.bf, of[:ste] << 0.5mt);
        station(:right, of[:ste] << 0.5mt << 1sh + (1.8dt, 0.7dt),
            "Stensgård", "ONF: 40,0"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:ste + 0.5sw, :mil - 0.5sw]);
    }

    with link = "point.dk.Millinge", railway = :station {
        track(of[:mil - 0.5sw, :mil + 0.5sw]);
        marker(:left :de.bf, of[:mil] << 0.5mt);
        station(:right, of[:mil] << 0.5mt << 1sh + (2dt, 0.7dt),
            "Millinge", "ONF: 42,5"
        );
    }

    with link = "line.dk.ONF" {
        track(of[:mil + 0.5sw, :mil + 1.8km]);
        line_label(:left:w, of[:mil + 1.8km] << 0.5mt, "ONF");
        track(of[:mil + 1.8km, :faa - 0.5sw]);
    }

    # point.dk.Faaborg  dk.NRF
}

