# DK RBK.  Rudkøbing   Bagenkop
#
let rb = path("d3.dk.rbk");

with detail = 4,
     railway = :first :pax :removed
{
    with link = "point.dk.Rudkøbing", railway = :station {
        track(rb[:rud.a, :rud + 0.5sw]);
        marker(:right :de.bf, rb[:rud] >> 0.5mt);
        station(:left, rb[:rud] << 0.5mt + (-2dt, 0dt),
            span(:bold, "Rudkøbing"), "RBK: 0,0"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:rud + 0.49sw, :rif - 0.49sw]);
    }

    with link = "point.dk.Rifbjergvejen", railway = :station {
        track(rb[:rif - 0.5sw, :rif + 0.5sw]);
        marker(:left :de.hp, rb[:rif] << 0.5mt);
        station(:top, rb[:rif] << 0.5mt << 1sh + (-0.5dt, -0.8dt),
            "Rifbjergvejen", "RBK: 1,0"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:rif + 0.49sw, :rif + 1km]);
        line_label(:right:n, rb[:rif + 1km] >> 0.5mt, (-0.5dt, 0dt), "RBK");
        track(rb[:rif + 1km, :mol - 0.49sw]);
    }

    with link = "point.dk.Møllemose", railway = :station {
        track(rb[:mol - 0.5sw, :mol + 0.5sw]);
        marker(:left :de.hp, rb[:mol] << 0.5mt);
        station(:right, rb[:mol] << 0.5mt << 1sh + (1.8dt, 0.8dt),
            "Møllemose", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:mol + 0.49sw, :skr - 0.49sw]);
    }

    with link = "point.dk.Skrøbelev", railway = :station {
        track(rb[:skr - 0.5sw, :skr.ys + 0.5seg]);
        marker(:right :de.bf, rb[:skr] >> 0.5mt);
        station(:left, rb[:skr] >> 0.5mt >> 1sh + (2dt, 0.8dt),
            hbox(:right:top :bold, "Skrøbelev"),
            hbox(:center:top,
                vbox(:right:top, "??: ", "RBK: "),
                vbox(:sep:top,
                    hbox(:sep:base, "0,", anchor(), "0"),
                    hbox(:sep:base, "4,", anchor(), "1")
                )
            )
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:skr.ys + 0.5seg, :skr + 1.5km]);
        line_label(:right:e, rb[:skr + 1.5km] >> 0.5mt, (0dt, 0.1dt), "RBK");
        track(rb[:skr + 1.5km, :lon - 0.49sw]);
    }

    with link = "point.dk.Longelse", railway = :station {
        track(rb[:lon - 0.5sw, :lon + 0.5sw]);
        marker(:left :de.bf, rb[:lon] << 0.5mt);
        station(:right, rb[:lon] << 0.5mt << 1sh + (1.5dt, 1.6dt),
            "Longelse", "RBK: 7,1"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:lon + 0.49sw, :sna - 0.49sw]);
    }

    with link = "point.dk.Snaremose", railway = :station {
        track(rb[:sna - 0.5sw, :sna + 0.5sw]);
        marker(:left :de.hp, rb[:sna] << 0.5mt);
        station(:right, rb[:sna] << 0.5mt << 1sh + (1.4dt, 1.4dt),
            "Snaremose", "RBK: 8,9"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:sna + 0.49sw, :ill - 0.49sw]);
    }

    with link = "point.dk.Illebølle", railway = :station {
        track(rb[:ill - 0.5sw, :ill + 0.5sw]);
        marker(:left :de.bf, rb[:ill] << 0.5mt);
        station(:right, rb[:ill] << 0.5mt << 1sh + (1.4dt, 1.4dt),
            "Illebølle", "RBK: 10,4"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:ill + 0.49sw, :vin - 0.49sw]);
    }

    with link = "point.dk.Vindeby", railway = :station {
        track(rb[:vin - 0.5sw, :vin + 0.5sw]);
        marker(:left :de.hp, rb[:vin] << 0.5mt);
        station(:right, rb[:vin] << 0.5mt << 1sh + (2dt, -0.8dt),
            hbox(:left:top, "Vindeby"), "RBK: 11,9"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:vin + 0.49sw, :lin - 0.49sw]);
    }

    with link = "point.dk.Lindelse", railway = :station {
        track(rb[:lin - 0.5sw, :lin + 0.5sw]);
        marker(:right:de.bf, rb[:lin] >> 0.5mt);
        station(:left, rb[:lin] >> 0.5mt >> 1sh + (-1.8dt, 0.8dt),
            "Lindelse", "RBK: 13,1"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:lin + 0.49sw, :hen - 0.49sw]);
    }

    with link = "point.dk.Hennetvedvejen", railway = :station {
        track(rb[:hen - 0.5sw, :hen + 0.5sw]);
        marker(:left :de.hp, rb[:hen] << 0.5mt);
        station(:right, rb[:hen] << 0.5mt << 1sh + (1.6dt, 1.8dt),
            "Hennetvedvejen", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:hen + 0.49sw, :hen + 0.55km]);
        line_label(:right:e, rb[:hen + 0.55km] >> 0.5mt, (0dt, -0.2dt), "RBK");
        track(rb[:hen + 0.55km, :kad - 0.49sw]);
    }

    with link = "point.dk.Kædeby", railway = :station {
        track(rb[:kad - 0.5sw, :kad + 0.5sw]);
        marker(:left :de.bf, rb[:kad] << 0.5mt);
        station(:right, rb[:kad] << 0.5mt << 1sh + (1.5dt, 1.7dt),
            "Kædeby", "RBK: 16,1"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:kad + 0.49sw, :hel - 0.49sw]);
    }

    with link = "point.dk.Helsnedvejen", railway = :station {
        track(rb[:hel - 0.5sw, :hel + 0.5sw]);
        marker(:right :de.hp, rb[:hel] >> 0.5mt);
        station(:left, rb[:hel] >> 0.5mt >> 1sh + (-1.5dt, 1.1dt),
            "Helsnedvejen", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:hel + 0.49sw, :hum - 0.49sw]);
    }

    with link = "point.dk.Humble", railway = :station {
        track(rb[:hum - 0.5sw, :hum + 0.5sw]);
        marker(:right :de.bf, rb[:hum] >> 0.5mt);
        station(:left, rb[:hum] >> 0.5mt >> 1sh + (-1.5dt, 1.1dt),
            "Humble", "RBK: 18,2"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:hum + 0.49sw, :nov - 0.49sw]);
    }

    with link = "point.dk.Nørreballevejen", railway = :station {
        track(rb[:nov - 0.5sw, :nov + 0.5sw]);
        marker(:right :de.hp, rb[:nov] >> 0.5mt);
        station(:left, rb[:nov] >> 0.5mt >> 1sh + (-1.5dt, 1.5dt),
            "Nørreballevejen", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:nov + 0.49sw, :try - 0.49sw]);
    }

    with link = "point.dk.Tryggelev", railway = :station {
        track(rb[:try - 0.5sw, :try + 0.5sw]);
        marker(:left :de.bf, rb[:try] << 0.5mt);
        station(:right, rb[:try] << 0.5mt << 1sh + (1.5dt, 0.8dt),
            "Tryggelev", "RBK: 20,8"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:try + 0.49sw, :ost - 0.49sw]);
    }

    with link = "point.dk.Østerskovvejen", railway = :station {
        track(rb[:ost - 0.5sw, :ost + 0.5sw]);
        marker(:left :de.hp, rb[:ost] << 0.5mt);
        station(:right, rb[:ost] << 0.5mt << 1sh + (1.8dt, 0.6dt),
            "Østerskovvejen", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:ost + 0.49sw, :nob - 0.49sw]);
    }

    with link = "point.dk.Nordenbro", railway = :station {
        track(rb[:nob - 0.5sw, :nob + 0.5sw]);
        marker(:left :de.bf, rb[:nob] << 0.5mt);
        station(:right, rb[:nob] << 0.5mt << 1sh + (1.4dt, 1.3dt),
            "Nordenbro", "RBK: 22,7"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:nob + 0.49sw, :bro - 0.49sw]);
    }

    with link = "point.dk.Broløkke", railway = :station {
        track(rb[:bro - 0.5sw, :bro + 0.5sw]);
        marker(:left :de.hp, rb[:bro] << 0.5mt);
        station(:right, rb[:bro] << 0.5mt << 1sh + (1.3dt, 1.2dt),
            "Broløkke", "RBK: 24,3"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:bro + 0.49sw, :roj - 0.49sw]);
    }

    with link = "point.dk.Røjlevejen", railway = :station {
        track(rb[:roj - 0.5sw, :roj + 0.5sw]);
        marker(:left :de.hp, rb[:roj] << 0.5mt);
        station(:right, rb[:roj] << 0.5mt << 1sh + (1.4dt, 1.3dt),
            "Røjlevejen", "RBK: ??"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:roj + 0.49sw, :son - 0.49sw]);
    }

    with link = "point.dk.Søndenbro", railway = :station {
        track(rb[:son - 0.5sw, :son + 0.5sw]);
        marker(:left :de.bf, rb[:son] << 0.5mt);
        station(:right, rb[:son] << 0.5mt << 1sh + (1.6dt, 1.8dt),
            "Søndenbro", "RBK: 26,2"
        );
    }

    with link = "line.dk.RBK" {
        track(rb[:son + 0.49sw, :son + 1.1km]);
        line_label(:left:n, rb[:son + 1.1km] << 0.5mt, (0.8dt, 0dt), "RBK");
        track(rb[:son + 1.1km, :bag - 0.49sw]);
    }

    with link = "point.dk.Bagenkop", railway = :station {
        track(rb[:bag - 0.5sw, :bag + 30m]);
        track(:side :nopax, rb[:bag + 30m, :bag.f]);
        marker(:right :de.bf, rb[:bag] >> 0.5mt);
        station(:top, rb[:bag] >> 0.5mt >> 1sh + (0dt, -0.8dt),
            span(:bold, "Bagenkop"), "RBK: 28,4"
        );
    }
}


