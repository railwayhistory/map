# DK SBF.  Svendbor - Katterød (- Faaborg)
#
let sk = path("d3.dk.sbf");

with detail = 4,
     railway = :first :pax :removed
{
    # point.dk.Svendborg  dk.OSB

    with link = "line.dk.SBF" {
        track(:ror, sk[:sve + 0.5sw, :sve.yf - 0.75km] << 1mo);
        line_label(:left:nw, sk[:sve.yf - 0.75km] << 1mo << 0.5mt, "SBF");
        track(:ror, sk[:sve.yf - 0.75km, :sve.yf] << 1mo);
        track(:ror,
                sk[:sve.yf - 0.1dl, :sve.yf] << 1mo
            ..  sk[:sve.xf + 2mo, :sve.xf + 2.01mo]
        );
        track(sk[:sve.xf + 2mo, :sko - 0.5sw]);
    }

    with link = "point.dk.Skovsbo", railway = :station {
        track(sk[:sko - 0.5sw, :sko + 0.5sw]);
        marker(:left :de.hp, sk[:sko] << 0.5mt);
        station(:bottom, sk[:sko] << 0.5mt << 1sh + (0dt, 0.8dt),
            "Skovsbo", "SBF: 4,0"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:sko + 0.5sw, :ege - 0.5sw]);
    }

    with link = "point.dk.Egense", railway = :station {
        track(sk[:ege - 0.5sw, :ege + 0.5sw]);
        marker(:right :de.bf, sk[:ege] >> 0.5mt);
        station(:right, sk[:ege] >> 0.5mt >> 1sh + (2dt, 0.5dt),
            "Egense", "SBF: 6,3"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:ege + 0.5sw, :ege + 1.4km]);
        line_label(:right:sw, sk[:ege + 1.4km] >> 0.5mt, "SBF");
        track(sk[:ege + 1.4km, :oll - 0.5sw]);
    }

    with link = "point.dk.Ollerup", railway = :station {
        track(sk[:oll - 0.5sw, :oll + 0.5sw]);
        marker(:right :de.bf, sk[:oll] >> 0.5mt);
        station(:top, sk[:oll] >> 0.5mt >> 1sh + (1.5dt, -1.3dt),
            "Ollerup", "SBF: 9,1"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:oll + 0.5sw, :aki - 0.5sw]);
    }

    with link = "point.dk.Åkilde", railway = :station {
        track(sk[:aki - 0.5sw, :aki + 0.5sw]);
        marker(:right :de.hp, sk[:aki] >> 0.5mt);
        station(:top, sk[:aki] >> 0.5mt >> 1sh + (0dt, -0.8dt),
            "Åkilde", "SBF: 11,2"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:aki + 0.5sw, :vsk - 0.5sw]);
    }

    with link = "point.dk.Vester-Skerninge", railway = :station {
        track(sk[:vsk - 0.5sw, :vsk + 0.5sw]);
        marker(:right :de.hp, sk[:vsk] >> 0.5mt);
        station(:top, sk[:vsk] >> 0.5mt >> 1sh + (0dt, -0.6dt),
            "Vester Skerninge", "SBF: 12,4"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:vsk + 0.5sw, :ulb - 0.5sw]);
    }

    with link = "point.dk.Ulbølle", railway = :station {
        track(sk[:ulb - 0.5sw, :ulb + 0.5sw]);
        marker(:right :de.bf, sk[:ulb] >> 0.5mt);
        station(:top, sk[:ulb] >> 0.5mt >> 1sh + (0dt, -0.6dt),
            "Ulbølle", "SBF: 14,1"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:ulb + 0.5sw, :ulb + 2.3km]);
        line_label(:right:sw, sk[:ulb + 2.3km] >> 0.5mt, "SBF");
        track(sk[:ulb + 2.3km, :vab - 0.5sw]);
    }

    with link = "point.dk.Vester-Åby", railway = :station {
        track(sk[:vab - 0.5sw, :vab + 0.5sw]);
        marker(:left :de.bf, sk[:vab] << 0.5mt);
        station(:bottom, sk[:vab] << 0.5mt << 1sh + (0dt, 0.5dt),
            "Vester Åby", "SBF: 17,7"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:vab + 0.5sw, :nak - 0.5sw]);
    }

    with link = "point.dk.Nakkebølle", railway = :station {
        track(sk[:nak - 0.5sw, :nak + 0.5sw]);
        marker(:right :de.hp, sk[:nak] >> 0.5mt);
        station(:top, sk[:nak] >> 0.5mt >> 1sh + (-0.5dt, -0.8dt),
            "Nakkebølle",  "SBF: 19,5"
        );
    }

    with link = "line.dk.SBF" {
        track(sk[:nak + 0.5sw, :kat.xs - 2mt]);
        track(:ror,
                sk[:kat.xs - 2.1mt, :kat.xs - 2mt]
            ..  sk[:kat.ys, :kat.ys + 0.1dl] << 1mo
        );
    }
}


