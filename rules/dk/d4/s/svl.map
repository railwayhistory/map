# DK SVL.  Slagelse - Værslev
#
let sv = path("d3.dk.svl");

with detail = 4,
     railway = :first :pax
{
    # point.dk.Slagelse  dk.KFA

    with link = "line.dk.SVL" {
        track(:lor,
                sv[:sla.yv - 0.1dl, :sla.yv] >> 1.5mo
            ..  sv[:sla.xv, :sla.xv + 0.1dl]
        );
        track(sv[:sla.xv, :hav - 2.5km]);
        line_label(:left:e, sv[:hav - 2.5km] << 0.5mt, "SVL");
        track(sv[:hav - 2.5km, :hav - 0.5sw]);
    }

    with link = "point.dk.Havrebjerg", railway = :station {
        track(sv[:hav - 0.5sw, :hav + 0.5sw]);
        marker(:left :de.bbf :nopax, sv[:hav] << 0.5mt);
        marker(:left :de.exbf :nopax, sv[:hav] << 0.5mt);
        station(:left :nopax, sv[:hav] << 0.5mt << 1.8sh + (0dt, 1.3dt),
            "Havrebjerg", "SVL: 6,200"
        );
    }   

    with link = "line.dk.SVL" {
        track(sv[:hav + 0.5sw, :lov - 0.5sw]);
    }

    with link = "point.dk.Løve", railway = :station {
        track(sv[:lov - 0.5sw, :lov + 0.5sw]);
        marker(:left :de.hp :removed, sv[:lov] << 0.5mt);
        marker(:left :de.exbf :removed, sv[:lov] << 0.5mt);
        station(:left:right_align :removed,
            sv[:lov] << 0.5mt << 1.9sh + (0dt, 1.1dt),
            "Løve", "SVL: ??"
        );
    }

    with link = "line.dk.SVL" {
        track(sv[:lov + 0.5sw, :lov + 1.5km]);
        line_label(:left:e, sv[:lov + 1.5km] << 0.5mt, "SVL");
        track(sv[:lov + 1.5km, :hon - 0.5sw]);
    }

    with link = "point.dk.Høng", railway = :station {
        track(
                sv[:hon - 0.5sw, :hon + 100m]
            --  sv[:hon + 100m + 1dl, :hon.yt] >> 1mt >> 1ms
        );
        track(:nopax, sv[:hon + 100m, :hon.yt]);
        marker(:right :de.bf, sv[:hon] >> 0.5mt);
        station(:right:left_align, sv[:hon] >> 0.5mt >> 1.6sh + (0dt, 1.1dt),
            span(:bold, "Høng"),
            hbox(:center:top,
                vbox(:right:top, "SVL: ", "[??: "),
                vbox(:sep:top,
                    hbox(:sep:base, "12,", anchor(), "800"),
                    hbox(:sep:base, "−0,", anchor(), "023]")
                )
            )
        );
    }
}

with detail = 4,
     railway = :first :nopax
{
    with link = "line.dk.SVL" {
        track(sv[:hon.yt, :hon.yt + 2.2km]);
        line_label(:left:ne, sv[:hon.yt + 2.2km] << 0.5mt, "SVL");
        track(sv[:hon.yt + 2.2km, :gor - 0.5sw]);
    }

    with link = "point.dk.Gørlev", railway = :station {
        track(sv[:gor - 0.5sw, :gor.f]);
        marker(:left :de.bf :removed, sv[:gor] << 0.5mt);
        station(:left :removed, sv[:gor] << 0.5mt << 1.6sh + (0dt, 1dt),
            "Gørlev", "SVL: ??"
        );
    }
}

with detail = 4,
     railway = :first :pax :removed
{
    with link = "line.dk.SVL" {
        track(sv[:gor.f, :fug - 0.5sw]);
    }

    with link = "point.dk.Store-Fuglede", railway = :station {
        track(sv[:fug - 0.5sw, :fug + 0.5sw]);
        marker(:right :de.hp, sv[:fug] >> 0.5mt);
        marker(:right :de.exbf, sv[:fug] >> 0.5mt);
        station(:right, sv[:fug] >> 0.5mt >> 1.8sh + (0dt, 1.2dt),
            "Store Fuglede", "SVL: ??"
        );
    }

    with link = "line.dk.SVL" {
        track(sv[:fug + 0.5sw, :jer - 0.5sw]);
    }

    with link = "point.dk.Jerslev", railway = :station {
        track(sv[:jer - 0.5sw, :jer + 0.5sw]);
        marker(:right :de.bf, sv[:jer] >> 0.5mt);
        station(:right, sv[:jer] >> 0.5mt >> 1.5sh + (0dt, 1dt),
            "Jerslev", "SVL: ??"
        );
    }

    with link = "line.dk.SVL" {
        track(sv[:jer + 0.5sw, :jer + 2km]);
        line_label(:left:e, sv[:jer + 2km] << 0.5mt, "SVL");
        track(sv[:jer + 2km, :for - 0.5sw]);
    }

    with link = "point.dk.Forsinge", railway = :station {
        track(sv[:for - 0.5sw, :for + 0.5sw]);
        marker(:right :de.hp, sv[:for] >> 0.5mt);
        marker(:right :de.exbf, sv[:for] >> 0.5mt);
        station(:left, sv[:for] << 3mt + (0dt, 1dt),
            "Forsinge", "SVL: ??"
        );
    }

    with link = "line.dk.SVL" {
        track(sv[:for + 0.5sw, :var.xs]);
        track(:ror,
                sv[:var.xs - 0.1dl, :var.xs]
            ..  sv[:var.ys, :var.ys + 1dl] << 1mo
        );
    }
}

