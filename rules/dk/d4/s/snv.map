# DK SNV.  Slagelse - Næstved
#
let sn = path("d3.dk.snv");

with detail = 4,
     railway = :first :pax :removed
{
    # point.dk.Slagelse  dk.KFA

    with link = "line.dk.SNV" {
        track(
                sn[:sla.yn - 0.1dl, :sla.yn] << 1.5mo
            ..  sn[:sla.xn, :sla.xn + 2.5km]
        );
        line_label(:left:sw, sn[:sla.xn + 2.5km] << 0.5mt, "SNV");
        track(sn[:sla.xn + 2.5km, :slu - 0.5sw]);
    }

    with link = "point.dk.Sludstrup", railway = :station {
        track(sn[:slu - 0.5sw, :slu + 0.5sw]);
        marker(:right :de.bf, sn[:slu] >> 0.5mt);
        station(:left, sn[:slu] >> 0.5mt >> 1.6sh + (0dt, 1dt),
            "Sludstrup", "SNV: 8,2"
        );
    }

    with link = "line.dk.SNV" {
        track(sn[:slu + 0.5sw, :fla - 0.5sw]);
    }

    with link = "point.dk.Flakkebjerg", railway = :station {
        track(sn[:fla - 0.5sw, :fla + 0.5sw]);
        marker(:right :de.hp, sn[:fla] >> 0.5mt);
        marker(:right :de.exbf, sn[:fla] >> 0.5mt);
        station(:left, sn[:fla] >> 0.5mt >> 2sh + (0dt, 1.3dt),
            "Flakkebjerg", "SNV: 11,3"
        )
    }

    with link = "line.dk.SNV" {
        track(sn[:fla + 0.5sw, :fla + 2km]);
        line_label(:left:w, sn[:fla + 2km] << 0.5mt, (0dt, -0.2dt), "SNV");
        track(sn[:fla + 2km, :dal - 270m]);
    }

    with link = "point.dk.Dalmose", railway = :station {
        track(sn[:dal - 270m, :dal.ys + 50m]);
        track(
                sn[:dal - 241m, :dal - 240m]
            --  sn[:dal - 240m + 1dl, :dal.ys] >> 1mo
        );
        marker(:right :de.bf, sn[:dal] >> 1mo);
        station(:left, sn[:dal] >> 1mo >> 0.5mt >> 1.6sh + (0dt, 0.8dt),
            span(:bold, "Dalmose"),
            hbox(:center:top,
                vbox(:right:top, "DMS: ", "SNV: "),
                vbox(:sep:top,
                    hbox(:sep:base, "0,", anchor(), "0"),
                    hbox(:sep:base, "15,", anchor(), "4")
                )
            )
        );
    }

    with link = "line.dk.SNV" {
        track(sn[:dal.ys + 2dl, :dal.ys + 1.3km]);
        line_label(:left:sw, sn[:dal.ys + 1.3km] << 0.5mt, "SNV");
        track(sn[:dal.ys + 1.3km, :hol - 0.5sw]);
    }

    with link = "point.dk.Holsteinborg", railway = :station {
        track(sn[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.hp, sn[:hol] >> 0.5mt);
        station(:left, sn[:hol] >> 0.5mt >> 1.2sh + (4dt, 0dt),
            hbox(:right:top, "Holsteinborg"), "SNV: 18,5"
        );
    }

    with link = "line.dk.SNV" {
        track(sn[:hol + 0.5sw, :san - 0.5sw]);
    }

    with link = "point.dk.Sandved", railway = :station {
        track(sn[:san - 0.5sw, :san + 0.5sw]);
        marker(:right :de.bf, sn[:san] >> 0.5mt);
        station(:bottom, sn[:san] >> 0.5mt >> 1.2sh,
            "Sandved", "SNV: 23,0"
        );
    }

    with link = "line.dk.SNV" {
        track(sn[:san + 0.5sw, :hyl - 0.5sw]);
    }

    with link = "point.dk.Hyllinge", railway = :station {
        track(sn[:hyl - 0.5sw, :hyl + 0.5sw]);
        marker(:right :de.bf, sn[:hyl] >> 0.5mt);
        station(:bottom, sn[:hyl] >> 0.5mt >> 1.3sh,
            "Hyllinge", "SNV: 27,9"
        );
    }

    with link = "line.dk.SNV" {
        track(sn[:hyl + 0.5sw, :fod - 0.5sw]);
    }

    with link = "point.dk.Fodby", railway = :station {
        track(sn[:fod - 0.5sw, :fod + 0.5sw]);
        marker(:left :de.bf, sn[:fod] << 0.5mt);
        station(:top, sn[:fod] << 0.5mt << 1.2sh, "Fodby", "SNV: 32,8");
    }

    with link = "line.dk.SNV" {
        track(sn[:fod + 0.5sw, :lad - 0.5sw]);
    }

    with link = "point.dk.Ladby-Sjælland", railway = :station {
        track(sn[:lad - 0.5sw, :lad + 0.5sw]);
        marker(:left :de.hp, sn[:lad] << 0.5mt);
        station(:top, sn[:lad] << 0.5mt << 1.2sh,
            "Ladby Sjælland", "SNV: 34,5"
        );
    }

    with link = "line.dk.SNV" {
        track(
                sn[:lad + 0.5sw, :nas.xs]
            ..  sn[:nas.ys, :nas.ys + 0.1dl] >> 1.5mo
        );
    }

    # point.dk.Næstved  dk.RSR
}


