# DK SNB.  Svendborg - Nyborg
#
let sn = path("d3.dk.snb");

with detail = 4,
     railway = :first :pax :removed
{
    # point.dk.Svendborg  dk.OSB

    with link = "line.dk.SNB" {
        track(sn[:sve + 160m, :chr - 0.5sw]);
    }

    with link = "point.dk.Christiansminde", railway = :station {
        track(sn[:chr - 0.5sw, :chr + 0.5sw]);
        marker(:right :de.hp, sn[:chr] >> 0.5mt);
        station(:bottom, sn[:chr] >> 0.5mt >> 1sh + (0dt, 0.5dt),
            "Christiansminde", "SNB: 1,8"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:chr + 0.5sw, :chr + 1.3km]);
        line_label(:left:se, sn[:chr + 1.3km] << 0.5mt, "SNB");
        track(sn[:chr + 1.3km, :hol - 0.5sw]);
    }

    with link = "point.dk.Holmdrup", railway = :station {
        track(sn[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.hp, sn[:hol] >> 0.5mt);
        station(:right, sn[:hol] >> 0.5mt >> 1sh + (1.2dt, 1.2dt),
            "Holmdrup", "SNB: 4,8"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:hol + 0.5sw, :ska - 0.5sw]);
    }

    with link = "point.dk.Skårup", railway = :station {
        track(sn[:ska - 0.5sw, :ska + 0.5sw]);
        marker(:left :de.bf, sn[:ska] << 0.5mt);
        station(:left, sn[:ska] << 0.5mt << 1sh + (-1.8dt, 0.8dt),
            "Skårup", "SNB: 7,1"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:ska + 0.5sw, :vej - 0.5sw]);
    }

    with link = "point.dk.Vejstrup", railway = :station {
        track(sn[:vej - 0.5sw, :vej + 0.5sw]);
        marker(:right :de.bf, sn[:vej] >> 0.5mt);
        station(:right, sn[:vej] >> 0.5mt >> 1sh + (1.7dt, 1.3dt),
            "Vejstrup", "SNB: 9,7"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:vej + 0.5sw, :our - 0.5sw]);
    }

    with link = "point.dk.Oure", railway = :station {
        track(sn[:our - 0.5sw, :our + 0.5sw]);
        marker(:right :de.bf, sn[:our] >> 0.5mt);
        station(:right:left_align, sn[:our] >> 0.5mt >> 1sh + (1.3dt, 1.6dt),
            "Oure", "SNB: 11,4"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:our + 0.5sw, :gud - 0.5sw]);
    }

    with link = "point.dk.Gudme", railway = :station {
        track(sn[:gud - 0.5sw, :gud + 0.5sw]);
        marker(:left :de.bf, sn[:gud] << 0.5mt);
        station(:left, sn[:gud] << 0.5mt << 1sh + (-1.4dt, 1.5dt),
            "Gudme", "SNB: 15,1"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:gud + 0.5sw, :hes - 0.5sw]);
    }

    with link = "point.dk.Hesselager", railway = :station {
        track(sn[:hes - 0.5sw, :hes + 0.5sw]);
        marker(:right :de.bf, sn[:hes] >> 0.5mt);
        station(:right, sn[:hes] >> 0.5mt >> 1sh + (1.3dt, 1.5dt),
            "Hesselager", "SNB: 18,1"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:hes + 0.5sw, :hes + 1.2km]);
        line_label(:left:e, sn[:hes + 1.2km] << 0.5mt, "SNB");
        track(sn[:hes + 1.2km, :ryg - 0.5sw]);
    }

    with link = "point.dk.Rygård", railway = :station {
        track(sn[:ryg - 0.5sw, :ryg + 0.5sw]);
        marker(:right :de.bf, sn[:ryg] >> 0.5mt);
        station(:right, sn[:ryg] >> 0.5mt >> 1sh + (1.3dt, 1.3dt),
            "Rygård", "SNB: 20,6"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:ryg + 0.5sw, :glo - 0.5sw]);
    }

    with link = "point.dk.Glorup", railway = :station {
        track(sn[:glo - 0.5sw, :glo + 0.5sw]);
        marker(:left :de.hp, sn[:glo] << 0.5mt);
        station(:left:right_align, sn[:glo] << 0.5mt << 1sh + (-1.3dt, 1dt),
            "Glorup", "SNB: 22,0"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:glo + 0.5sw, :oks - 0.5sw]);
    }

    with link = "point.dk.Øksendrup", railway = :station {
        track(sn[:oks - 0.5sw, :oks + 0.5sw]);
        marker(:right :de.bf, sn[:oks] >> 0.5mt);
        station(:right, sn[:oks] >> 0.5mt >> 1sh + (1.3dt, 1.2dt),
            "Øksendrup", "SNB: 23,9"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:oks + 0.5sw, :fro - 0.5sw]);
    }

    with link = "point.dk.Frørup", railway = :station {
        track(sn[:fro - 0.5sw, :fro + 0.5sw]);
        marker(:left :de.bf, sn[:fro] << 0.5mt);
        station(:left, sn[:fro] << 0.5mt << 1sh + (-1.3dt, 1dt),
            "Frørup", "SNB: 26,1"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:fro + 0.5sw, :slu - 0.5sw]);
    }

    with link = "point.dk.Slude", railway = :station {
        track(sn[:slu - 0.5sw, :slu + 0.5sw]);
        marker(:left :de.hst, sn[:slu] << 0.5mt);
        station(:left:right_align, sn[:slu] << 0.5mt << 1sh + (-1.3dt, 1.3dt),
            "Slude", "SNB: 28,2"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:slu + 0.5sw, :kog - 0.5sw]);
    }

    with link = "point.dk.Kogsbølle", railway = :station {
        track(sn[:kog - 0.5sw, :kog + 0.5sw]);
        marker(:left :de.hp, sn[:kog] << 0.5mt);
        station(:left, sn[:kog] << 0.5mt << 1sh + (-1.2dt, 1.2dt),
            "Kogsbølle", "SNB: 30,7"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:kog + 0.5sw, :byn - 0.5sw]);
    }

    with link = "point.dk.Bynkel", railway = :station {
        track(sn[:byn - 0.5sw, :byn + 0.5sw]);
        marker(:left :de.hst, sn[:byn] << 0.5mt);
        station(:left:right_align, sn[:byn] << 0.5mt << 1sh + (-1.3dt, 1.5dt),
            "Bynkel", "SNB: 32,4"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:byn + 0.5sw, :byn + 2.6km]);
        line_label(:left:s, sn[:byn + 2.6km] << 0.5mt, (-0.1dt, 0dt), "SNB");
        track(sn[:byn + 2.6km, :nys.yh]);
    }
}

with detail = 4,
     railway = :side :nopax
{
    with link = "line.dk.SNB" {
        track(sn[:nys.yh, :nys - 0.5sw]);       
    }

    with link = "point.dk.Nyborg-Syd", railway = :station {
        track(sn[:nys - 0.5sw, :nys + 0.5sw]);
        marker(:right :de.bf :removed, sn[:nys] >> 0.5mt);
        label(:removed, sn[:nys] + (-0.3km, 0dt),
            vbox(:right:base,
                span(:former, "Nyborg Lokalstation"),
                vbox(:center:topbase,
                    "Nyborg Syd",
                    span(:xsmall, "SNB: 36,9")
                )
            )
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:nys + 0.5sw, :nyf.xs]);       
    }
}

with detail = 4,
     railway = :first :pax :removed
{
    with link = "line.dk.SNB" {
        track(:station,
                sn[:nyf.xs - 0.1dl, :nyf.xs]
            ..  sn[:nyf.ys, :nyf.ys + 0.1dl] << 1.5mo
        );
    }

    # point.dk.Nyborg-Færge  dk.NYB
}


