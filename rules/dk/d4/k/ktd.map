# DK KTD.  Kagerup - Tisvildeleje
#
let kt = path("d3.dk.ktd");

with detail = 4,
     railway = :first :pax
{
    # point.dk.Kagerup  dk.HKG

    with link = "line.dk.KTD" {
        track(
                kt[:kag.yt - 0.1dl, :kag.yt] << 1mt << 1ms
            ..  kt[:kag.xt + 10mt, :due - 0.5sw]
        );
    }

    with link = "point.dk.Duemose" {
        track(kt[:due - 0.5sw, :due + 0.5sw]);
        marker(:right :de.hp, kt[:due] >> 0.5mt);
        station(:left, kt[:due + 0.5sw] << 0.5mt,
            hbox(:right:top, "Duemose"), "KTD: 10,700"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:due + 0.5sw, :due + 1.2km]);
        line_label(:left:ne, kt[:due + 1.2km] << 0.5mt, "KTD");
        track(kt[:due + 1.2km, :hob - 0.5sw]);
    }

    with link = "point.dk.Høbjerg" {
        track(kt[:hob - 0.5sw, :hob + 0.5sw]);
        marker(:left :de.hp :removed, kt[:hob] << 0.5mt);
        station(:left :removed, kt[:hob + 0.7sw] << 0.5mt << 1.2sh,
            hbox(:right:top, "Høbjerg ", span(:former, "Hegn")),
            "KTD: ??"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:hob + 0.5sw, :hel - 0.5sw]);
    }

    with link = "point.dk.Helsinge" {
        track(kt[:hel - 0.5sw, :hel + 0.5sw]);
        marker(:left :de.bf, kt[:hel] << 0.5mt);
        station(:left, kt[:hel] << 0.5mt << 1sh + (-0.5sh, -0.8dt),
            hbox(:right:top, "Helsinge"), "KTD: 14,600"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:hel + 0.5sw, :tro - 0.5sw]);
    }

    with link = "point.dk.Troldebakkerne" {
        track(kt[:tro - 0.5sw, :tro + 0.5sw]);
        marker(:left :de.hp, kt[:tro] << 0.5mt);
        station(:left, kt[:tro] << 0.5mt << 1.6sh + (0dt, 0.8dt),
            "Troldebakkerne", "KTD: 16,000"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:tro + 0.5sw, :lau - 0.5sw]);
    }

    with link = "point.dk.Laugø" {
        track(kt[:lau - 0.5sw, :lau + 0.5sw]);
        marker(:right :de.hp :removed, kt[:lau] >> 0.5mt);
        station(:right :removed, kt[:lau] >> 0.5mt >> 1.5sh + (0dt, 1.5dt),
            "Laugø", "KTD: ??"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:lau + 0.5sw, :orb - 0.5sw]);
    }

    with link = "point.dk.Ørby" {
        track(kt[:orb - 0.5sw, :orb + 0.5sw]);
        marker(:right :de.hp, kt[:orb] >> 0.5mt);
        station(:right:left_align, kt[:orb] >> 0.5mt >> 1.7sh + (0dt, 1.3dt),
            "Ørby", " KTD: 19,100"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:orb + 0.5sw, :orb + 0.8km]);
        line_label(:left:ne, kt[:orb + 0.8km] << 0.5mt, "KTD");
        track(kt[:orb + 0.8km, :vej - 0.5sw]);
    }

    with link = "point.dk.Vejby" {
        track(kt[:vej - 0.5sw, :vej + 0.5sw]);
        marker(:right :de.hp, kt[:vej] >> 0.5mt);
        station(:top, kt[:vej] >> 0.5mt >> 1.2sh, "Vejby", "KTD: 21,000");
    }

    with link = "line.dk.KTD" {
        track(kt[:vej + 0.5sw, :hol - 0.5sw]);
    }

    with link = "point.dk.Holløse" {
        track(kt[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.hp, kt[:hol] >> 0.5mt);
        station(:top, kt[:hol] >> 0.5mt >> 1.3sh + (-0.5dt, 0dt),
            "Holløse", "KTD: 22,200"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:hol + 0.5sw, :god - 0.5sw]);
    }

    with link = "point.dk.Godhavn" {
        track(kt[:god - 0.5sw, :god + 0.5sw]);
        marker(:left :de.hp, kt[:god] << 0.5mt);
        station(:bottom, kt[:god] << 0.5mt << 1.2sh,
            "Godhavn", "KTD: 23,500"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:god + 0.5sw, :til - 0.5sw]);
    }

    with link = "point.dk.Tisvildeleje" {
        track(kt[:til - 0.5sw, :til.f]);
        marker(:left :de.bf, kt[:til] << 0.5mt);
        station(:bottom, kt[:til] << 0.5mt << 1.3sh,
            span(:bold, "Tisvildeleje"), "KTD: 24,700"
        );
    }
}

