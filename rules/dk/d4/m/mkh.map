# DK MKH.  Masnedsund - Kalvehave
#
let mk = path("d3.dk.mkh");

with detail = 4,
     railway = :first :pax :removed
{
    # point.dk.Masnedsund  dk.VBM

    with link = "line.dk.MKH" {
        track(
                mk[:mas.yk - 0.1dl, :mas.yk] >> 0.5mo
            ..  mk[:vos - 0.51sw, :vos - 0.5sw]
        );
    }

    with link = "point.dk.Vordingborg-Slot", railway = :station {
        track(mk[:vos - 0.5sw, :vos + 0.5sw]);
        marker(:left :de.bf, mk[:vos] << 0.5mt);
        station(:top, mk[:vos] << 0.5mt << 1.2sh,
            "Vordingborg Slot", "MKH: 1,6"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:vos + 0.5sw, :vos + 1.68km]);
        line_label(:left:s, mk[:vos + 1.68km] << 0.5mt, "MKH");
        track(mk[:vos + 1.68km, :flo - 0.5sw]);
    }

    with link = "point.dk.Florke", railway = :station {
        track(mk[:flo - 0.5sw, :flo + 0.5sw]);
        marker(:right :de.hp, mk[:flo] >> 0.5mt);
        station(:bottom, mk[:flo] >> 0.5mt >> 1.1sh,
            vbox(:center:top,
                span(:former, "Vintersbølle"),
                "Florke"
            ),
            "MKH: 4,0"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:flo + 0.5sw, :nyr - 0.5sw]);
    }

    with link = "point.dk.Nyråd", railway = :station {
        track(mk[:nyr - 0.5sw, :nyr + 0.5sw]);
        marker(:left :de.bf, mk[:nyr] << 0.5mt);
        station(:top, mk[:nyr] << 0.5mt << 1.2sh + (0.5dt, 0dt),
            "Nyråd", "MKH: 5,2"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:nyr + 0.5sw, :bak - 0.5sw]);
    }

    with link = "point.dk.Bakkebølle", railway = :station {
        track(mk[:bak - 0.5sw, :bak + 0.5sw]);
        marker(:right :de.hp, mk[:bak] >> 0.5mt);
        station(:bottom, mk[:bak] >> 0.5mt >> 1.2sh,
            "Bakkebølle", "MKH: 6,9"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:bak + 0.5sw, :ves - 0.5sw]);
    }

    with link = "point.dk.Vestenbæk", railway = :station {
        track(mk[:ves - 0.5sw, :ves + 0.5sw]);
        marker(:left :de.hp, mk[:ves] << 0.5mt);
        station(:top, mk[:ves] << 0.5mt << 1.2sh + (-0.3dt, 0dt),
            "Vestenbæk", "MKH: 8,4"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:ves + 0.5sw, :ste - 0.5sw]);
    }

    with link = "point.dk.Stensved", railway = :station {
        track(mk[:ste - 0.5sw, :ste + 0.5sw]);
        marker(:right :de.bf, mk[:ste] >> 0.5mt);
        station(:bottom, mk[:ste] >> 0.5mt >> 1.1sh,
            "Stensved", "MKH: 9,5"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:ste + 0.5sw, :sti - 0.5sw]);
    }

    with link = "point.dk.Stivænge", railway = :station {
        track(mk[:sti - 0.5sw, :sti + 0.5sw]);
        marker(:left :de.hp, mk[:sti] << 0.5mt);
        station(:top, mk[:sti] << 0.5mt << 1.3sh + (-0.5dt, 0dt),
            "Stivænge", "MKH: 10,3"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:sti + 0.5sw, :sko - 0.5sw]);
    }

    with link = "point.dk.Skovhuse", railway = :station {
        track(mk[:sko - 0.5sw, :sko + 0.5sw]);
        marker(:left :de.hp, mk[:sko] << 0.5mt);
        station(:top, mk[:sko] << 0.5mt << 1.2sh,
            "Skovhuse", "MKH: 11,5"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:sko + 0.5sw, :lan - 0.5sw]);
    }

    with link = "point.dk.Langebæk", railway = :station {
        track(mk[:lan - 0.5sw, :lan + 0.5sw]);
        marker(:left :de.bf, mk[:lan] << 0.5mt);
        station(:top, mk[:lan] << 0.5mt << 1.4sh - (1.5dt, 0dt),
            "Langebæk", "MKH: 13,1"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:lan + 0.5sw, :sta - 0.5sw]);
    }

    with link = "point.dk.Stålvænge", railway = :station {
        track(mk[:sta - 0.5sw, :sta + 0.5sw]);
        marker(:left :de.hp, mk[:sta] << 0.5mt);
        station(:top, mk[:sta] << 0.5mt << 1.2sh,
            "Stålvænge", "MKH: 15,5"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:sta + 0.5sw, :vie - 0.5sw]);
    }

    with link = "point.dk.Viemose", railway = :station {
        track(mk[:vie - 0.5sw, :vie + 0.5sw]);
        marker(:right :de.bf, mk[:vie] >> 0.5mt);
        station(:bottom, mk[:vie] >> 0.5mt >> 1.1sh,
            "Viemose", "MKH: 17,2"
        );
    }

    with link = "line.dk.MKH" {
        track(mk[:vie + 0.5sw, :vie + 1.5km]);
        line_label(:left:sw, mk[:vie + 1.5km] << 0.5mt, "MKH");
        track(mk[:vie + 1.5km, :kal - 0.5sw]);
    }

    with link = "point.dk.Kalvehave", railway = :station {
        track(mk[:kal - 0.5sw, :kal.f]);
        marker(:right :de.bf, mk[:kal] >> 0.5mt);
        station(:right, mk[:kal] << 0.5mt + (1.3dt, 1.2dt),
            span(:bold, "Kalvehave"), "MKH: 20,5"
        );
    }
}

