# DK KH.  København H - Helsingør
#
let kh = path("d4.dk.kh");

with detail = 3 {
    # point.dk.København-H  dk.KF

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:kob + 1sw, :nor - 0.5sw]);
    }

    with link = "point.dk.Nørreport" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:nor - 0.5sw, :nor + 0.5sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, kh[:nor] >> 0.5dt);
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:nor + 0.5sw, :ost - 1sw]);
    }

    with link = "point.dk.Østerport" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:ost - 1sw, :ost + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:ost] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:ost - 0.2sw] >> 0.5dt >> 1.8sh,
            "Østerport"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:ost + 0.5sw, :heg - 1sw]);
    }

    with link = "point.dk.Helgoland" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:heg - 1sw, :heg + 1sw]
        );
        marker(:right :de.bbf :cat:ac25, kh[:heg] >> 0.5dt);
        slabel(:right :cat:ac25, kh[:heg - 0.5sw] >> 0.5dt >> 1.2sh,
            "Helgoland"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:heg + 1sw, :hel - 1sw]);
    }

    with link = "point.dk.Hellerup" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:hel - 1sw, :hel + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:hel] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:hel - 0.55sw] >> 0.5dt >> 1.3sh,
            span(:bold, "Hellerup")
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:hel + 1sw, :kla - 1sw]);
    }

    with link = "point.dk.Klampenborg" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:kla - 1sw, :kla + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:kla] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:kla - 0.4sw] >> 0.5dt >> 1.3sh,
            span(:bold, "Klampenborg")
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:kla + 1sw, :sko - 1sw]);
        line_label(:right:w :cat:ac25 :pax, kh[:kla + 2.3km] >> 0.5dt, "KH");
    }

    with link = "point.dk.Skodsborg" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:sko - 1sw, :sko + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:sko] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:sko - 0.6sw] >> 0.5dt >> 1.3sh,
            "Skodsborg"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:sko + 1sw, :ved - 1sw]);
    }

    with link = "point.dk.Vedbæk" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:ved - 1sw, :ved + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, kh[:ved] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:ved - 0.3sw] >> 0.5dt >> 1.3sh,
            "Vedbæk"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:ved + 1sw, :run - 1sw]);
    }

    with link = "point.dk.Rungsted-Kyst" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:run - 1sw, :run + 1sw]
        );
        marker(:left :de.bf :cat:ac25 :pax, kh[:run] << 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:run - 0.4sw] >> 1.5dt,
            "Rungsted Kyst"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:run + 1sw, :kok - 1sw]);
    }

    with link = "point.dk.Kokkedal" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:kok - 1sw, :kok + 1sw]
        );
        marker(:left :de.hp :cat:ac25 :pax, kh[:kok] << 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:kok - 0.5sw] >> 1.5dt,
            "Kokkedal"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:kok + 1sw, :niv - 1sw]);
    }

    with link = "point.dk.Nivå" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:niv - 1sw, :niv + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:niv] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:niv - 0.5sw] >> 0.5dt >> 1.6sh,
            "Nivå"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:niv + 1sw, :hum - 1sw]);
        line_badge(:cat:ac25 :pax, kh[:niv + 2.0km], "KH");
    }

    with link = "point.dk.Humlebæk" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:hum - 1sw, :hum + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, kh[:hum] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:hum - 0.4sw] >> 0.5dt >> 1.7sh,
            "Humlebæk"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:hum + 1sw, :esp - 1sw]);
    }

    with link = "point.dk.Espergærde" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:esp - 1sw, :esp + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, kh[:esp] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:esp - 0.6sw] >> 0.5dt >> 1.5sh,
            "Espergærde"
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:esp + 1sw, :sne - 1sw]);
    }

    with link = "point.dk.Snekkersten" {
        track(:first:station :pax,
                kh[:sne - 1sw, :sne + 0.5sw] << 1.5dt
            --  kh[:sne + 0.5sw + 1dl, :sne + 0.5sw + 1.1dl] << 0.5dt
        );
        track(:first:station :double :cat:ac25 :pax,
                kh[:sne - 1sw, :sne + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, kh[:sne] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:sne + 1.3sw] >> 0.7dt,
            hbox(:left:top :bold, "Snekkersten")
        );
    }

    with link = "line.dk.KH" {
        track(:first :double :cat:ac25 :pax, kh[:sne + 1sw, :hor - 1sw]);
        line_label(:right:w :cat:ac25 :pax, kh[:sne + 1.8km] >> 0.5dt, "KH");
    }

    with link = "point.dk.Helsingør" {
        track(:first:station :double :cat:ac25 :pax,
                kh[:hor - 1sw, :hor]
        );
        marker(:left :de.bf :cat:ac25 :pax, kh[:hor - 0.5sw] << 0.5dt);
        slabel(:right :cat:ac25 :pax, kh[:hor - 0.4sw] >> 0.5dt >> 1.5sh,
            span(:medium:bold, "Helsingør")
        );
    }
}

