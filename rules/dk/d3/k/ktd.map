# DK KTD.  Kagerup - Tisvildeleje
#
let kt = path("d3.dk.ktd");

with detail = 3,
     railway = :first :pax
{
    # point.dk.Kagerup  dk.HKG

    with link = "line.dk.KTD" {
        track(
                kt[:kag.yt - 0.1dl, :kag.yt] << 1mt << 1ms
            ..  kt[:kag.zt, :due - 0.5sw]
        );
    }

    with link = "point.dk.Duemose" {
        track(kt[:due - 0.5sw, :due + 0.5sw]);
        marker(:right :de.hp, kt[:due] >> 0.5mt);
        slabel(:right, kt[:due - 0.5sw] >> 0.5mt >> 1.2sh, "Duemose");
    }

    with link = "line.dk.KTD" {
        track(kt[:due + 0.5sw, :due + 1.2km]);
        line_label(:left:ne, kt[:due + 1.2km] << 0.5mt, "KTD");
        track(kt[:due + 1.2km, :hob - 0.5sw]);
    }

    with link = "point.dk.Høbjerg" {
        track(kt[:hob - 0.5sw, :hob + 0.5sw]);
        marker(:left :de.hp :removed, kt[:hob] << 0.5mt);
        slabel(:right :removed, kt[:hob - 0.5sw] >> 1.5mt, "Høbjerg*");
    }

    with link = "line.dk.KTD" {
        track(kt[:hob + 0.5sw, :hel - 0.5sw]);
    }

    with link = "point.dk.Helsinge" {
        track(kt[:hel - 0.5sw, :hel + 0.5sw]);
        marker(:left :de.bf, kt[:hel] << 0.5mt);
        slabel(:ne, kt[:hel] << 0.5mt << 1sh + (-0.5sh, -0.8dt), "Helsinge");
    }

    with link = "line.dk.KTD" {
        track(kt[:hel + 0.5sw, :tro - 0.5sw]);
    }

    with link = "point.dk.Troldebakkerne" {
        track(kt[:tro - 0.5sw, :tro + 0.5sw]);
        marker(:left :de.hp, kt[:tro] << 0.5mt);
        slabel(:left, kt[:tro] << 0.5mt << 1.6sh + (0dt, 0.8dt),
            "Troldebakkerne"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:tro + 0.5sw, :lau - 0.5sw]);
    }

    with link = "point.dk.Laugø" {
        track(kt[:lau - 0.5sw, :lau + 0.5sw]);
        marker(:right :de.hp :removed, kt[:lau] >> 0.5mt);
        slabel(:right :removed, kt[:lau] >> 0.5mt >> 1.5sh + (0dt, 1.2dt),
            "Laugø"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:lau + 0.5sw, :orb - 0.5sw]);
    }

    with link = "point.dk.Ørby" {
        track(kt[:orb - 0.5sw, :orb + 0.5sw]);
        marker(:right :de.hp, kt[:orb] >> 0.5mt);
        slabel(:right, kt[:orb] >> 0.5mt >> 1.7sh + (0dt, 1.3dt),
            "Ørby"
        );
    }

    with link = "line.dk.KTD" {
        track(kt[:orb + 0.5sw, :orb + 0.8km]);
        line_label(:left:ne, kt[:orb + 0.8km] << 0.5mt, "KTD");
        track(kt[:orb + 0.8km, :vej - 0.5sw]);
    }

    with link = "point.dk.Vejby" {
        track(kt[:vej - 0.5sw, :vej + 0.5sw]);
        marker(:right :de.hp, kt[:vej] >> 0.5mt);
        slabel(:top, kt[:vej] >> 0.5mt >> 1.2sh, "Vejby");
    }

    with link = "line.dk.KTD" {
        track(kt[:vej + 0.5sw, :hol - 0.5sw]);
    }

    with link = "point.dk.Holløse" {
        track(kt[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.hp, kt[:hol] >> 0.5mt);
        slabel(:top, kt[:hol] >> 0.5mt >> 1.1sh + (-1sw, 0dt), "Holløse");
    }

    with link = "line.dk.KTD" {
        track(kt[:hol + 0.5sw, :god - 0.5sw]);
    }

    with link = "point.dk.Godhavn" {
        track(kt[:god - 0.5sw, :god + 0.5sw]);
        marker(:left :de.hp, kt[:god] << 0.5mt);
        slabel(:bottom, kt[:god] << 0.5mt << 1.2sh, "Godhavn");
    }

    with link = "line.dk.KTD" {
        track(kt[:god + 0.5sw, :til - 0.5sw]);
    }

    with link = "point.dk.Tisvildeleje" {
        track(kt[:til - 0.5sw, :til + 0.5sw]);
        marker(:left :de.bf, kt[:til] << 0.5mt);
        slabel(:left :bold, kt[:til + 0.5sw] << 0.5mt << 0.8sh + (-1.2dt, 0dt),
            "Tisvildeleje"
        );
    }
}

