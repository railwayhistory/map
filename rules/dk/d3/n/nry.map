# DK NRY.  Nakskov - Rødby
#
let nr = path("d3.dk.nry");

with detail = 3,
     railway = :first :pax :removed
{
    # point.dk.Nakskov  dk.NNS

    with link = "point.dk.Nakskov", railway = :station {
        track(nr[:nak.yr, :nak.yr + 400m]);
    }

    with link = "line.dk.NRY" {
        track(nr[:nak.yr + 400m, :nak.yr + 3.5km]);
        line_label(:left:nw, nr[:nak.yr + 3.5km] << 0.5mt, "NRY");
        track(nr[:nak.yr + 3.5km, :ves - 0.5sw]);
    }

    with link = "point.dk.Vestenskov", railway = :station {
        track(nr[:ves - 0.5sw, :ves + 0.5sw]);
        marker(:left :de.bf, nr[:ves] << 0.5mt);
        slabel(:left, nr[:ves] >> 0.5mt + (-0.8dt, -0.3dt), "Vestenskov");
    }

    with link = "line.dk.NRY" {
        track(nr[:ves + 0.5sw, :hvi - 0.5sw]);
    }

    with link = "point.dk.Hvidstensmark", railway = :station {
        track(nr[:hvi - 0.5sw, :hvi + 0.5sw]);
        marker(:left :de.hp, nr[:hvi] << 0.5mt);
        slabel(:left, nr[:hvi] >> 0.5mt + (-1dt, 0dt), "Hvidstensmark");
    }

    with link = "line.dk.NRY" {
        track(nr[:hvi + 0.5sw, :kap - 0.5sw]);
    }

    with link = "point.dk.Kappel", railway = :station {
        track(nr[:kap - 0.5sw, :kap + 0.5sw]);
        marker(:right :de.bf, nr[:kap] >> 0.5mt);
        slabel(:left, nr[:kap] >> 0.5mt >> 1sh + (-1dt, 1dt), "Kappel");
    }

    with link = "line.dk.NRY" {
        track(nr[:kap + 0.5sw, :mun - 0.5sw]);
    }

    with link = "point.dk.Munkeby", railway = :station {
        track(nr[:mun - 0.5sw, :mun + 0.5sw]);
        marker(:left :de.bf, nr[:mun] << 0.5mt);
        slabel(:ne, nr[:mun - 0.5sw] >> 0.5mt, "Munkeby");
    }

    with link = "line.dk.NRY" {
        track(nr[:mun + 0.5sw, :son - 0.5sw]);
    }

    with link = "point.dk.Sønderstrand", railway = :station {
        track(nr[:son - 0.5sw, :son + 0.5sw]);
        marker(:right :de.hp, nr[:son] >> 0.5mt);
        slabel(:ne, nr[:son - 0.5sw] >> 0.5mt >> 1sh, "Sønderstrand");
    }

    with link = "line.dk.NRY" {
        track(nr[:son + 0.5sw, :rud - 0.5sw]);
    }

    with link = "point.dk.Rudbjerggård", railway = :station {
        track(nr[:rud - 0.5sw, :rud + 0.5sw]);
        marker(:left :de.hp, nr[:rud] << 0.5mt);
        slabel(:top, nr[:rud] << 0.5mt << 1sh + (0dt, -0.5dt),
            vbox(:center:bottom, "Rudbjerg-", "gård")
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:rud + 0.5sw, :til - 0.5sw]);
    }

    with link = "point.dk.Tillitse", railway = :station {
        track(nr[:til - 0.5sw, :til + 0.5sw]);
        marker(:left :de.bf, nr[:til] << 0.5mt);
        slabel(:bottom, nr[:til - 0.5sw] >> 0.5mt + (0dt, 0.5dt),
            "Tillitse"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:til + 0.5sw, :dan - 0.5sw]);
    }

    with link = "point.dk.Dannemare", railway = :station {
        track(nr[:dan - 0.5sw, :dan + 0.5sw]);
        marker(:left :de.bf, nr[:dan] << 0.5mt);
        slabel(:bottom, nr[:dan] >> 0.5mt + (-1dt, 0.1dt),
            "Dannemare"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:dan + 0.5sw, :gra - 0.5sw]);
    }

    with link = "point.dk.Græshave", railway = :station {
        track(nr[:gra - 0.5sw, :gra + 0.5sw]);
        marker(:left :de.hp, nr[:gra] << 0.5mt);
        slabel(:top, nr[:gra] << 0.5mt << 1sh,
            "Græshave"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:gra + 0.5sw, :glo - 0.5sw]);
    }

    with link = "point.dk.Gloslunde", railway = :station {
        track(nr[:glo - 0.5sw, :glo + 0.5sw]);
        marker(:right :de.bf, nr[:glo] >> 0.5mt);
        slabel(:bottom, nr[:glo] >> 0.5mt >> 1sh + (-1dt, 0.2dt),
            "Gloslunde"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:glo + 0.5sw, :bas - 0.5sw]);
    }

    with link = "point.dk.Bastegård", railway = :station {
        track(nr[:bas - 0.5sw, :bas + 0.5sw]);
        marker(:right :de.hp, nr[:bas] >> 0.5mt);
        slabel(:bottom, nr[:bas] >> 0.5mt >> 1sh + (1dt, 0dt),
            "Bastegård"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:bas + 0.5sw, :lan - 0.5sw]);
    }

    with link = "point.dk.Landet", railway = :station {
        track(nr[:lan - 0.5sw, :lan + 0.5sw]);
        marker(:left :de.bf, nr[:lan] << 0.5mt);
        slabel(:top, nr[:lan] << 0.5mt << 1sh + (0dt, -0.1dt),
            "Landet"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:lan + 0.5sw, :ask - 0.5sw]);
    }

    with link = "point.dk.Askhøj", railway = :station {
        track(nr[:ask - 0.5sw, :ask + 0.5sw]);
        marker(:right :de.bf, nr[:ask] >> 0.5mt);
        slabel(:left, nr[:ask] >> 0.5mt >> 1sh + (-1.3dt, 2dt),
            "Askhøj"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:ask + 0.5sw, :vti - 0.5sw]);
    }

    with link = "point.dk.Vester-Tirsted", railway = :station {
        track(nr[:vti - 0.5sw, :vti + 0.5sw]);
        marker(:left :de.bf, nr[:vti] << 0.5mt);
        slabel(:right, nr[:vti] << 0.5mt << 1sh + (1.3dt, 0.5dt),
            "Vester Tirsted"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:vti + 0.5sw, :buk - 0.5sw]);
    }

    with link = "point.dk.Bukkehave", railway = :station {
        track(nr[:buk - 0.5sw, :buk + 0.5sw]);
        marker(:left :de.hst, nr[:buk] << 0.5mt);
        slabel(:right, nr[:buk] << 0.5mt << 1sh + (1.3dt, 0.8dt),
            "Bukkehave"
        );
    }

    with link = "line.dk.NRY" {
        track(nr[:buk + 0.5sw, :buk + 1.2km]);
        line_label(:right:e, nr[:buk + 1.2km] >> 0.5mt, (0dt, 0.1dt), "NRY");
        track(nr[:buk + 1.2km, :rod.yn]);
    }

    # point.dk.Rødby  dk.MRH
}

