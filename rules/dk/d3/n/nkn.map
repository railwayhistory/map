# DK NKN.  Nakskov - Kragenæs
#
let nk = path("d3.dk.nkn");

with detail = 3,
     railway = :first :pax :removed
{
    # point.dk.Nakskov  dk.NNS

    with link = "line.dk.NKN" {
        track(nk[:nak + 0.5sw, :nak + 2.7km]);
        line_label(:left:ne, nk[:nak + 2.7km] << 0.5mt, "NKN");
        track(nk[:nak + 2.7km, :har - 0.5sw]);
    }

    with link = "point.dk.Harpelunde", railway = :station {
        track(nk[:har - 0.5sw, :har + 0.5sw]);
        marker(:left :de.bf, nk[:har] << 0.5mt);
        slabel(:left, nk[:har] << 0.5mt << 1sh + (-1.3dt, 1.2dt),
            "Harpelunde"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:har + 0.5sw, :tjo - 0.5sw]);
    }

    with link = "point.dk.Tjørnevang", railway = :station {
        track(nk[:tjo - 0.5sw, :tjo + 0.5sw]);
        marker(:right :de.hp, nk[:tjo] >> 0.5mt);
        slabel(:right, nk[:tjo] >> 0.5mt >> 1sh + (1.3dt, 1.2dt),
            "Tjørnevang"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:tjo + 0.5sw, :kob - 0.5sw]);
    }

    with link = "point.dk.Købelev", railway = :station {
        track(nk[:kob - 0.5sw, :kob + 0.5sw]);
        marker(:left :de.bf, nk[:kob] << 0.5mt);
        slabel(:left, nk[:kob] << 0.5mt << 1sh + (-1.2dt, 0.8dt),
            "Købelev"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:kob + 0.5sw, :ons - 0.5sw]);
    }

    with link = "point.dk.Onsevig", railway = :station {
        track(nk[:ons - 0.5sw, :ons + 0.5sw]);
        marker(:left :de.bf, nk[:ons] << 0.5mt);
        slabel(:top, nk[:ons] << 0.5mt << 1sh + (-0.5dt, -0.3dt),
            "Onsevig"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:ons + 0.5sw, :kas - 0.5sw]);
    }

    with link = "point.dk.Kastager", railway = :station {
        track(nk[:kas - 0.5sw, :kas + 0.5sw]);
        marker(:left :de.bf, nk[:kas] << 0.5mt);
        slabel(:top, nk[:kas] << 0.5mt << 1sh + (0dt, -0.2dt),
            "Kastager"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:kas + 0.5sw, :hor - 0.5sw]);
    }

    with link = "point.dk.Horslunde", railway = :station {
        track(nk[:hor - 0.5sw, :hor + 0.5sw]);
        marker(:right :de.bf, nk[:hor] >> 0.5mt);
        slabel(:bottom, nk[:hor] >> 0.5mt >> 1sh + (-3dt, 0.2dt),
            "Horslunde"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:hor + 0.5sw, :ors - 0.5sw]);
    }

    with link = "point.dk.Ørsløkkevej", railway = :station {
        track(nk[:ors - 0.5sw, :ors + 0.5sw]);
        marker(:right :de.hp, nk[:ors] >> 0.5mt);
        slabel(:bottom, nk[:ors] >> 0.5mt >> 1sh + (4dt, 0.2dt),
            "Ørsløkkevej"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:ors + 0.5sw, :svi - 0.5sw]);
    }

    with link = "point.dk.Svinsbjerg", railway = :station {
        track(nk[:svi - 0.5sw, :svi + 0.5sw]);
        marker(:left :de.bf, nk[:svi] << 0.5mt);
        slabel(:top, nk[:svi] << 0.5mt << 1sh + (-0.5dt, -0.5dt),
            "Svinsbjerg"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:svi + 0.5sw, :egh - 0.5sw]);
    }

    with link = "point.dk.Egholm", railway = :station {
        track(nk[:egh - 0.5sw, :egh + 0.5sw]);
        marker(:left :de.hp, nk[:egh] << 0.5mt);
        slabel(:top, nk[:egh] << 0.5mt << 1sh + (1dt, -0.5dt),
            "Egholm"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:egh + 0.5sw, :egh + 0.5km]);
        line_label(:right:n, nk[:egh + 0.5km] >> 0.5mt, (-0.4dt, 0dt), "NKN");
        track(nk[:egh + 0.5km, :tor - 0.5sw]);
    }

    with link = "point.dk.Torrig", railway = :station {
        track(nk[:tor - 0.5sw, :tor.ym + 200m]);
        marker(:right :de.bf, nk[:tor] >> 0.5mt);
        slabel(:bottom :bold, nk[:tor] >> 0.5mt >> 1sh + (-2dt, 0.5dt),
            "Torrig"
        );
    }

    with link = "line.dk.NKN" {
        track(nk[:tor.ym + 200m, :tor.ym + 1km]);
        line_label(:left:se, nk[:tor.ym + 1km] << 0.5mt, "NKN");
        track(nk[:tor.ym + 1km, :kra - 0.5sw]);
    }

    with link = "point.dk.Kragenæs", railway = :station {
        track(nk[:kra - 0.5sw, :kra + 0.6sw]);
        marker(:right :de.bf, nk[:kra] >> 0.5mt);
        slabel(:top :bold, nk[:kra] << 0.5mt + (1dt, -0.8dt),
            "Kragenæs"
        );
    }
}

