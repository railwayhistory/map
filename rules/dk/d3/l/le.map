# DK LE.  Lunderskov - Esbjerg
#
let le = path("d4.dk.le");

with detail = 3 {
    # point.dk.Lunderskov: dk.FP

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:lun.ye + 1sw, :and - 1sw]);
    }

    with link = "point.dk.Andst" {
        track(:first:station :double :cat:ac25 :pax,
                le[:and - 1sw, :and + 1sw]
        );
        marker(:right :de.bf :removed, le[:and] >> 0.5dt);
        slabel(:top :removed, le[:and] >> 0.5dt >> 1.1sh, "Andst");
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:and + 1sw, :vej - 1sw]);
        line_badge(:cat:ac25 :pax, le[:and + 2.5km] @ 1, "LE");
    }

    with link = "point.dk.Vejen" {
        track(:first:station :double :cat:ac25 :pax,
                le[:vej - 1sw, :vej + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, le[:vej] >> 0.5dt);
        slabel(:right :cat:ac25 :pax, le[:vej - 0.3sw] >> 0.5dt >> 1.2sh,
            "Vejen"
        );
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:vej + 1sw, :bro - 1sw]);
    }

    with link = "point.dk.Brørup" {
        track(:first:station :double :cat:ac25 :pax,
                le[:bro - 1sw, :bro + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, le[:bro] >> 0.5dt);
        slabel(:top :cat:ac25 :pax, le[:bro] >> 0.5dt >> 1.1sh, "Brørup");
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:bro + 1sw, :hol - 1sw]);
    }

    with link = "point.dk.Holsted" {
        track(:first:station :double :cat:ac25 :pax,
                le[:hol - 1sw, :hol + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, le[:hol] >> 0.5dt);
        slabel(:top :cat:ac25 :pax, le[:hol] >> 0.5dt >> 1.1sh, "Holsted");
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:hol + 1sw, :gor - 1sw]);
        line_badge(:cat:ac25 :pax, le[:hol + 4km], "LE");
    }

    with link = "point.dk.Gørding" {
        track(:first:station :double :cat:ac25 :pax,
                le[:gor - 1sw, :gor + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, le[:gor] >> 0.5dt);
        slabel(:top :cat:ac25 :pax, le[:gor] >> 0.5dt >> 1.1sh, "Gørding");
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:gor + 1sw, :bra - 1sw]);
    }

    with link = "point.dk.Bramming" {
        track(:first:station :double :cat:ac25 :pax,
                le[:bra - 1sw, :bra + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, le[:bra] >> 0.5dt);
        slabel(:top :cat:ac25 :pax, le[:bra] >> 0.5dt >> 1.1sh,
            span(:bold, "Bramming")
        );
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:bra + 1sw, :tja - 1sw]);
    }

    with link = "point.dk.Tjæreborg" {
        track(:first:station :double :cat:ac25 :pax,
                le[:tja - 1sw, :tja + 1sw]
        );
        marker(:left :de.bf :cat:ac25 :pax, le[:tja] << 0.5dt);
        slabel(:bottom :cat:ac25 :pax, le[:tja] << 0.5dt << 1.2sh,
            "Tjæreborg"
        );
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:tja + 1sw, :jer - 1sw]);
        line_badge(:cat:ac25 :pax, le[:jer - 3km], "LE");
    }

    with link = "point.dk.Jerne" {
        track(:first:station :double :cat:ac25 :pax,
                le[:jer - 1sw, :jer + 1sw]
        );
        marker(:right :de.hp :cat:ac25 :pax, le[:jer] >> 0.5dt);
        slabel(:top :cat:ac25 :pax, le[:jer - 0.3sw] >> 0.5dt >> 1.15sh,
            "Jerne"
        );
    }

    with link = "line.dk.LE" {
        track(:first :double :cat:ac25 :pax, le[:jer + 1sw, :esb - 1sw]);
    }

    with link = "point.dk.Esbjerg" {
        track(:first:station :double :cat:ac25 :pax,
                le[:esb - 1sw, :esb + 1sw]
        );
        marker(:right :de.bf :cat:ac25 :pax, le[:esb] >> 0.5dt);
        slabel(:right:cat:ac25 :pax, le[:esb] + (2.0dt, 2.3dt),
            span(:bold, "Esbjerg")
        );
    }
}

