# DK VLH.  København Syd - Hellerup
#
let vh = path("d3.dk.vlh");

with detail = 3,
     railway = :first :double :cat:dc15 :pax
{
    with link = "line.dk.VLH" {
        track(:lor, vh[:nel + 0.5sw, :via - 0.5sw] >> 1ms >> 1md);
    }

    with link = "point.dk.Vigerslev-Allé", railway = :station {
        track(vh[:via - 0.5sw, :via + 0.5sw] >> 1ms >> 1md);
        marker(:right :de.hp :casing, vh[:via] >> 1ms >> 1.5md);
    }

    with link = "line.dk.VLH" {
        track(:casing,
                vh[:via + 0.49sw, :via + 0.5sw] >> 1ms >> 1md
            ..  vh[:dan + 1md, :dan + 1.1md]
        );
    }

    with link = "point.dk.Danshøj", railway = :station {
        track(:casing, vh[:dan + 1md, :dan + 1md + 1sw]);
        marker(:left :de.hp, vh[:dan + 1md + 0.5sw] << 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:dan + 1md + 1sw, :alh - 0.5sw]);
    }

    with link = "point.dk.Ålholm", railway = :station {
        track(vh[:alh - 0.5sw, :alh + 0.5sw]);
        marker(:right :de.hp, vh[:alh] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:alh + 0.5sw, :kbh - 0.5sw]);
    }

    with link = "point.dk.KB-Hallen", railway = :station {
        track(vh[:kbh - 0.5sw, :kbh + 0.5sw]);
        marker(:right :de.hp, vh[:kbh] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(:casing, vh[:kbh + 0.5sw, :fli - 0.5sw]);
    }

    with link = "point.dk.Flintholm", railway = :station {
        track(:casing, vh[:fli - 0.5sw, :fli + 0.5sw]);
        marker(:right :de.bf, vh[:fli] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:fli + 0.5sw, :gro - 0.5sw]);
    }

    with link = "point.dk.Grøndal", railway = :station {
        track(vh[:gro - 0.5sw, :gro + 0.5sw]);
        marker(:right :de.hp, vh[:gro] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:gro + 0.5sw, :fug - 0.5sw]);
    }

    with link = "point.dk.Fuglebakken", railway = :station {
        track(vh[:fug - 0.5sw, :fug + 0.5sw]);
        marker(:right :de.hp, vh[:fug] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:fug + 0.5sw, :nor - 0.5sw]);
    }

    with link = "point.dk.Nørrebro", railway = :station {
        track(vh[:nor - 0.5sw, :nor + 0.5sw]);
        marker(:right :de.hp, vh[:nor] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:nor + 0.5sw, :bis - 0.5sw]);
    }

    with link = "point.dk.Bispebjerg", railway = :station {
        track(vh[:bis - 0.5sw, :bis + 1sw]);
        marker(:right :de.hp, vh[:bis] >> 0.5md);
    }

    with link = "point.dk.Lersøen", railway = :station {
        track(vh[:bis + 1sw, :bis + 2sw]);
        marker(:right :de.bbf :nopax, vh[:bis + 1.5sw] >> 0.5md);
    }

    with link = "line.dk.VLH" {
        with layer = -1 track(:ror, vh[:bis + 2sw, :ryp.yf]);
    }

    with link = "point.dk.Ryparken", railway = :station {
        track(vh[:ryp.yf, :ryp + 0.5sw]);
        marker(:left :de.hp, vh[:ryp] << 0.5md);
    }

    with link = "line.dk.VLH" {
        track(vh[:ryp + 0.5sw, :hel.xv - 1.5md]);
        track(:ror:lor :casing,
                vh[:hel.xv - 1.51md, :hel.xv - 1.5md]
            ..  vh[:hel.yv, :hel - 0.5sw] << 1.5ms << 1mt << 0.5md
        );
    }
}

