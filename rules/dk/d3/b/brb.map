# DK BRB.  Brenderup - Bogense
#
let bb = path("d3.dk.brb");

with detail = 3,
     railway = :first :pax :removed
{
    # point.dk.Brenderup  dk.OMF

    with link = "line.dk.BRB" {
        track(:ror,
                bb[:bre.yb, :bre.xb] << 1ms << 1mt
            ..  bb[:bre.zb + 5mt, :bre.zb + 5.1mt]
        );
        track(bb[:bre.zb + 5mt, :hol - 0.49sw]);
    }

    with link = "point.dk.Holse", railway = :station {
        track(bb[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.bf, bb[:hol] >> 0.5mt);
        slabel(:left, bb[:hol] << 0.5mt + (-1.5dt, 0.5dt), "Holse");
    }

    with link = "line.dk.BRB" {
        track(bb[:hol + 0.49sw, :mej - 0.49sw]);
    }

    with link = "point.dk.Mejlskov", railway = :station {
        track(bb[:mej - 0.5sw, :mej + 0.5sw]);
        marker(:left :de.bf, bb[:mej] << 0.5mt);
        slabel(:top, bb[:mej] << 0.5mt << 1sh + (-1.5dt, -0.4dt), "Mejlskov");
    }

    with link = "line.dk.BRB" {
        track(bb[:mej + 0.49sw, :mej + 1.3km]);
        line_label(:right:n, bb[:mej + 1.3km] >> 0.5mt, (0.5dt, 0dt), "BRB");
        track(bb[:mej + 1.3km, :esk - 0.49sw]);
    }

    with link = "point.dk.Eskelund", railway = :station {
        track(bb[:esk - 0.5sw, :esk + 0.5sw]);
        marker(:left :de.hp, bb[:esk] << 0.5mt);
        slabel(:top, bb[:esk] << 0.5mt << 1sh + (-4dt, -0.4dt), "Eskelund");
    }

    with link = "line.dk.BRB" {
        track(bb[:esk + 0.49sw, :kas - 0.49sw]);
    }

    with link = "point.dk.Kassemose", railway = :station {
        track(bb[:kas - 0.5sw, :kas + 0.5sw]);
        marker(:right :de.bf, bb[:kas] >> 0.5mt);
        slabel(:right, bb[:kas] >> 0.5mt >> 1sh + (1.2dt, 1.5dt),
            "Kassemose"
        );
    }

    with link = "line.dk.BRB" {
        track(bb[:kas + 0.49sw, :tof - 0.49sw]);
    }

    with link = "point.dk.Tofte", railway = :station {
        track(bb[:tof - 0.5sw, :tof + 0.5sw]);
        marker(:left :de.hp, bb[:tof] << 0.5mt);
        slabel(:left, bb[:tof] << 0.5mt << 1sh + (-1dt, 0.9dt),
            "Tofte"
        );
    }

    with link = "line.dk.BRB" {
        track(bb[:tof + 0.49sw, :bog.xb - 2mt]);
        track(:ror,
                bb[:bog.xb - 2.1mt, :bog.xb - 2mt]
            ..  bb[:bog.yb, :bog.yb + 0.1dl] << 1mt << 1ms
        );
    }
}

