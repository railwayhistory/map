# DK HNS.  Holbæk - Nykøbing Sjælland
#
let hn = path("d3.dk.hns");

with detail = 3,
     railway = :first :pax
{
    # point.dk.Holbæk  dk.RKB

    with link = "line.dk.HNS" {
        track(:lor,
                hn[:hol + 0.49sw, :hol + 0.5sw] >> 0.5md << 0.5mt
            ..  hn[:hol.xf, :hol.xf + 0.1dl] >> 1ms >> 1mt
        );
        track(:lor, hn[:hol.xf, :ste - 0.5sw] >> 1ms >> 1mt);
    }

    with link = "point.dk.Stenhus", railway = :station {
        track(hn[:ste - 0.5sw, :ste + 0.5sw] >> 1ms >> 1mt);
        marker(:right :de.hp :casing,
            hn[:ste] >> 1ms >> 1.5mt, hn[:ste] >> 0.5mt
        );
        slabel(:top, hn[:ste] >> 1ms >> 1.5mt >> 1.2sh, "Stenhus");
    }

    with link = "line.dk.HNS" {
        track(:lor, hn[:ste + 0.5sw, :hol.yn] >> 1ms >> 1mt);
        track(:lor, hn[:hol.yn, :all - 0.5sw] >> 1ms >> 1mt);
    }

    with link = "point.dk.Allerup", railway = :station {
        track(hn[:all - 0.5sw, :all + 0.5sw] >> 1ms >> 1mt);
        marker(:right :de.hp :removed, hn[:all] >> 1ms >> 1.5mt);
        slabel(:nw :removed, hn[:all] + (0dt, 0.2km) + (0dt, 0.2dt), "Allerup");
    }

    with link = "line.dk.HNS" {
        track(
                hn[:all + 0.49sw, :all + 0.5sw] >> 1ms >> 1mt
            ..  hn[:hol.zn + 3mt, :mar - 0.7km]
        );
        line_label(:left:ne, hn[:mar - 0.7km] << 0.5mt, "HNS");
        track(hn[:mar - 0.7km, :mar - 0.5sw]);
    }

    with link = "point.dk.Mårsø", railway = :station {
        track(hn[:mar - 0.5sw, :mar + 0.5sw]);
        marker(:right :de.bbf :nopax, hn[:mar] >> 0.5mt);
        marker(:right :de.exbf :nopax, hn[:mar] >> 0.5mt);
        slabel(:right :nopax, hn[:mar - 0.5sw] >> 0.5mt >> 1.7sh, "Mårsø");
    }

    with link = "line.dk.HNS" {
        track(hn[:mar + 0.5sw, :nha - 0.5sw]);
    }

    with link = "point.dk.Ny-Hagested", railway = :station {
        track(hn[:nha - 0.5sw, :nha + 0.5sw]);
        marker(:right :de.hp, hn[:nha] >> 0.5mt);
        slabel(:top, hn[:nha] >> 0.5mt >> 1.2sh, "Ny Hagested");
    }

    with link = "line.dk.HNS" {
        track(hn[:nha + 0.5sw, :gis - 0.5sw]);
    }

    with link = "point.dk.Gislinge", railway = :station {
        track(hn[:gis - 0.5sw, :gis + 0.5sw]);
        marker(:right :de.bf, hn[:gis] >> 0.5mt);
        slabel(:top, hn[:gis] >> 0.5mt >> 1.1sh, "Gislinge");
    }

    with link = "line.dk.HNS" {
        track(hn[:gis + 0.5sw, :san - 0.5sw]);
    }

    with link = "point.dk.Sandby", railway = :station {
        track(hn[:san - 0.5sw, :san + 0.5sw]);
        marker(:right :de.hst :removed, hn[:san] >> 0.5mt);
        slabel(:top :removed, hn[:san] >> 0.5mt >> 1.05sh, "Sandby");
    }

    with link = "line.dk.HNS" {
        track(hn[:san + 0.5sw, :svi - 0.5sw]);
    }

    with link = "point.dk.Svinninge", railway = :station {
        track(hn[:svi - 0.5sw, :svi + 0.5sw]);
        marker(:left :de.bf, hn[:svi] << 0.5mt);
        slabel(:bottom, hn[:svi] << 0.5mt << 1.1sh, "Svinninge");
    }

    with link = "line.dk.HNS" {
        track(hn[:svi + 0.5sw, :svi + 1.3km]);
        line_label(:left:e, hn[:svi + 1.3km] << 0.5mt, "HNS");
        track(hn[:svi + 1.3km, :hor - 0.5sw]);
    }

    with link = "point.dk.Hørve", railway = :station {
        track(hn[:hor - 0.5sw, :hor + 0.5sw]);
        marker(:left :de.bf, hn[:hor] << 0.5mt);
        slabel(:right :bold, hn[:hor] >> 2mt + (0dt, 1dt), "Hørve");
    }

    with link = "line.dk.HNS" {
        track(hn[:hor + 0.5sw, :hor + 2km]);
        line_label(:right:w, hn[:hor + 2km] >> 0.5mt, "HNS");
        track(hn[:hor + 2km, :far - 0.5sw]);
    }

    with link = "point.dk.Fårevejle", railway = :station {
        track(hn[:far - 0.5sw, :far + 0.5sw]);
        marker(:left :de.bf, hn[:far] << 0.5mt);
        slabel(:left, hn[:far] << 0.5mt << 1.5sh + (0dt, 1dt), "Fårevejle");
    }

    with link = "line.dk.HNS" {
        track(hn[:far + 0.5sw, :asn - 0.5sw]);
    }

    with link = "point.dk.Asnæs", railway = :station {
        track(hn[:asn - 0.5sw, :asn + 0.5sw]);
        marker(:left :de.bf, hn[:asn] << 0.5mt);
        slabel(:top, hn[:asn] << 0.5mt << 1.1sh, "Asnæs");
    }

    with link = "line.dk.HNS" {
        track(hn[:asn + 0.5sw, :gre - 0.5sw]);
    }

    with link = "point.dk.Grevinge", railway = :station {
        track(hn[:gre - 0.5sw, :gre + 0.5sw]);
        marker(:right :de.bf, hn[:gre] >> 0.5mt);
        slabel(:right, hn[:gre] >> 0.5mt >> 1.6sh + (0dt, 1.2dt), "Grevinge");
    }

    with link = "line.dk.HNS" {
        track(hn[:gre + 0.5sw, :kel - 0.5sw]);
    }

    with link = "point.dk.Kelstrup", railway = :station {
        track(hn[:kel - 0.5sw, :kel + 0.5sw]);
        marker(:right :de.hst :removed, hn[:kel] >> 0.5mt);
        slabel(:right :removed, hn[:kel] >> 0.5mt >> 1.6sh + (0dt, 0.6dt),
            "Kelstrup"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:kel + 0.5sw, :kel + 1.3km]);
        line_label(:left:se, hn[:kel + 1.3km] << 0.5mt, "HNS");
        track(hn[:kel + 1.3km, :vig - 0.5sw]);
    }

    with link = "point.dk.Vig", railway = :station {
        track(hn[:vig - 0.5sw, :vig + 0.5sw]);
        marker(:left :de.bf, hn[:vig] << 0.5mt);
        slabel(:left, hn[:vig] << 0.5mt << 1.5sh + (0dt, 1dt), "Vig");
    }

    with link = "line.dk.HNS" {
        track(hn[:vig + 0.5sw, :kol - 0.5sw]);
    }

    with link = "point.dk.Kollekolle", railway = :station {
        track(hn[:kol - 0.5sw, :kol + 0.5sw]);
        marker(:right :de.hst :removed, hn[:kol] >> 0.5mt);
        slabel(:left :removed, hn[:kol] << 2mt + (0dt, 1dt),
            "Kollekolle"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:kol + 0.5sw, :nas - 0.5sw]);
    }

    with link = "point.dk.Nørre-Asmindrup", railway = :station {
        track(hn[:nas - 0.5sw, :nas + 0.5sw]);
        marker(:left :de.bf, hn[:nas] << 0.5mt);
        slabel(:left, hn[:nas] << 0.5mt << 1.5sh + (0dt, 1dt),
            "Nørre Asmindrup"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:nas + 0.5sw, :som - 0.5sw]);
    }

    with link = "point.dk.Sommerland-Sjælland", railway = :station {
        track(hn[:som - 0.5sw, :som + 0.5sw]);
        marker(:right :de.hp, hn[:som] >> 0.5mt);
        slabel(:right, hn[:som] >> 0.5mt >> 1.5sh + (0dt, 1dt),
            "Sommerland Sjælland"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:som + 0.5sw, :hoj - 0.5sw]);
    }

    with link = "point.dk.Højby-Sjælland", railway = :station {
        track(hn[:hoj - 0.5sw, :hoj + 0.5sw]);
        marker(:left :de.bf, hn[:hoj] << 0.5mt);
        slabel(:left, hn[:hoj] << 0.5mt << 1.5sh + (0dt, 1dt),
            "Højby Sjælland"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:hoj + 0.5sw, :hoj + 1.5km]);
        line_label(:left:se, hn[:hoj + 1.5km] << 0.5mt, "HNS");
        track(hn[:hoj + 1.5km, :nyl - 0.5sw]);
    }

    with link = "point.dk.Nyled", railway = :station {
        track(hn[:nyl - 0.5sw, :nyl + 0.5sw]);
        marker(:left :de.hp, hn[:nyl] << 0.5mt);
        slabel(:top, hn[:nyl] << 0.5mt << 1.2sh,
            "Nyled"
        );
    }

    with link = "line.dk.HNS" {
        track(hn[:nyl + 0.5sw, :nyk - 0.5sw]);
    }

    with link = "point.dk.Nykøbing-Sjælland", railway = :station {
        track(hn[:nyk - 0.5sw, :nyk.f]);
        marker(:left :de.bf, hn[:nyk] << 0.5mt);
        slabel(:right :bold, hn[:nyk] + (2dt, 1.8dt),
            "Nykøbing Sjælland"
        );
    }
}

