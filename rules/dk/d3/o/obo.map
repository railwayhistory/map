# DK OBO.  Odense - Bogense
#
let ob = path("d3.dk.obo");

with detail = 3,
     railway = :first :pax :removed
{
    # point.dk.Odense  dk.KFA
 
    with link = "line.dk.OBO" {
        track(:lor,
                ob[:ode.yb - 1.1mt, :ode.yb - 1mt] >> 0.5md >> 3ms >> 2.5mt
            ..  ob[:sna - 0.5sw, :sna - 0.49sw]
        );
    }

    with link = "point.dk.Snapind", railway = :station {
        track(ob[:sna - 0.5sw, :sna + 0.5sw]);
        marker(:left :de.hst, ob[:sna] << 0.5mt);
        slabel(:ne, ob[:ode.ym] + (-1.5dt, -1dt), "Snapind");
    }

    with link = "line.dk.OBO" {
        track(ob[:sna + 0.49sw, :nas - 0.49sw]);
    }

    with link = "point.dk.Næsby", railway = :station {
        track(ob[:nas - 0.5sw, :nas + 0.5sw]);
        marker(:right :de.hp, ob[:nas] >> 0.5mt);
        marker(:right :de.exbf, ob[:nas] >> 0.5mt);
        slabel(:left, ob[:nas] << 0.5mt + (-1.5dt, 0.8dt), "Næsby");
    }

    with link = "line.dk.OBO" {
        track(ob[:nas + 0.49sw, :nas + 0.9km]);
        line_label(:right:w, ob[:nas + 0.9km] >> 0.5mt, "OBO");
        track(ob[:nas + 0.9km, :soh - 0.49sw]);
    }

    with link = "point.dk.Søhus", railway = :station {
        track(ob[:soh - 0.5sw, :soh + 0.5sw]);
        marker(:left :de.bf, ob[:soh] << 0.5mt);
        slabel(:left, ob[:soh] << 0.5mt << 1sh + (-1.2dt, 1dt), "Søhus");
    }

    with link = "line.dk.OBO" {
        track(ob[:soh + 0.49sw, :lum - 0.49sw]);
    }

    with link = "point.dk.Lumby", railway = :station {
        track(ob[:lum - 0.5sw, :lum + 0.5sw]);
        marker(:right :de.hp, ob[:lum] >> 0.5mt);
        slabel(:right, ob[:lum] >> 0.5mt >> 1sh + (1dt, 0.9dt), "Lumby");
    }

    with link = "line.dk.OBO" {
        track(ob[:lum + 0.49sw, :bel - 0.49sw]);
    }

    with link = "point.dk.Beldringe", railway = :station {
        track(ob[:bel - 0.5sw, :bel + 0.5sw]);
        marker(:right :de.bf, ob[:bel] >> 0.5mt);
        slabel(:right, ob[:bel] >> 0.5mt >> 1sh + (1.3dt, 1.1dt), "Beldringe");
    }

    with link = "line.dk.OBO" {
        track(ob[:bel + 0.49sw, :lun - 0.49sw]);
    }

    with link = "point.dk.Lunde", railway = :station {
        track(ob[:lun - 0.5sw, :lun + 0.5sw]);
        marker(:left :de.bf, ob[:lun] << 0.5mt);
        slabel(:left, ob[:lun] << 0.5mt << 1sh + (-1.4dt, 0.5dt), "Lunde");
    }

    with link = "line.dk.OBO" {
        track(ob[:lun + 0.49sw, :ott - 0.49sw]);
    }

    with link = "point.dk.Otterup", railway = :station {
        track(ob[:ott - 0.5sw, :ott + 0.5sw]);
        marker(:right :de.bf, ob[:ott] >> 0.5mt);
        slabel(:right, ob[:ott] >> 0.5mt >> 1sh + (1.2dt, 0.9dt), "Otterup");
    }

    with link = "line.dk.OBO" {
        track(ob[:ott + 0.49sw, :bra - 0.49sw]);
    }

    with link = "point.dk.Brandsby", railway = :station {
        track(ob[:bra - 0.5sw, :bra + 0.5sw]);
        marker(:right :de.hp, ob[:bra] >> 0.5mt);
        slabel(:right, ob[:bra] >> 0.5mt >> 1sh + (1.4dt, 0.5dt), "Brandsby");
    }

    with link = "line.dk.OBO" {
        track(ob[:bra + 0.49sw, :kap - 0.49sw]);
    }

    with link = "point.dk.Kappendrup", railway = :station {
        track(ob[:kap - 0.5sw, :kap + 0.5sw]);
        marker(:right :de.bf, ob[:kap] >> 0.5mt);
        slabel(:top, ob[:kap] >> 0.5mt >> 1sh + (0dt, -0.3dt),
            "Kappendrup"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:kap + 0.49sw, :kap + 1.3km]);
        line_label(:left:n, ob[:kap + 1.3km] << 0.5mt, "OBO");
        track(ob[:kap + 1.3km, :ugg - 0.49sw]);
    }

    with link = "point.dk.Uggerslev", railway = :station {
        track(ob[:ugg - 0.5sw, :ugg + 0.5sw]);
        marker(:right :de.bf, ob[:ugg] >> 0.5mt);
        slabel(:top, ob[:ugg] >> 0.5mt >> 1sh + (-2dt, -0.3dt),
            "Uggerslev"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:ugg + 0.49sw, :ska - 0.49sw]);
    }

    with link = "point.dk.Skamby", railway = :station {
        track(ob[:ska - 0.5sw, :ska + 0.5sw]);
        marker(:right :de.bf, ob[:ska] >> 0.5mt);
        slabel(:top, ob[:ska] >> 0.5mt >> 1sh + (-2dt, -0.3dt),
            "Skamby"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:ska + 0.49sw, :ros - 0.49sw]);
    }

    with link = "point.dk.Rostrup", railway = :station {
        track(ob[:ros - 0.5sw, :ros + 0.5sw]);
        marker(:right :de.hp, ob[:ros] >> 0.5mt);
        slabel(:bottom, ob[:ros] << 0.5mt + (0dt, 0.3dt),
            "Rostrup"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:ros + 0.49sw, :jul - 0.49sw]);
    }

    with link = "point.dk.Jullerup", railway = :station {
        track(ob[:jul - 0.5sw, :jul + 0.5sw]);
        marker(:right :de.bf, ob[:jul] >> 0.5mt);
        slabel(:top, ob[:jul] >> 0.5mt >> 1sh + (0dt, -0.3dt),
            "Jullerup"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:jul + 0.49sw, :gul - 0.49sw]);
    }

    with link = "point.dk.Guldbjerg", railway = :station {
        track(ob[:gul - 0.5sw, :gul + 0.5sw]);
        marker(:right :de.bf, ob[:gul] >> 0.5mt);
        slabel(:right, ob[:gul] >> 0.5mt >> 1sh + (1.3dt, -0.3dt),
            "Guldbjerg"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:gul + 0.49sw, :gul + 1.4km]);
        line_label(:left:ne, ob[:gul + 1.4km] << 0.5mt, "OBO");
        track(ob[:gul + 1.4km, :har - 0.49sw]);
    }

    with link = "point.dk.Harritslev", railway = :station {
        track(ob[:har - 0.5sw, :har + 0.5sw]);
        marker(:left :de.hp, ob[:har] << 0.5mt);
        slabel(:right, ob[:har] >> 0.5mt + (1.3dt, 0.3dt),
            "Harritslev"
        );
    }

    with link = "line.dk.OBO" {
        track(ob[:har + 0.49sw, :bog.yb - 1seg]);
    }

    with link = "point.dk.Bogense", railway = :station {
        track(ob[:bog.yb, :bog + 0.5sw] << 1mt << 1ms);
        track(ob[:bog.yb - 1seg, :bog + 0.5sw]);
        marker(:right :de.bf, ob[:bog] >> 0.5mt);
        slabel(:right :bold, ob[:bog] >> 0.5mt >> 1sh + (1.5dt, 0dt),
            "Bogense"
        );
    }
}

