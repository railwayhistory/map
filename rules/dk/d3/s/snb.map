# DK SNB.  Svendborg - Nyborg
#
let sn = path("d3.dk.snb");

with detail = 3,
     railway = :first :pax :removed
{
    # point.dk.Svendborg  dk.OSB

    with link = "line.dk.SNB" {
        track(sn[:sve + 0.5sw, :chr - 0.5sw]);
    }

    with link = "point.dk.Christiansminde", railway = :station {
        track(sn[:chr - 0.5sw, :chr + 0.5sw]);
        marker(:right :de.hp, sn[:chr] >> 0.5mt);
        slabel(:nw, sn[:chr] >> 0.5mt >> 1sh + (-5dt, 0.3dt),
            "Christiansminde"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:chr + 0.5sw, :chr + 1.3km]);
        line_label(:left:se, sn[:chr + 1.3km] << 0.5mt, "SNB");
        track(sn[:chr + 1.3km, :hol - 0.5sw]);
    }

    with link = "point.dk.Holmdrup", railway = :station {
        track(sn[:hol - 0.5sw, :hol + 0.5sw]);
        marker(:right :de.hp, sn[:hol] >> 0.5mt);
        slabel(:right, sn[:hol] >> 0.5mt >> 1sh + (1dt, 1dt),
            "Holmdrup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:hol + 0.5sw, :ska - 0.5sw]);
    }

    with link = "point.dk.Skårup", railway = :station {
        track(sn[:ska - 0.5sw, :ska + 0.5sw]);
        marker(:left :de.bf, sn[:ska] << 0.5mt);
        slabel(:left, sn[:ska] << 0.5mt << 1sh + (-1.3dt, 0.8dt),
            "Skårup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:ska + 0.5sw, :vej - 0.5sw]);
    }

    with link = "point.dk.Vejstrup", railway = :station {
        track(sn[:vej - 0.5sw, :vej + 0.5sw]);
        marker(:right :de.bf, sn[:vej] >> 0.5mt);
        slabel(:right, sn[:vej] >> 0.5mt >> 1sh + (1.3dt, 1.2dt),
            "Vejstrup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:vej + 0.5sw, :our - 0.5sw]);
    }

    with link = "point.dk.Oure", railway = :station {
        track(sn[:our - 0.5sw, :our + 0.5sw]);
        marker(:right :de.bf, sn[:our] >> 0.5mt);
        slabel(:right, sn[:our] >> 0.5mt >> 1sh + (1dt, 1.5dt),
            "Oure"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:our + 0.5sw, :gud - 0.5sw]);
    }

    with link = "point.dk.Gudme", railway = :station {
        track(sn[:gud - 0.5sw, :gud + 0.5sw]);
        marker(:left :de.bf, sn[:gud] << 0.5mt);
        slabel(:left, sn[:gud] << 0.5mt << 1sh + (-1.1dt, 1dt),
            "Gudme"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:gud + 0.5sw, :hes - 0.5sw]);
    }

    with link = "point.dk.Hesselager", railway = :station {
        track(sn[:hes - 0.5sw, :hes + 0.5sw]);
        marker(:right :de.bf, sn[:hes] >> 0.5mt);
        slabel(:right, sn[:hes] >> 0.5mt >> 1sh + (1dt, 1.3dt),
            "Hesselager"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:hes + 0.5sw, :hes + 1.2km]);
        line_label(:left:e, sn[:hes + 1.2km] << 0.5mt, "SNB");
        track(sn[:hes + 1.2km, :ryg - 0.5sw]);
    }

    with link = "point.dk.Rygård", railway = :station {
        track(sn[:ryg - 0.5sw, :ryg + 0.5sw]);
        marker(:right :de.bf, sn[:ryg] >> 0.5mt);
        slabel(:right, sn[:ryg] >> 0.5mt >> 1sh + (1dt, 1.1dt),
            "Rygård"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:ryg + 0.5sw, :glo - 0.5sw]);
    }

    with link = "point.dk.Glorup", railway = :station {
        track(sn[:glo - 0.5sw, :glo + 0.5sw]);
        marker(:left :de.hp, sn[:glo] << 0.5mt);
        slabel(:left, sn[:glo] << 0.5mt << 1sh + (-1.1dt, 1dt),
            "Glorup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:glo + 0.5sw, :oks - 0.5sw]);
    }

    with link = "point.dk.Øksendrup", railway = :station {
        track(sn[:oks - 0.5sw, :oks + 0.5sw]);
        marker(:right :de.bf, sn[:oks] >> 0.5mt);
        slabel(:right, sn[:oks] >> 0.5mt >> 1sh + (1dt, 1.1dt),
            "Øksendrup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:oks + 0.5sw, :fro - 0.5sw]);
    }

    with link = "point.dk.Frørup", railway = :station {
        track(sn[:fro - 0.5sw, :fro + 0.5sw]);
        marker(:left :de.bf, sn[:fro] << 0.5mt);
        slabel(:left, sn[:fro] << 0.5mt << 1sh + (-1.1dt, 0.8dt),
            "Frørup"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:fro + 0.5sw, :slu - 0.5sw]);
    }

    with link = "point.dk.Slude", railway = :station {
        track(sn[:slu - 0.5sw, :slu + 0.5sw]);
        marker(:left :de.hst, sn[:slu] << 0.5mt);
        slabel(:left, sn[:slu] << 0.5mt << 1sh + (-1dt, 1dt),
            "Slude"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:slu + 0.5sw, :kog - 0.5sw]);
    }

    with link = "point.dk.Kogsbølle", railway = :station {
        track(sn[:kog - 0.5sw, :kog + 0.5sw]);
        marker(:left :de.hp, sn[:kog] << 0.5mt);
        slabel(:right, sn[:kog] >> 0.5mt + (1dt, 1dt),
            "Kogsbølle"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:kog + 0.5sw, :byn - 0.5sw]);
    }

    with link = "point.dk.Bynkel", railway = :station {
        track(sn[:byn - 0.5sw, :byn + 0.5sw]);
        marker(:left :de.hst, sn[:byn] << 0.5mt);
        slabel(:right, sn[:byn] >> 0.5mt + (1dt, 1dt),
            "Bynkel"
        );
    }

    with link = "line.dk.SNB" {
        track(sn[:byn + 0.5sw, :byn + 2.6km]);
        line_label(:left:s, sn[:byn + 2.6km] << 0.5mt, (-0.1dt, 0dt), "SNB");
        track(sn[:byn + 2.6km, :nys - 0.5sw]);
    }

    with link = "point.dk.Nyborg-Syd", railway = :station {
        track(sn[:nys - 0.5sw, :nys + 0.5sw]);
        marker(:right :de.bf, sn[:nys] >> 0.5mt);
    }

    with link = "line.dk.SNB" {
        track(
                sn[:nys + 0.49sw, :nys + 0.5sw]
            ..  path("d3.dk.nyb")
                    [:nyf + 0.5sw, :nyf + 0.49sw] << 0.5md << 1ms << 0.5mt
        );
    }

    # point.dk.Nyborg-Færge  dk.NYB
}

