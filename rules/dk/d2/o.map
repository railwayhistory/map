# DK OBO.  Odense - Bogense
with detail = 2 {
    let ob = path("d2.dk.obo");

    with railway = :first :pax :removed {
        with link = "line.dk.OBO" {
            track(ob[:ode.yb, :ode.ym]);
            track(ob[:ode.ym, :ode.ym + 4.5km]);
            line_label(:right:w, ob[:ode.ym + 4.5km], "OBO");
            track(ob[:ode.ym + 4.5km, :bog.yb - 6km]);
            line_label(:right:s, ob[:bog.yb - 6km], (0.8dt, 0dt), "OBO");
            track(ob[:bog.yb - 6km, :bog.yb]);
        }

        with link = "point.dk.Bogense" {
            track(ob[:bog.yb, :bog.f]);
            statdot(ob[:bog]);
            slabel(:top, ob[:bog] + (0dt, -0.8dt), "Bogense");
        }
    }
}


# DK ODS.  Odense Syd - Odense Kløvermosevej
with detail = 2 {
    let os = path("d2.dk.ods");

    with railway = :first :pax :removed {
        with link = "point.dk.Odense-Syd" {
            statdot(os[:ods]);
        }

        with link = "line.dk.ODS" {
            track(os[:ods, :osy.ys]);
        }
    }
}


# DK OHN.  Orehoved - Nørre Alslev
with detail = 2 {
    let on = path("d2.dk.ohn");

    with railway = :first :pax :removed {
        with link = "point.dk.Orehoved" {
            statdot(on[:ore]);
            slabel(:left, on[:ore] + (-1.5dt, 0.8dt), "Orehoved");
        }

        with link = "line.dk.OHN" {
            track(on[:ore, :ore + 1.3km]);
            line_label(:right:e, on[:ore + 1.3km], (0dt, 0.2dt), "OHN");
            track(on[:ore + 1.3km, :nal.yo]);
        }
    }
}


# DK OKM.  Odense - Kertminde - Martofte
with detail = 2 {
    let om = path("d2.dk.okm");

    with railway = :first :pax :removed {
        with link = "line.dk.OKM" {
            track(om[:ode.ym, :ode.ym + 7.5km]);
            line_label(:left:se, om[:ode.ym + 7.5km], "OKM");
            track(om[:ode.ym + 7.5km, :mar - 8km]);
            line_label(:right:w, om[:mar - 8km], "OKM");
            track(om[:mar - 8km, :mar]);
        }

        with link = "point.dk.Martofte" {
            statdot(om[:mar]);
            slabel(:top, om[:mar] + (-0.5dt, -0.8dt), "Martofte");
        }
    }
}


# DK OMF.  Odense - Brenderup - Middelfart
with detail = 2 {
    let om = path("d2.dk.omf");

    with railway = :first :pax :removed {
        with link = "line.dk.OMF" {
            track(om[:ode.ym, :ode.ym + 5km]);
            line_label(:right:s, om[:ode.ym + 5km], "OMF");
            track(om[:ode.ym + 5km, :bre.yb]);
            line_label(:left:n, om[:bre.yb - 5.2km], (0.8dt, 0dt), "OMF");
        }

        with link = "point.dk.Brenderup" {
            track(om[:bre.yb, :bre]);
            statdot(om[:bre]);
            slabel(:left, om[:bre] + (2dt, -1.6dt), "Brenderup");
        }

        with link = "line.dk.OMF" {
            track(om[:bre, :mig.yo - 5km]);
            line_label(:right:sw, om[:mig.yo - 5km], "OMF");
            track(om[:mig.yo - 5km, :mig.yo]);
        }

        # point.dk.Middelfart-gamle

        with link = "line.dk.OMF" {
            track(om[:mig.ym, :mid.yb]);
        }
    }
}


# DK ONF.  (Odense -) Fruens Bøge - Nørre Broby - Faaborg
with detail = 2 {
    let of = path("d2.dk.onf");

    with railway = :first :pax :removed {
        with link = "line.dk.ONF" {
            track(of[:fru.yf, :fru.yf + 7km]);
            line_label(:right:e, of[:fru.yf + 7km], "ONF");
            track(of[:fru.yf + 7km, :faa - 8km]);
            line_label(:right:e, of[:faa - 8km], "ONF");
            track(of[:faa - 8km, :faa]);
        }
    }
}


# DK OSB.  Odense - Svendborg
with detail = 2 {
    let os = path("d2.dk.osb");

    with railway = :first :pax {
        with link = "line.dk.OSB" {
            track(os[:ode.ys, :fru]);
        }

        with link = "point.dk.Fruens-Bøge" {
            track(os[:fru, :fru.yf]);
            statdot(os[:fru]);
            slabel(:right, os[:fru] + (1.5dt, 0.8dt), "Fruens Bøge");
        }

        with link = "line.dk.OSB" {
            track(os[:fru.yf, :fru.yf + 6km]);
            line_label(:right:e, os[:fru.yf + 6km], (0dt, 0.2dt), "OSB");
            track(os[:fru.yf + 6km, :rin.yn]);
        }

        with link = "point.dk.Ringe" {
            track(os[:rin.yn, :rin.yf]);
            statdot(os[:rin]);
            slabel(:left, os[:rin] + (-1.5dt, 0.8dt), "Ringe");
        }

        with link = "line.dk.OSB" {
            track(os[:rin.yf, :rin.yf + 8km]);
            line_label(:left:w, os[:rin.yf + 8km], "OSB");
            track(os[:rin.yf + 8km, :sve.yf]);
        }

        with link = "point.dk.Svendborg" {
            track(os[:sve.yf, :sve]);
            statdot(os[:sve]);
            slabel(:nw, os[:sve] + (0.8dt, 0.5dt), "Svendborg");
        }
    }
}

