# DK NKG.  Nykøbing Falster - Gedser
with detail = 2 {
    let ng = path("d2.dk.nkg");

    with railway = :first :nopax {
        with link = "line.dk.NKG" {
            track(ng[:nyk.yg, :nyk.yg + 12km]);
            line_label(:left:w, ng[:nyk + 12km], "NKG");
            track(ng[:nyk.yg + 12km, :ged]);
        }

        with link = "point.dk.Gedser" {
            statdot(ng[:ged]);
            slabel(:bottom, ng[:ged] + (0dt, 0.9dt), "Gedser");
        }
    }
}


# DK NKN.  Nakskov - Kragenæs
with detail = 2 {
    let nk = path("d2.dk.nkn");

    with railway = :first :pax :removed {
        with link = "line.dk.NKN" {
            track(nk[:nak, :nak + 10.7km]);
            line_label(:left:se, nk[:nak + 10.7km], "NKN");
            track(nk[:nak + 10.7km, :tor]);
        }

        with link = "point.dk.Torrig" {
            track(nk[:tor, :tor.ym]);
            statdot(nk[:tor]);
            slabel(:ne, nk[:tor] + (-0.5dt, 0.6dt), "Torrig");
        }

        with link = "line.dk.NKN" {
            track(nk[:tor.ym, :kra]);
        }

        with link = "point.dk.Kragenæs" {
            statdot(nk[:kra]);
            slabel(:right, nk[:kra] + (1.5dt, 0.8dt), "Kragenæs");
        }
    }
}


# DK NNS.  Nykøbing Falster Vest - Nakskov
with detail = 2 {
    let nn = path("d2.dk.nns");

    with railway = :first :pax {
        with link = "line.dk.NNS" {
            track(nn[:nyv, :oto.yn]);
            track(nn[:oto.yn, :oto]);
            track(nn[:oto, :oto + 11km]);
            line_label(:right:s, nn[:oto + 11km], "NNS");
            track(nn[:oto + 11km, :mar.yb]);
        }

        with link = "point.dk.Maribo" {
            track(nn[:mar.yb, :mar.yr]);
            statdot(nn[:mar]);
            slabel(:nw, nn[:mar] + (-0.3dt, 0.8dt), "Maribo");
        }

        with link = "line.dk.NNS" {
            track(nn[:mar.yr, :mar.yt]);
            track(nn[:mar.yt, :mar.yt + 10km]);
            line_label(:left:n, nn[:mar.yt + 10km], (-0.8dt, 0dt), "NNS");
            track(nn[:mar.yt + 10km, :nak.yr]);
        }

        with link = "point.dk.Nakskov" {
            track(nn[:nak.yr, :nak]);
            statdot(nn[:nak]);
            slabel(:ne, nn[:nak] + (0dt, 0.5dt), "Nakskov");
        }
    }
}


# DK NPM.  Næstved - Præstø - Mern
with detail = 2 {
    let np = path("d2.dk.npm.1");
    let pm = path("d2.dk.npm.2");

    with railway = :first :pax :removed {
        with link = "line.dk.NPM" {
            track(np[:nas.yp, :nas.yp + 10.3km]);
            line_label(:left:sw, np[:nas.yp + 10.3km], "NPM");
            track(np[:nas.yp + 10.3km, :pra.ym]);
        }

        with link = "point.dk.Præstø" {
            track(np[:pra.ym, :pra]);
            statdot(np[:pra]);
            slabel(:right, np[:pra] + (1.5dt, 0.8dt), "Præstø");
        }

        with link = "line.dk.NPM" {
            track(pm[:pra.ym, :pra.ym + 4km]);
            line_label(:right:e, pm[:pra.ym + 4km], (0dt, 0.1dt), "NPM");
            track(pm[:pra.ym + 4km, :mer]);
        }

        with link = "point.dk.Mern" {
            statdot(pm[:mer]);
            slabel(:right, pm[:mer] + (1.5dt, 1dt), "Mern");
        }
    }
}


# DK NRF.  Nyborg - Ringe - Faaborg
with detail = 2 {
    let nf = path("d2.dk.nrf");

    with railway = :first :pax :removed {
        with link = "line.dk.NRF" {
            track(nf[:nyb.yr, :nyb.yr + 11.5km]);
            line_label(:right:se, nf[:nyb.yr + 11.5km], "NRF");
            track(nf[:nyb.yr + 11.5km, :rin.yn]);
        }

        # point.dk.Ringe  dk.OSB

        with link = "line.dk.NRF" {
            track(nf[:rin.yf, :rin.yf + 8.4km]);
            line_label(:right:s, nf[:rin.yf + 8.4km], (-0.5dt, 0dt), "NRF");
            track(nf[:rin.yf + 8.4km, :kor]);
        }
    }

    with railway = :first :museum {
        with link = "point.dk.Korinth" {
            statdot(nf[:kor]);
            slabel(:right, nf[:kor] + (1.5dt, 0.8dt), "Korinth");
        }

        with link = "line.dk.NRF" {
            track(nf[:kor, :kor + 3.5km]);
            line_label(:left:w, nf[:kor + 3.5km], "NRF");
            track(nf[:kor + 3.5km, :kat.ys]);
        }

        with link = "point.dk.Katterød" {
            track(nf[:kat.ys, :kat]);
            statdot(nf[:kat]);
            slabel(:nw, nf[:kat] + (-2dt, 0.9dt), "Katterød");
        }

        with link = "line.dk.NRF" {
            track(nf[:kat, :kat + 2km]);
            line_label(:right:s, nf[:kat + 2km], (0.2dt, 0dt), "NRF");
            track(nf[:kat + 2km, :faa]);
        }

        with link = "point.dk.Faaborg" {
            statdot(nf[:faa]);
            slabel(:ne, nf[:faa] + (-0.3dt, 0.5dt), "Faaborg");
        }
    }
}


# DK NRY.  Nakskov - Rødby
with detail = 2 {
    let nr = path("d2.dk.nry");

    with railway = :first :pax :removed {
        with link = "line.dk.NRY" {
            track(nr[:nak.yr, :rod.yn - 15km]);
            line_label(:right:n, nr[:rod.yn - 15km], "NRY");
            track(nr[:rod.yn - 15km, :rod.yn]);
        }
    }
}


# DK NSH.  Nyborg - Slipshavn
with detail = 2 {
    let ns = path("d2.dk.nsh");

    with railway = :first :pax :removed {
        with link = "line.dk.NSH" {
            track(ns[:nyf.ys, :sli]);
        }

        with link = "point.dk.Slipshavn" {
            statdot(ns[:sli]);
            slabel(:bottom, ns[:sli] + (0dt, 1dt), "Slipshavn");
        }
    }
}


# DK NYB.  Nyborg Færge - Nyborg
with detail = 2 {
    let nn = path("d2.dk.nyb");

    with railway = :first :double :pax :removed {
        with link = "point.dk.Nyborg-Færge" {
            statdot(nn[:nyf]);
        }

        with link = "line.dk.NYB" {
            track(nn[:nyf, :nyb.yn]);
        }
    }
}

