# DK HFH.  Hillerød - Frederiksværk - Hundested Havn
with detail = 2 {
    let hh = path("d2.dk.hfh");

    with railway = :first :pax {
        with link = "line.dk.HFH" {
            track(hh[:hil.yh, :bro.ys]);
            track(hh[:bro.ys, :bro.ys + 2km]);
            line_label(:right:s, hh[:bro.ys + 2km], "HFH");
            track(hh[:bro.ys + 2km, :ska.yh]);
        }

        with link = "point.dk.Skævinge" {
            track(hh[:ska.yh, :ska]);
            statdot(hh[:ska]);
            slabel(:ne, hh[:ska] + (0dt, 0.8dt), "Skævinge");
        }

        with link = "line.dk.HFH" {
            track(hh[:ska, :ska + 9.2km]);
            line_label(:left:ne, hh[:ska + 9.2km], "HFH");
            track(hh[:ska + 9.2km, :huh]);
        }

        with link = "point.dk.Hundested-Havn" {
            statdot(hh[:huh]);
            slabel(:left, hh[:huh] + (-1.5dt, 0.8dt), "Hundested Havn");
        }
    }
}


# DK HHS.  Hellerup - Hillerød - Snekkersten
with detail = 2 {
    let hs = path("d2.dk.hhs");

    with railway = :first :double :cat:dc15 :pax {
        with link = "line.dk.HHS" {
            track(
                    hs[:hel.yh - 0.1dl, :hel.yh] << 1md << 1ms
                ..  hs[:hel.xh + 1.5km, :jag]
            );
        }

        with link = "point.dk.Jægersborg" {
            statdot(hs[:jag]);
        }

        with link = "line.dk.HHS" {
            track(hs[:jag, :lyn.yv]);
        }

        with link = "point.dk.Lyngby" {
            track(hs[:lyn.yv, :lyn]);
            statdot(hs[:lyn]);
        }

        with link = "line.dk.HHS" {
            track(hs[:lyn, :lyn + 10.5km]);
            line_label(:right:sw, hs[:lyn + 10.5km], "HHS");
            track(hs[:lyn + 10.5km, :hil.yh]);
            track(hs[:hil.yh, :hil.ys]);
        }

        with link = "point.dk.Hillerød" {
            track(hs[:hil.ys, :hil]);
            track(:nocat, hs[:hil, :hil.yg]);
            statdot(hs[:hil]);
            slabel(:right, hs[:hil] + (1.5dt, 0.8dt), "Hillerød");
        }
    }

    with railway = :first :pax {
        with link = "line.dk.HHS" {
            track(
                    hs[:hil.yg - 0.1dl, :hil.yg] >> 0.5md << 0.5mt
                ..  hs[:hil.xg, :hil.xg + 7.7km]
            );
            line_label(:left:s, hs[:hil.xg + 7.7km], (-0.2dt, 0dt), "HHS");
            track(hs[:hil.xg + 7.7km, :sne.yh]);
        }
        
    }
}


# DK HKG.  Hillerød - Kagerup - Gilleleje
with detail = 2 {
    let hg = path("d2.dk.hkg");

    with railway = :first :pax {
        with link = "line.dk.HKG" {
            track(
                    hg[:hil.yg - 0.1dl, :hil.yg] << 0.5md >> 0.5mt
                ..  hg[:hil.xg + 1md, :hil.yg + 3km]
            );
            line_label(:left:e, hg[:hil.yg + 3km], "HKG");
            track(hg[:hil.yg + 3km, :kag]);
        }

        with link = "point.dk.Kagerup" {
            track(hg[:kag, :kag.yt]);
            statdot(hg[:kag]);
            slabel(:left, hg[:kag] + (-1.5dt, 1.5dt), "Kagerup");
        }

        with link = "line.dk.HKG" {
            track(hg[:kag.yt, :kag.yt + 7.5km]);
            line_label(:right:w, hg[:kag.yt + 7.5km], "HKG");
            track(hg[:kag.yt + 7.5km, :gil]);
        }

        with link = "point.dk.Gilleleje" {
            statdot(hg[:gil]);
            slabel(:top, hg[:gil] + (0dt, -0.8dt), "Gilleleje");
        }
    }
}


# DK HLR.  Hårlev - Rødvig
with detail = 2 {
    let hr = path("d2.dk.hlr");

    with railway = :first :pax {
        with link = "line.dk.HLR" {
            track(hr[:har.yr, :har.yr + 9km]);
            line_label(:left:sw, hr[:har.yr + 9km], "HLR");
            track(hr[:har.yr + 9km, :rod.2024]);
        }

        with link = "point.dk.Rødvig" {
            statdot(hr[:rod.2024]);
            slabel(:left, hr[:rod.2024] + (-1.5dt, 0.8dt), "Rødvig");
        }
    }
}


# DK HNS.  Holbæk - Nykøbing Sjælland
with detail = 2 {
    let hn = path("d2.dk.hns");

    with railway = :first :pax {
        with link = "line.dk.HNS" {
            track(hn[:hol, :hol.yn] >> 0.5md << 0.5mt);
            track(
                    hn[:hol.yn - 0.1dl, :hol.yn] >> 0.5md << 0.5mt
                ..  hn[:hol.xn, :hol.xn + 5km]
            );
            line_label(:right:s, hn[:hol.xn + 5km], "HNS");
            track(hn[:hol.xn + 5km, :hor]);
        }

        with link = "point.dk.Hørve" {
            track(hn[:hor, :hor.yv]);
            statdot(hn[:hor]);
            slabel(:right, hn[:hor] + (1.8dt, 0.5dt), "Hørve");
        }

        with link = "line.dk.HNS" {
            track(hn[:hor.yv, :hor.yv + 6.5km]);
            line_label(:left:se, hn[:hor.yv + 6.5km], "HNS");
            track(hn[:hor.yv + 6.5km, :nyk - 9.5km]);
            line_label(:right:w, hn[:nyk - 9.5km], "HNS");
            track(hn[:nyk - 9.5km, :nyk]);
        }

        with link = "point.dk.Nykøbing-Sjælland" {
            statdot(hn[:nyk]);
            slabel(:right, hn[:nyk] + (1.5dt, 0.8dt),
                "Nykøbing Sjælland"
            );
        }
    }
}


# DK HRG.  Helsingør - Gilleleje
with detail = 2 {
    let hg = path("d2.dk.hrg");

    with railway = :first :pax {
        with link = "line.dk.HRG" {
            track(hg[:hor, :hor + 12.6km]);
            line_label(:right:sw, hg[:hor + 12.6km], "HRG");
            track(hg[:hor + 12.6km, :gil]);
        }
    }
}


# DK HRS.  Hillerød - Harløse - Skævinge
with detail = 2 {
    let hs = path("d2.dk.hrs");

    with railway = :first :pax :removed {
        with link = "line.dk.HRS" {
            track(hs[:hil.ys, :hil.ys + 5km]);
            line_label(:right:s, hs[:hil.ys + 5km], "HRS");
            track(hs[:hil.ys + 5km, :ska.yh]);
        }
    }
}


# DK HTL.  Høng - Tølløse
with detail = 2 {
    let ht = path("d2.dk.htl");

    with railway = :first :pax {
        with link = "line.dk.HTL" {
            track(ht[:hon.yt, :hon.yt + 8km]);
            line_label(:left:s, ht[:hon.yt + 8km], "HTL");
            track(ht[:hon.yt + 8km, :ved.ys]);
        }

        with link = "point.dk.Vedde" {
            track(ht[:ved.ys, :ved]);
            statdot(ht[:ved]);
            slabel(:left, ht[:ved] + (1dt, -1.5dt), "Vedde");
        }

        with link = "line.dk.HTL" {
            track(ht[:ved, :tol.yh - 6km]);
            line_label(:left:se, ht[:tol.yh - 6km], "HTL");
            track(ht[:tol.yh - 6km, :tol.yh]);
        }
    }
}


# DK HVL.  Hørve - Værslev
with detail = 2 {
    let hv = path("d2.dk.hvl");

    with railway = :first :pax :removed {
        with link = "line.dk.HVL" {
            track(hv[:hor.yv, :var.ys]);
            line_label(:right:s, hv[:hor.yv + 9km], (-0.4dt, 0dt), "HVL");
        }
    }
}

