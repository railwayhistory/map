with detail = 1 {
    with link = "line.lt.KD" {
        track(:third :g1000 :removed, path("d1.lt.kd")[:kla.yp, :pez]);
    }

    with link = "line.lt.KI" {
        track(:third :g1000 :removed, path("d1.lt.ki")[:kle, :pli]);
    }

    with link = "line.lt.KK" {
        let kk = path("d1.lt.kk");

        track(:first :double :g1520 :cat:ac25 :pax, kk[:kai.yk, :kau]);
        track(:first :double :g1520 :pax, kk[:kau, :kys]);

        slabel(:left :cat:ac25 :pax :bold, kk[:kau] + (-1.8dt, 0.5dt),
            "Kaunas"
        );
    }

    with link = "line.lt.KL" {
        let kl = path("d1.lt.kl");

        track(:first :g1520 :pax, kl[:kuz.ym, :maz]);
        track(:first :g1520 :nopax, kl[:maz, :ven.yb]);
        track(:first :g1520 :suspended, kl[:ven.yb, :lss]);
    }

    with link = "line.lt.KM" {
        let km = path("d1.lt.km");

        track(:first :g1520 :pax, km[:kaz.ys, :moc]);
        track(:first :narrow :pax, km[:moc, :mos]);
    }

    with link = "line.lt.KP" {
        let kp = path("d1.lt.kp");

        track(:first :g1520 :pax, kp[:kla, :sil]);
        track(:first :g1520 :nopax, kp[:sil, :pag.yk]);
    }

    with link = "line.lt.KR" {
        track(:third :g600 :removed, path("d1.lt.kr")[:kaz, :pav]);
    }

    with link = "line.lt.KS" {
        let ks = path("d1.lt.ks");

        track(:second :g1520 :nopax, ks[:kre.ys, :dar]);
        track(:second :g1520 :suspended, ks[:dar, :sks]);
    }

    with link = "line.lt.KV" {
        track(:first :double :g1520 :nopax,
                path("d1.lt.kv")[:kyv.yv, :juo.yk]
        );
    }
}

